var Eg=Object.defineProperty;var Pg=(n,e,t)=>e in n?Eg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var wh=(n,e,t)=>Pg(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Lg(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),t}var lf={exports:{}},vo={},af={exports:{}},A={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $s=Symbol.for("react.element"),Mg=Symbol.for("react.portal"),$g=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),zg=Symbol.for("react.provider"),Ig=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Ag=Symbol.for("react.suspense"),Fg=Symbol.for("react.memo"),Ug=Symbol.for("react.lazy"),xh=Symbol.iterator;function Vg(n){return n===null||typeof n!="object"?null:(n=xh&&n[xh]||n["@@iterator"],typeof n=="function"?n:null)}var uf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hf=Object.assign,cf={};function bi(n,e,t){this.props=n,this.context=e,this.refs=cf,this.updater=t||uf}bi.prototype.isReactComponent={};bi.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};bi.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function df(){}df.prototype=bi.prototype;function au(n,e,t){this.props=n,this.context=e,this.refs=cf,this.updater=t||uf}var uu=au.prototype=new df;uu.constructor=au;hf(uu,bi.prototype);uu.isPureReactComponent=!0;var bh=Array.isArray,ff=Object.prototype.hasOwnProperty,hu={current:null},pf={key:!0,ref:!0,__self:!0,__source:!0};function mf(n,e,t){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)ff.call(e,i)&&!pf.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:$s,type:n,key:r,ref:o,props:s,_owner:hu.current}}function Bg(n,e){return{$$typeof:$s,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function cu(n){return typeof n=="object"&&n!==null&&n.$$typeof===$s}function Wg(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var _h=/\/+/g;function Jo(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Wg(""+n.key):e.toString(36)}function _r(n,e,t,i,s){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case $s:case Mg:o=!0}}if(o)return o=n,s=s(o),n=i===""?"."+Jo(o,0):i,bh(s)?(t="",n!=null&&(t=n.replace(_h,"$&/")+"/"),_r(s,e,t,"",function(u){return u})):s!=null&&(cu(s)&&(s=Bg(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_h,"$&/")+"/")+n)),e.push(s)),1;if(o=0,i=i===""?".":i+":",bh(n))for(var l=0;l<n.length;l++){r=n[l];var a=i+Jo(r,l);o+=_r(r,e,t,a,s)}else if(a=Vg(n),typeof a=="function")for(n=a.call(n),l=0;!(r=n.next()).done;)r=r.value,a=i+Jo(r,l++),o+=_r(r,e,t,a,s);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ws(n,e,t){if(n==null)return n;var i=[],s=0;return _r(n,i,"","",function(r){return e.call(t,r,s++)}),i}function Hg(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ce={current:null},Sr={transition:null},Kg={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Sr,ReactCurrentOwner:hu};function gf(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:Ws,forEach:function(n,e,t){Ws(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Ws(n,function(){e++}),e},toArray:function(n){return Ws(n,function(e){return e})||[]},only:function(n){if(!cu(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};A.Component=bi;A.Fragment=$g;A.Profiler=Rg;A.PureComponent=au;A.StrictMode=Og;A.Suspense=Ag;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kg;A.act=gf;A.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=hf({},n.props),s=n.key,r=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=hu.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(a in e)ff.call(e,a)&&!pf.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:$s,type:n.type,key:s,ref:r,props:i,_owner:o}};A.createContext=function(n){return n={$$typeof:Ig,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:zg,_context:n},n.Consumer=n};A.createElement=mf;A.createFactory=function(n){var e=mf.bind(null,n);return e.type=n,e};A.createRef=function(){return{current:null}};A.forwardRef=function(n){return{$$typeof:Dg,render:n}};A.isValidElement=cu;A.lazy=function(n){return{$$typeof:Ug,_payload:{_status:-1,_result:n},_init:Hg}};A.memo=function(n,e){return{$$typeof:Fg,type:n,compare:e===void 0?null:e}};A.startTransition=function(n){var e=Sr.transition;Sr.transition={};try{n()}finally{Sr.transition=e}};A.unstable_act=gf;A.useCallback=function(n,e){return Ce.current.useCallback(n,e)};A.useContext=function(n){return Ce.current.useContext(n)};A.useDebugValue=function(){};A.useDeferredValue=function(n){return Ce.current.useDeferredValue(n)};A.useEffect=function(n,e){return Ce.current.useEffect(n,e)};A.useId=function(){return Ce.current.useId()};A.useImperativeHandle=function(n,e,t){return Ce.current.useImperativeHandle(n,e,t)};A.useInsertionEffect=function(n,e){return Ce.current.useInsertionEffect(n,e)};A.useLayoutEffect=function(n,e){return Ce.current.useLayoutEffect(n,e)};A.useMemo=function(n,e){return Ce.current.useMemo(n,e)};A.useReducer=function(n,e,t){return Ce.current.useReducer(n,e,t)};A.useRef=function(n){return Ce.current.useRef(n)};A.useState=function(n){return Ce.current.useState(n)};A.useSyncExternalStore=function(n,e,t){return Ce.current.useSyncExternalStore(n,e,t)};A.useTransition=function(){return Ce.current.useTransition()};A.version="18.3.1";af.exports=A;var $=af.exports;const qg=Tg($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=$,Gg=Symbol.for("react.element"),Qg=Symbol.for("react.fragment"),Xg=Object.prototype.hasOwnProperty,Yg=Jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zg={key:!0,ref:!0,__self:!0,__source:!0};function vf(n,e,t){var i,s={},r=null,o=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Xg.call(e,i)&&!Zg.hasOwnProperty(i)&&(s[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:Gg,type:n,key:r,ref:o,props:s,_owner:Yg.current}}vo.Fragment=Qg;vo.jsx=vf;vo.jsxs=vf;lf.exports=vo;var c=lf.exports,yf={exports:{}},Ue={},wf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(C,T){var M=C.length;C.push(T);e:for(;0<M;){var W=M-1>>>1,ae=C[W];if(0<s(ae,T))C[W]=T,C[M]=ae,M=W;else break e}}function t(C){return C.length===0?null:C[0]}function i(C){if(C.length===0)return null;var T=C[0],M=C.pop();if(M!==T){C[0]=M;e:for(var W=0,ae=C.length,Vs=ae>>>1;W<Vs;){var on=2*(W+1)-1,qo=C[on],ln=on+1,Bs=C[ln];if(0>s(qo,M))ln<ae&&0>s(Bs,qo)?(C[W]=Bs,C[ln]=M,W=ln):(C[W]=qo,C[on]=M,W=on);else if(ln<ae&&0>s(Bs,M))C[W]=Bs,C[ln]=M,W=ln;else break e}}return T}function s(C,T){var M=C.sortIndex-T.sortIndex;return M!==0?M:C.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,d=null,f=3,p=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var T=t(u);T!==null;){if(T.callback===null)i(u);else if(T.startTime<=C)i(u),T.sortIndex=T.expirationTime,e(a,T);else break;T=t(u)}}function x(C){if(g=!1,w(C),!v)if(t(a)!==null)v=!0,D(_);else{var T=t(u);T!==null&&B(x,T.startTime-C)}}function _(C,T){v=!1,g&&(g=!1,y(E),E=-1),p=!0;var M=f;try{for(w(T),d=t(a);d!==null&&(!(d.expirationTime>T)||C&&!te());){var W=d.callback;if(typeof W=="function"){d.callback=null,f=d.priorityLevel;var ae=W(d.expirationTime<=T);T=n.unstable_now(),typeof ae=="function"?d.callback=ae:d===t(a)&&i(a),w(T)}else i(a);d=t(a)}if(d!==null)var Vs=!0;else{var on=t(u);on!==null&&B(x,on.startTime-T),Vs=!1}return Vs}finally{d=null,f=M,p=!1}}var k=!1,S=null,E=-1,U=5,O=-1;function te(){return!(n.unstable_now()-O<U)}function Xe(){if(S!==null){var C=n.unstable_now();O=C;var T=!0;try{T=S(!0,C)}finally{T?Re():(k=!1,S=null)}}else k=!1}var Re;if(typeof m=="function")Re=function(){m(Xe)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,P=be.port2;be.port1.onmessage=Xe,Re=function(){P.postMessage(null)}}else Re=function(){b(Xe,0)};function D(C){S=C,k||(k=!0,Re())}function B(C,T){E=b(function(){C(n.unstable_now())},T)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_continueExecution=function(){v||p||(v=!0,D(_))},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(a)},n.unstable_next=function(C){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var M=f;f=T;try{return C()}finally{f=M}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(C,T){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=f;f=C;try{return T()}finally{f=M}},n.unstable_scheduleCallback=function(C,T,M){var W=n.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?W+M:W):M=W,C){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=M+ae,C={id:h++,callback:T,priorityLevel:C,startTime:M,expirationTime:ae,sortIndex:-1},M>W?(C.sortIndex=M,e(u,C),t(a)===null&&C===t(u)&&(g?(y(E),E=-1):g=!0,B(x,M-W))):(C.sortIndex=ae,e(a,C),v||p||(v=!0,D(_))),C},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(C){var T=f;return function(){var M=f;f=T;try{return C.apply(this,arguments)}finally{f=M}}}})(xf);wf.exports=xf;var e0=wf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0=$,Fe=e0;function j(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bf=new Set,as={};function Tn(n,e){ui(n,e),ui(n+"Capture",e)}function ui(n,e){for(as[n]=e,n=0;n<e.length;n++)bf.add(e[n])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,n0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sh={},kh={};function i0(n){return Ql.call(kh,n)?!0:Ql.call(Sh,n)?!1:n0.test(n)?kh[n]=!0:(Sh[n]=!0,!1)}function s0(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function r0(n,e,t,i){if(e===null||typeof e>"u"||s0(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ne(n,e,t,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){me[n]=new Ne(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];me[e]=new Ne(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){me[n]=new Ne(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){me[n]=new Ne(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){me[n]=new Ne(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){me[n]=new Ne(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){me[n]=new Ne(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){me[n]=new Ne(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){me[n]=new Ne(n,5,!1,n.toLowerCase(),null,!1,!1)});var du=/[\-:]([a-z])/g;function fu(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(du,fu);me[e]=new Ne(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(du,fu);me[e]=new Ne(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(du,fu);me[e]=new Ne(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){me[n]=new Ne(n,1,!1,n.toLowerCase(),null,!1,!1)});me.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){me[n]=new Ne(n,1,!1,n.toLowerCase(),null,!0,!0)});function pu(n,e,t,i){var s=me.hasOwnProperty(e)?me[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r0(e,t,s,i)&&(t=null),i||s===null?i0(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,i=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Pt=t0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hs=Symbol.for("react.element"),Un=Symbol.for("react.portal"),Vn=Symbol.for("react.fragment"),mu=Symbol.for("react.strict_mode"),Xl=Symbol.for("react.profiler"),_f=Symbol.for("react.provider"),Sf=Symbol.for("react.context"),gu=Symbol.for("react.forward_ref"),Yl=Symbol.for("react.suspense"),Zl=Symbol.for("react.suspense_list"),vu=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),kf=Symbol.for("react.offscreen"),Ch=Symbol.iterator;function Ni(n){return n===null||typeof n!="object"?null:(n=Ch&&n[Ch]||n["@@iterator"],typeof n=="function"?n:null)}var ee=Object.assign,Go;function Ai(n){if(Go===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Go=e&&e[1]||""}return`
`+Go+n}var Qo=!1;function Xo(n,e){if(!n||Qo)return"";Qo=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var a=`
`+s[o].replace(" at new "," at ");return n.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",n.displayName)),a}while(1<=o&&0<=l);break}}}finally{Qo=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ai(n):""}function o0(n){switch(n.tag){case 5:return Ai(n.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 2:case 15:return n=Xo(n.type,!1),n;case 11:return n=Xo(n.type.render,!1),n;case 1:return n=Xo(n.type,!0),n;default:return""}}function ea(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Vn:return"Fragment";case Un:return"Portal";case Xl:return"Profiler";case mu:return"StrictMode";case Yl:return"Suspense";case Zl:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Sf:return(n.displayName||"Context")+".Consumer";case _f:return(n._context.displayName||"Context")+".Provider";case gu:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case vu:return e=n.displayName||null,e!==null?e:ea(n.type)||"Memo";case Rt:e=n._payload,n=n._init;try{return ea(n(e))}catch{}}return null}function l0(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ea(e);case 8:return e===mu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yt(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Cf(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function a0(n){var e=Cf(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ks(n){n._valueTracker||(n._valueTracker=a0(n))}function Nf(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Cf(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Dr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ta(n,e){var t=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Nh(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Yt(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jf(n,e){e=e.checked,e!=null&&pu(n,"checked",e,!1)}function na(n,e){jf(n,e);var t=Yt(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?ia(n,e.type,t):e.hasOwnProperty("defaultValue")&&ia(n,e.type,Yt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function jh(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function ia(n,e,t){(e!=="number"||Dr(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Fi=Array.isArray;function ti(n,e,t,i){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Yt(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function sa(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Eh(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(j(92));if(Fi(t)){if(1<t.length)throw Error(j(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Yt(t)}}function Ef(n,e){var t=Yt(e.value),i=Yt(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function Ph(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Pf(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ra(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Pf(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qs,Tf=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qs.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function us(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u0=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(n){u0.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Wi[e]=Wi[n]})});function Lf(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Wi.hasOwnProperty(n)&&Wi[n]?(""+e).trim():e+"px"}function Mf(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,s=Lf(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,s):n[t]=s}}var h0=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oa(n,e){if(e){if(h0[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function la(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function yu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ua=null,ni=null,ii=null;function Th(n){if(n=zs(n)){if(typeof ua!="function")throw Error(j(280));var e=n.stateNode;e&&(e=_o(e),ua(n.stateNode,n.type,e))}}function $f(n){ni?ii?ii.push(n):ii=[n]:ni=n}function Of(){if(ni){var n=ni,e=ii;if(ii=ni=null,Th(n),e)for(n=0;n<e.length;n++)Th(e[n])}}function Rf(n,e){return n(e)}function zf(){}var Yo=!1;function If(n,e,t){if(Yo)return n(e,t);Yo=!0;try{return Rf(n,e,t)}finally{Yo=!1,(ni!==null||ii!==null)&&(zf(),Of())}}function hs(n,e){var t=n.stateNode;if(t===null)return null;var i=_o(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(j(231,e,typeof t));return t}var ha=!1;if(Ct)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){ha=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{ha=!1}function c0(n,e,t,i,s,r,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var Hi=!1,Ar=null,Fr=!1,ca=null,d0={onError:function(n){Hi=!0,Ar=n}};function f0(n,e,t,i,s,r,o,l,a){Hi=!1,Ar=null,c0.apply(d0,arguments)}function p0(n,e,t,i,s,r,o,l,a){if(f0.apply(this,arguments),Hi){if(Hi){var u=Ar;Hi=!1,Ar=null}else throw Error(j(198));Fr||(Fr=!0,ca=u)}}function Ln(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Df(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Lh(n){if(Ln(n)!==n)throw Error(j(188))}function m0(n){var e=n.alternate;if(!e){if(e=Ln(n),e===null)throw Error(j(188));return e!==n?null:n}for(var t=n,i=e;;){var s=t.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){t=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===t)return Lh(s),n;if(r===i)return Lh(s),e;r=r.sibling}throw Error(j(188))}if(t.return!==i.return)t=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===t){o=!0,t=s,i=r;break}if(l===i){o=!0,i=s,t=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===t){o=!0,t=r,i=s;break}if(l===i){o=!0,i=r,t=s;break}l=l.sibling}if(!o)throw Error(j(189))}}if(t.alternate!==i)throw Error(j(190))}if(t.tag!==3)throw Error(j(188));return t.stateNode.current===t?n:e}function Af(n){return n=m0(n),n!==null?Ff(n):null}function Ff(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Ff(n);if(e!==null)return e;n=n.sibling}return null}var Uf=Fe.unstable_scheduleCallback,Mh=Fe.unstable_cancelCallback,g0=Fe.unstable_shouldYield,v0=Fe.unstable_requestPaint,ie=Fe.unstable_now,y0=Fe.unstable_getCurrentPriorityLevel,wu=Fe.unstable_ImmediatePriority,Vf=Fe.unstable_UserBlockingPriority,Ur=Fe.unstable_NormalPriority,w0=Fe.unstable_LowPriority,Bf=Fe.unstable_IdlePriority,yo=null,mt=null;function x0(n){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(yo,n,void 0,(n.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:S0,b0=Math.log,_0=Math.LN2;function S0(n){return n>>>=0,n===0?32:31-(b0(n)/_0|0)|0}var Js=64,Gs=4194304;function Ui(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vr(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,s=n.suspendedLanes,r=n.pingedLanes,o=t&268435455;if(o!==0){var l=o&~s;l!==0?i=Ui(l):(r&=o,r!==0&&(i=Ui(r)))}else o=t&~s,o!==0?i=Ui(o):r!==0&&(i=Ui(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-it(e),s=1<<t,i|=n[t],e&=~s;return i}function k0(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C0(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,r=n.pendingLanes;0<r;){var o=31-it(r),l=1<<o,a=s[o];a===-1?(!(l&t)||l&i)&&(s[o]=k0(l,e)):a<=e&&(n.expiredLanes|=l),r&=~l}}function da(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Wf(){var n=Js;return Js<<=1,!(Js&4194240)&&(Js=64),n}function Zo(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Os(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-it(e),n[e]=t}function N0(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-it(t),r=1<<s;e[s]=0,i[s]=-1,n[s]=-1,t&=~r}}function xu(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-it(t),s=1<<i;s&e|n[i]&e&&(n[i]|=e),t&=~s}}var H=0;function Hf(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Kf,bu,qf,Jf,Gf,fa=!1,Qs=[],Bt=null,Wt=null,Ht=null,cs=new Map,ds=new Map,Dt=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $h(n,e){switch(n){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":cs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(e.pointerId)}}function Ei(n,e,t,i,s,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=zs(e),e!==null&&bu(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function E0(n,e,t,i,s){switch(e){case"focusin":return Bt=Ei(Bt,n,e,t,i,s),!0;case"dragenter":return Wt=Ei(Wt,n,e,t,i,s),!0;case"mouseover":return Ht=Ei(Ht,n,e,t,i,s),!0;case"pointerover":var r=s.pointerId;return cs.set(r,Ei(cs.get(r)||null,n,e,t,i,s)),!0;case"gotpointercapture":return r=s.pointerId,ds.set(r,Ei(ds.get(r)||null,n,e,t,i,s)),!0}return!1}function Qf(n){var e=pn(n.target);if(e!==null){var t=Ln(e);if(t!==null){if(e=t.tag,e===13){if(e=Df(t),e!==null){n.blockedOn=e,Gf(n.priority,function(){qf(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function kr(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=pa(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);aa=i,t.target.dispatchEvent(i),aa=null}else return e=zs(t),e!==null&&bu(e),n.blockedOn=t,!1;e.shift()}return!0}function Oh(n,e,t){kr(n)&&t.delete(e)}function P0(){fa=!1,Bt!==null&&kr(Bt)&&(Bt=null),Wt!==null&&kr(Wt)&&(Wt=null),Ht!==null&&kr(Ht)&&(Ht=null),cs.forEach(Oh),ds.forEach(Oh)}function Pi(n,e){n.blockedOn===e&&(n.blockedOn=null,fa||(fa=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,P0)))}function fs(n){function e(s){return Pi(s,n)}if(0<Qs.length){Pi(Qs[0],n);for(var t=1;t<Qs.length;t++){var i=Qs[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Bt!==null&&Pi(Bt,n),Wt!==null&&Pi(Wt,n),Ht!==null&&Pi(Ht,n),cs.forEach(e),ds.forEach(e),t=0;t<Dt.length;t++)i=Dt[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Dt.length&&(t=Dt[0],t.blockedOn===null);)Qf(t),t.blockedOn===null&&Dt.shift()}var si=Pt.ReactCurrentBatchConfig,Br=!0;function T0(n,e,t,i){var s=H,r=si.transition;si.transition=null;try{H=1,_u(n,e,t,i)}finally{H=s,si.transition=r}}function L0(n,e,t,i){var s=H,r=si.transition;si.transition=null;try{H=4,_u(n,e,t,i)}finally{H=s,si.transition=r}}function _u(n,e,t,i){if(Br){var s=pa(n,e,t,i);if(s===null)ul(n,e,i,Wr,t),$h(n,i);else if(E0(s,n,e,t,i))i.stopPropagation();else if($h(n,i),e&4&&-1<j0.indexOf(n)){for(;s!==null;){var r=zs(s);if(r!==null&&Kf(r),r=pa(n,e,t,i),r===null&&ul(n,e,i,Wr,t),r===s)break;s=r}s!==null&&i.stopPropagation()}else ul(n,e,i,null,t)}}var Wr=null;function pa(n,e,t,i){if(Wr=null,n=yu(i),n=pn(n),n!==null)if(e=Ln(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Df(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Wr=n,null}function Xf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y0()){case wu:return 1;case Vf:return 4;case Ur:case w0:return 16;case Bf:return 536870912;default:return 16}default:return 16}}var Ut=null,Su=null,Cr=null;function Yf(){if(Cr)return Cr;var n,e=Su,t=e.length,i,s="value"in Ut?Ut.value:Ut.textContent,r=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===s[r-i];i++);return Cr=s.slice(n,1<i?1-i:void 0)}function Nr(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Xs(){return!0}function Rh(){return!1}function Ve(n){function e(t,i,s,r,o){this._reactName=t,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Xs:Rh,this.isPropagationStopped=Rh,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),e}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ku=Ve(_i),Rs=ee({},_i,{view:0,detail:0}),M0=Ve(Rs),el,tl,Ti,wo=ee({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ti&&(Ti&&n.type==="mousemove"?(el=n.screenX-Ti.screenX,tl=n.screenY-Ti.screenY):tl=el=0,Ti=n),el)},movementY:function(n){return"movementY"in n?n.movementY:tl}}),zh=Ve(wo),$0=ee({},wo,{dataTransfer:0}),O0=Ve($0),R0=ee({},Rs,{relatedTarget:0}),nl=Ve(R0),z0=ee({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),I0=Ve(z0),D0=ee({},_i,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),A0=Ve(D0),F0=ee({},_i,{data:0}),Ih=Ve(F0),U0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=B0[n])?!!e[n]:!1}function Cu(){return W0}var H0=ee({},Rs,{key:function(n){if(n.key){var e=U0[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Nr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?V0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cu,charCode:function(n){return n.type==="keypress"?Nr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Nr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),K0=Ve(H0),q0=ee({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=Ve(q0),J0=ee({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cu}),G0=Ve(J0),Q0=ee({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),X0=Ve(Q0),Y0=ee({},wo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Z0=Ve(Y0),ev=[9,13,27,32],Nu=Ct&&"CompositionEvent"in window,Ki=null;Ct&&"documentMode"in document&&(Ki=document.documentMode);var tv=Ct&&"TextEvent"in window&&!Ki,Zf=Ct&&(!Nu||Ki&&8<Ki&&11>=Ki),Ah=" ",Fh=!1;function ep(n,e){switch(n){case"keyup":return ev.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bn=!1;function nv(n,e){switch(n){case"compositionend":return tp(e);case"keypress":return e.which!==32?null:(Fh=!0,Ah);case"textInput":return n=e.data,n===Ah&&Fh?null:n;default:return null}}function iv(n,e){if(Bn)return n==="compositionend"||!Nu&&ep(n,e)?(n=Yf(),Cr=Su=Ut=null,Bn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zf&&e.locale!=="ko"?null:e.data;default:return null}}var sv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uh(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!sv[n.type]:e==="textarea"}function np(n,e,t,i){$f(i),e=Hr(e,"onChange"),0<e.length&&(t=new ku("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var qi=null,ps=null;function rv(n){fp(n,0)}function xo(n){var e=Kn(n);if(Nf(e))return n}function ov(n,e){if(n==="change")return e}var ip=!1;if(Ct){var il;if(Ct){var sl="oninput"in document;if(!sl){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),sl=typeof Vh.oninput=="function"}il=sl}else il=!1;ip=il&&(!document.documentMode||9<document.documentMode)}function Bh(){qi&&(qi.detachEvent("onpropertychange",sp),ps=qi=null)}function sp(n){if(n.propertyName==="value"&&xo(ps)){var e=[];np(e,ps,n,yu(n)),If(rv,e)}}function lv(n,e,t){n==="focusin"?(Bh(),qi=e,ps=t,qi.attachEvent("onpropertychange",sp)):n==="focusout"&&Bh()}function av(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xo(ps)}function uv(n,e){if(n==="click")return xo(e)}function hv(n,e){if(n==="input"||n==="change")return xo(e)}function cv(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var rt=typeof Object.is=="function"?Object.is:cv;function ms(n,e){if(rt(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var s=t[i];if(!Ql.call(e,s)||!rt(n[s],e[s]))return!1}return!0}function Wh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Hh(n,e){var t=Wh(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Wh(t)}}function rp(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?rp(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function op(){for(var n=window,e=Dr();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Dr(n.document)}return e}function ju(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function dv(n){var e=op(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&rp(t.ownerDocument.documentElement,t)){if(i!==null&&ju(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=Hh(t,r);var o=Hh(t,i);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var fv=Ct&&"documentMode"in document&&11>=document.documentMode,Wn=null,ma=null,Ji=null,ga=!1;function Kh(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ga||Wn==null||Wn!==Dr(i)||(i=Wn,"selectionStart"in i&&ju(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ji&&ms(Ji,i)||(Ji=i,i=Hr(ma,"onSelect"),0<i.length&&(e=new ku("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Wn)))}function Ys(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Hn={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionend:Ys("Transition","TransitionEnd")},rl={},lp={};Ct&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function bo(n){if(rl[n])return rl[n];if(!Hn[n])return n;var e=Hn[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in lp)return rl[n]=e[t];return n}var ap=bo("animationend"),up=bo("animationiteration"),hp=bo("animationstart"),cp=bo("transitionend"),dp=new Map,qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(n,e){dp.set(n,e),Tn(e,[n])}for(var ol=0;ol<qh.length;ol++){var ll=qh[ol],pv=ll.toLowerCase(),mv=ll[0].toUpperCase()+ll.slice(1);tn(pv,"on"+mv)}tn(ap,"onAnimationEnd");tn(up,"onAnimationIteration");tn(hp,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(cp,"onTransitionEnd");ui("onMouseEnter",["mouseout","mouseover"]);ui("onMouseLeave",["mouseout","mouseover"]);ui("onPointerEnter",["pointerout","pointerover"]);ui("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vi));function Jh(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,p0(i,e,void 0,n),n.currentTarget=null}function fp(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==r&&s.isPropagationStopped())break e;Jh(s,l,u),r=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==r&&s.isPropagationStopped())break e;Jh(s,l,u),r=a}}}if(Fr)throw n=ca,Fr=!1,ca=null,n}function J(n,e){var t=e[ba];t===void 0&&(t=e[ba]=new Set);var i=n+"__bubble";t.has(i)||(pp(e,n,2,!1),t.add(i))}function al(n,e,t){var i=0;e&&(i|=4),pp(t,n,i,e)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function gs(n){if(!n[Zs]){n[Zs]=!0,bf.forEach(function(t){t!=="selectionchange"&&(gv.has(t)||al(t,!1,n),al(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Zs]||(e[Zs]=!0,al("selectionchange",!1,e))}}function pp(n,e,t,i){switch(Xf(e)){case 1:var s=T0;break;case 4:s=L0;break;default:s=_u}t=s.bind(null,e,t,n),s=void 0,!ha||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function ul(n,e,t,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=pn(l),o===null)return;if(a=o.tag,a===5||a===6){i=r=o;continue e}l=l.parentNode}}i=i.return}If(function(){var u=r,h=yu(t),d=[];e:{var f=dp.get(n);if(f!==void 0){var p=ku,v=n;switch(n){case"keypress":if(Nr(t)===0)break e;case"keydown":case"keyup":p=K0;break;case"focusin":v="focus",p=nl;break;case"focusout":v="blur",p=nl;break;case"beforeblur":case"afterblur":p=nl;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=O0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=G0;break;case ap:case up:case hp:p=I0;break;case cp:p=X0;break;case"scroll":p=M0;break;case"wheel":p=Z0;break;case"copy":case"cut":case"paste":p=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dh}var g=(e&4)!==0,b=!g&&n==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var m=u,w;m!==null;){w=m;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,y!==null&&(x=hs(m,y),x!=null&&g.push(vs(m,x,w)))),b)break;m=m.return}0<g.length&&(f=new p(f,v,null,t,h),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==aa&&(v=t.relatedTarget||t.fromElement)&&(pn(v)||v[Nt]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=t.relatedTarget||t.toElement,p=u,v=v?pn(v):null,v!==null&&(b=Ln(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=zh,x="onMouseLeave",y="onMouseEnter",m="mouse",(n==="pointerout"||n==="pointerover")&&(g=Dh,x="onPointerLeave",y="onPointerEnter",m="pointer"),b=p==null?f:Kn(p),w=v==null?f:Kn(v),f=new g(x,m+"leave",p,t,h),f.target=b,f.relatedTarget=w,x=null,pn(h)===u&&(g=new g(y,m+"enter",v,t,h),g.target=w,g.relatedTarget=b,x=g),b=x,p&&v)t:{for(g=p,y=v,m=0,w=g;w;w=$n(w))m++;for(w=0,x=y;x;x=$n(x))w++;for(;0<m-w;)g=$n(g),m--;for(;0<w-m;)y=$n(y),w--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=$n(g),y=$n(y)}g=null}else g=null;p!==null&&Gh(d,f,p,g,!1),v!==null&&b!==null&&Gh(d,b,v,g,!0)}}e:{if(f=u?Kn(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=ov;else if(Uh(f))if(ip)_=hv;else{_=av;var k=lv}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=uv);if(_&&(_=_(n,u))){np(d,_,t,h);break e}k&&k(n,f,u),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&ia(f,"number",f.value)}switch(k=u?Kn(u):window,n){case"focusin":(Uh(k)||k.contentEditable==="true")&&(Wn=k,ma=u,Ji=null);break;case"focusout":Ji=ma=Wn=null;break;case"mousedown":ga=!0;break;case"contextmenu":case"mouseup":case"dragend":ga=!1,Kh(d,t,h);break;case"selectionchange":if(fv)break;case"keydown":case"keyup":Kh(d,t,h)}var S;if(Nu)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Bn?ep(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(Zf&&t.locale!=="ko"&&(Bn||E!=="onCompositionStart"?E==="onCompositionEnd"&&Bn&&(S=Yf()):(Ut=h,Su="value"in Ut?Ut.value:Ut.textContent,Bn=!0)),k=Hr(u,E),0<k.length&&(E=new Ih(E,n,null,t,h),d.push({event:E,listeners:k}),S?E.data=S:(S=tp(t),S!==null&&(E.data=S)))),(S=tv?nv(n,t):iv(n,t))&&(u=Hr(u,"onBeforeInput"),0<u.length&&(h=new Ih("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:u}),h.data=S))}fp(d,e)})}function vs(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Hr(n,e){for(var t=e+"Capture",i=[];n!==null;){var s=n,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=hs(n,t),r!=null&&i.unshift(vs(n,r,s)),r=hs(n,e),r!=null&&i.push(vs(n,r,s))),n=n.return}return i}function $n(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Gh(n,e,t,i,s){for(var r=e._reactName,o=[];t!==null&&t!==i;){var l=t,a=l.alternate,u=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&u!==null&&(l=u,s?(a=hs(t,r),a!=null&&o.unshift(vs(t,a,l))):s||(a=hs(t,r),a!=null&&o.push(vs(t,a,l)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var vv=/\r\n?/g,yv=/\u0000|\uFFFD/g;function Qh(n){return(typeof n=="string"?n:""+n).replace(vv,`
`).replace(yv,"")}function er(n,e,t){if(e=Qh(e),Qh(n)!==e&&t)throw Error(j(425))}function Kr(){}var va=null,ya=null;function wa(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,wv=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(n){return Xh.resolve(null).then(n).catch(bv)}:xa;function bv(n){setTimeout(function(){throw n})}function hl(n,e){var t=e,i=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(i===0){n.removeChild(s),fs(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=s}while(t);fs(e)}function Kt(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Yh(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Si=Math.random().toString(36).slice(2),dt="__reactFiber$"+Si,ys="__reactProps$"+Si,Nt="__reactContainer$"+Si,ba="__reactEvents$"+Si,_v="__reactListeners$"+Si,Sv="__reactHandles$"+Si;function pn(n){var e=n[dt];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Nt]||t[dt]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Yh(n);n!==null;){if(t=n[dt])return t;n=Yh(n)}return e}n=t,t=n.parentNode}return null}function zs(n){return n=n[dt]||n[Nt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Kn(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(j(33))}function _o(n){return n[ys]||null}var _a=[],qn=-1;function nn(n){return{current:n}}function Q(n){0>qn||(n.current=_a[qn],_a[qn]=null,qn--)}function q(n,e){qn++,_a[qn]=n.current,n.current=e}var Zt={},we=nn(Zt),Le=nn(!1),bn=Zt;function hi(n,e){var t=n.type.contextTypes;if(!t)return Zt;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in t)s[r]=e[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Me(n){return n=n.childContextTypes,n!=null}function qr(){Q(Le),Q(we)}function Zh(n,e,t){if(we.current!==Zt)throw Error(j(168));q(we,e),q(Le,t)}function mp(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(j(108,l0(n)||"Unknown",s));return ee({},t,i)}function Jr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zt,bn=we.current,q(we,n),q(Le,Le.current),!0}function ec(n,e,t){var i=n.stateNode;if(!i)throw Error(j(169));t?(n=mp(n,e,bn),i.__reactInternalMemoizedMergedChildContext=n,Q(Le),Q(we),q(we,n)):Q(Le),q(Le,t)}var wt=null,So=!1,cl=!1;function gp(n){wt===null?wt=[n]:wt.push(n)}function kv(n){So=!0,gp(n)}function sn(){if(!cl&&wt!==null){cl=!0;var n=0,e=H;try{var t=wt;for(H=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}wt=null,So=!1}catch(s){throw wt!==null&&(wt=wt.slice(n+1)),Uf(wu,sn),s}finally{H=e,cl=!1}}return null}var Jn=[],Gn=0,Gr=null,Qr=0,We=[],He=0,_n=null,xt=1,bt="";function hn(n,e){Jn[Gn++]=Qr,Jn[Gn++]=Gr,Gr=n,Qr=e}function vp(n,e,t){We[He++]=xt,We[He++]=bt,We[He++]=_n,_n=n;var i=xt;n=bt;var s=32-it(i)-1;i&=~(1<<s),t+=1;var r=32-it(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,xt=1<<32-it(e)+s|t<<s|i,bt=r+n}else xt=1<<r|t<<s|i,bt=n}function Eu(n){n.return!==null&&(hn(n,1),vp(n,1,0))}function Pu(n){for(;n===Gr;)Gr=Jn[--Gn],Jn[Gn]=null,Qr=Jn[--Gn],Jn[Gn]=null;for(;n===_n;)_n=We[--He],We[He]=null,bt=We[--He],We[He]=null,xt=We[--He],We[He]=null}var Ae=null,De=null,X=!1,nt=null;function yp(n,e){var t=Ke(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function tc(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ae=n,De=Kt(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ae=n,De=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=_n!==null?{id:xt,overflow:bt}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ke(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ae=n,De=null,!0):!1;default:return!1}}function Sa(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ka(n){if(X){var e=De;if(e){var t=e;if(!tc(n,e)){if(Sa(n))throw Error(j(418));e=Kt(t.nextSibling);var i=Ae;e&&tc(n,e)?yp(i,t):(n.flags=n.flags&-4097|2,X=!1,Ae=n)}}else{if(Sa(n))throw Error(j(418));n.flags=n.flags&-4097|2,X=!1,Ae=n}}}function nc(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ae=n}function tr(n){if(n!==Ae)return!1;if(!X)return nc(n),X=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!wa(n.type,n.memoizedProps)),e&&(e=De)){if(Sa(n))throw wp(),Error(j(418));for(;e;)yp(n,e),e=Kt(e.nextSibling)}if(nc(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(j(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){De=Kt(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}De=null}}else De=Ae?Kt(n.stateNode.nextSibling):null;return!0}function wp(){for(var n=De;n;)n=Kt(n.nextSibling)}function ci(){De=Ae=null,X=!1}function Tu(n){nt===null?nt=[n]:nt.push(n)}var Cv=Pt.ReactCurrentBatchConfig;function Li(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(j(309));var i=t.stateNode}if(!i)throw Error(j(147,n));var s=i,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var l=s.refs;o===null?delete l[r]:l[r]=o},e._stringRef=r,e)}if(typeof n!="string")throw Error(j(284));if(!t._owner)throw Error(j(290,n))}return n}function nr(n,e){throw n=Object.prototype.toString.call(e),Error(j(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function ic(n){var e=n._init;return e(n._payload)}function xp(n){function e(y,m){if(n){var w=y.deletions;w===null?(y.deletions=[m],y.flags|=16):w.push(m)}}function t(y,m){if(!n)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function i(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Qt(y,m),y.index=0,y.sibling=null,y}function r(y,m,w){return y.index=w,n?(w=y.alternate,w!==null?(w=w.index,w<m?(y.flags|=2,m):w):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function l(y,m,w,x){return m===null||m.tag!==6?(m=yl(w,y.mode,x),m.return=y,m):(m=s(m,w),m.return=y,m)}function a(y,m,w,x){var _=w.type;return _===Vn?h(y,m,w.props.children,x,w.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&ic(_)===m.type)?(x=s(m,w.props),x.ref=Li(y,m,w),x.return=y,x):(x=$r(w.type,w.key,w.props,null,y.mode,x),x.ref=Li(y,m,w),x.return=y,x)}function u(y,m,w,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=wl(w,y.mode,x),m.return=y,m):(m=s(m,w.children||[]),m.return=y,m)}function h(y,m,w,x,_){return m===null||m.tag!==7?(m=yn(w,y.mode,x,_),m.return=y,m):(m=s(m,w),m.return=y,m)}function d(y,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=yl(""+m,y.mode,w),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Hs:return w=$r(m.type,m.key,m.props,null,y.mode,w),w.ref=Li(y,null,m),w.return=y,w;case Un:return m=wl(m,y.mode,w),m.return=y,m;case Rt:var x=m._init;return d(y,x(m._payload),w)}if(Fi(m)||Ni(m))return m=yn(m,y.mode,w,null),m.return=y,m;nr(y,m)}return null}function f(y,m,w,x){var _=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(y,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hs:return w.key===_?a(y,m,w,x):null;case Un:return w.key===_?u(y,m,w,x):null;case Rt:return _=w._init,f(y,m,_(w._payload),x)}if(Fi(w)||Ni(w))return _!==null?null:h(y,m,w,x,null);nr(y,w)}return null}function p(y,m,w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(w)||null,l(m,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hs:return y=y.get(x.key===null?w:x.key)||null,a(m,y,x,_);case Un:return y=y.get(x.key===null?w:x.key)||null,u(m,y,x,_);case Rt:var k=x._init;return p(y,m,w,k(x._payload),_)}if(Fi(x)||Ni(x))return y=y.get(w)||null,h(m,y,x,_,null);nr(m,x)}return null}function v(y,m,w,x){for(var _=null,k=null,S=m,E=m=0,U=null;S!==null&&E<w.length;E++){S.index>E?(U=S,S=null):U=S.sibling;var O=f(y,S,w[E],x);if(O===null){S===null&&(S=U);break}n&&S&&O.alternate===null&&e(y,S),m=r(O,m,E),k===null?_=O:k.sibling=O,k=O,S=U}if(E===w.length)return t(y,S),X&&hn(y,E),_;if(S===null){for(;E<w.length;E++)S=d(y,w[E],x),S!==null&&(m=r(S,m,E),k===null?_=S:k.sibling=S,k=S);return X&&hn(y,E),_}for(S=i(y,S);E<w.length;E++)U=p(S,y,E,w[E],x),U!==null&&(n&&U.alternate!==null&&S.delete(U.key===null?E:U.key),m=r(U,m,E),k===null?_=U:k.sibling=U,k=U);return n&&S.forEach(function(te){return e(y,te)}),X&&hn(y,E),_}function g(y,m,w,x){var _=Ni(w);if(typeof _!="function")throw Error(j(150));if(w=_.call(w),w==null)throw Error(j(151));for(var k=_=null,S=m,E=m=0,U=null,O=w.next();S!==null&&!O.done;E++,O=w.next()){S.index>E?(U=S,S=null):U=S.sibling;var te=f(y,S,O.value,x);if(te===null){S===null&&(S=U);break}n&&S&&te.alternate===null&&e(y,S),m=r(te,m,E),k===null?_=te:k.sibling=te,k=te,S=U}if(O.done)return t(y,S),X&&hn(y,E),_;if(S===null){for(;!O.done;E++,O=w.next())O=d(y,O.value,x),O!==null&&(m=r(O,m,E),k===null?_=O:k.sibling=O,k=O);return X&&hn(y,E),_}for(S=i(y,S);!O.done;E++,O=w.next())O=p(S,y,E,O.value,x),O!==null&&(n&&O.alternate!==null&&S.delete(O.key===null?E:O.key),m=r(O,m,E),k===null?_=O:k.sibling=O,k=O);return n&&S.forEach(function(Xe){return e(y,Xe)}),X&&hn(y,E),_}function b(y,m,w,x){if(typeof w=="object"&&w!==null&&w.type===Vn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Hs:e:{for(var _=w.key,k=m;k!==null;){if(k.key===_){if(_=w.type,_===Vn){if(k.tag===7){t(y,k.sibling),m=s(k,w.props.children),m.return=y,y=m;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&ic(_)===k.type){t(y,k.sibling),m=s(k,w.props),m.ref=Li(y,k,w),m.return=y,y=m;break e}t(y,k);break}else e(y,k);k=k.sibling}w.type===Vn?(m=yn(w.props.children,y.mode,x,w.key),m.return=y,y=m):(x=$r(w.type,w.key,w.props,null,y.mode,x),x.ref=Li(y,m,w),x.return=y,y=x)}return o(y);case Un:e:{for(k=w.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){t(y,m.sibling),m=s(m,w.children||[]),m.return=y,y=m;break e}else{t(y,m);break}else e(y,m);m=m.sibling}m=wl(w,y.mode,x),m.return=y,y=m}return o(y);case Rt:return k=w._init,b(y,m,k(w._payload),x)}if(Fi(w))return v(y,m,w,x);if(Ni(w))return g(y,m,w,x);nr(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(t(y,m.sibling),m=s(m,w),m.return=y,y=m):(t(y,m),m=yl(w,y.mode,x),m.return=y,y=m),o(y)):t(y,m)}return b}var di=xp(!0),bp=xp(!1),Xr=nn(null),Yr=null,Qn=null,Lu=null;function Mu(){Lu=Qn=Yr=null}function $u(n){var e=Xr.current;Q(Xr),n._currentValue=e}function Ca(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function ri(n,e){Yr=n,Lu=Qn=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Te=!0),n.firstContext=null)}function Ge(n){var e=n._currentValue;if(Lu!==n)if(n={context:n,memoizedValue:e,next:null},Qn===null){if(Yr===null)throw Error(j(308));Qn=n,Yr.dependencies={lanes:0,firstContext:n}}else Qn=Qn.next=n;return e}var mn=null;function Ou(n){mn===null?mn=[n]:mn.push(n)}function _p(n,e,t,i){var s=e.interleaved;return s===null?(t.next=t,Ou(e)):(t.next=s.next,s.next=t),e.interleaved=t,jt(n,i)}function jt(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var zt=!1;function Ru(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sp(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function kt(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function qt(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,V&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,jt(n,t)}return s=i.interleaved,s===null?(e.next=e,Ou(i)):(e.next=s.next,s.next=e),i.interleaved=e,jt(n,t)}function jr(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,xu(n,t)}}function sc(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var s=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?s=r=o:r=r.next=o,t=t.next}while(t!==null);r===null?s=r=e:r=r.next=e}else s=r=e;t={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Zr(n,e,t,i){var s=n.updateQueue;zt=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?r=u:o.next=u,o=a;var h=n.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(r!==null){var d=s.baseState;o=0,h=u=a=null,l=r;do{var f=l.lane,p=l.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=n,g=l;switch(f=e,p=t,g.tag){case 1:if(v=g.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=ee({},d,f);break e;case 2:zt=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,a=d):h=h.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);kn|=o,n.lanes=o,n.memoizedState=d}}function rc(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],s=i.callback;if(s!==null){if(i.callback=null,i=t,typeof s!="function")throw Error(j(191,s));s.call(i)}}}var Is={},gt=nn(Is),ws=nn(Is),xs=nn(Is);function gn(n){if(n===Is)throw Error(j(174));return n}function zu(n,e){switch(q(xs,e),q(ws,n),q(gt,Is),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ra(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ra(e,n)}Q(gt),q(gt,e)}function fi(){Q(gt),Q(ws),Q(xs)}function kp(n){gn(xs.current);var e=gn(gt.current),t=ra(e,n.type);e!==t&&(q(ws,n),q(gt,t))}function Iu(n){ws.current===n&&(Q(gt),Q(ws))}var Y=nn(0);function eo(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dl=[];function Du(){for(var n=0;n<dl.length;n++)dl[n]._workInProgressVersionPrimary=null;dl.length=0}var Er=Pt.ReactCurrentDispatcher,fl=Pt.ReactCurrentBatchConfig,Sn=0,Z=null,oe=null,he=null,to=!1,Gi=!1,bs=0,Nv=0;function ge(){throw Error(j(321))}function Au(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!rt(n[t],e[t]))return!1;return!0}function Fu(n,e,t,i,s,r){if(Sn=r,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Er.current=n===null||n.memoizedState===null?Tv:Lv,n=t(i,s),Gi){r=0;do{if(Gi=!1,bs=0,25<=r)throw Error(j(301));r+=1,he=oe=null,e.updateQueue=null,Er.current=Mv,n=t(i,s)}while(Gi)}if(Er.current=no,e=oe!==null&&oe.next!==null,Sn=0,he=oe=Z=null,to=!1,e)throw Error(j(300));return n}function Uu(){var n=bs!==0;return bs=0,n}function ct(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?Z.memoizedState=he=n:he=he.next=n,he}function Qe(){if(oe===null){var n=Z.alternate;n=n!==null?n.memoizedState:null}else n=oe.next;var e=he===null?Z.memoizedState:he.next;if(e!==null)he=e,oe=n;else{if(n===null)throw Error(j(310));oe=n,n={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},he===null?Z.memoizedState=he=n:he=he.next=n}return he}function _s(n,e){return typeof e=="function"?e(n):e}function pl(n){var e=Qe(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var i=oe,s=i.baseQueue,r=t.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,t.pending=null}if(s!==null){r=s.next,i=i.baseState;var l=o=null,a=null,u=r;do{var h=u.lane;if((Sn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=i):a=a.next=d,Z.lanes|=h,kn|=h}u=u.next}while(u!==null&&u!==r);a===null?o=i:a.next=l,rt(i,e.memoizedState)||(Te=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=a,t.lastRenderedState=i}if(n=t.interleaved,n!==null){s=n;do r=s.lane,Z.lanes|=r,kn|=r,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ml(n){var e=Qe(),t=e.queue;if(t===null)throw Error(j(311));t.lastRenderedReducer=n;var i=t.dispatch,s=t.pending,r=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do r=n(r,o.action),o=o.next;while(o!==s);rt(r,e.memoizedState)||(Te=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,i]}function Cp(){}function Np(n,e){var t=Z,i=Qe(),s=e(),r=!rt(i.memoizedState,s);if(r&&(i.memoizedState=s,Te=!0),i=i.queue,Vu(Pp.bind(null,t,i,n),[n]),i.getSnapshot!==e||r||he!==null&&he.memoizedState.tag&1){if(t.flags|=2048,Ss(9,Ep.bind(null,t,i,s,e),void 0,null),ce===null)throw Error(j(349));Sn&30||jp(t,e,s)}return s}function jp(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Ep(n,e,t,i){e.value=t,e.getSnapshot=i,Tp(e)&&Lp(n)}function Pp(n,e,t){return t(function(){Tp(e)&&Lp(n)})}function Tp(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!rt(n,t)}catch{return!0}}function Lp(n){var e=jt(n,1);e!==null&&st(e,n,1,-1)}function oc(n){var e=ct();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:n},e.queue=n,n=n.dispatch=Pv.bind(null,Z,n),[e.memoizedState,n]}function Ss(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Mp(){return Qe().memoizedState}function Pr(n,e,t,i){var s=ct();Z.flags|=n,s.memoizedState=Ss(1|e,t,void 0,i===void 0?null:i)}function ko(n,e,t,i){var s=Qe();i=i===void 0?null:i;var r=void 0;if(oe!==null){var o=oe.memoizedState;if(r=o.destroy,i!==null&&Au(i,o.deps)){s.memoizedState=Ss(e,t,r,i);return}}Z.flags|=n,s.memoizedState=Ss(1|e,t,r,i)}function lc(n,e){return Pr(8390656,8,n,e)}function Vu(n,e){return ko(2048,8,n,e)}function $p(n,e){return ko(4,2,n,e)}function Op(n,e){return ko(4,4,n,e)}function Rp(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function zp(n,e,t){return t=t!=null?t.concat([n]):null,ko(4,4,Rp.bind(null,e,n),t)}function Bu(){}function Ip(n,e){var t=Qe();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Au(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Dp(n,e){var t=Qe();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Au(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function Ap(n,e,t){return Sn&21?(rt(t,e)||(t=Wf(),Z.lanes|=t,kn|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Te=!0),n.memoizedState=t)}function jv(n,e){var t=H;H=t!==0&&4>t?t:4,n(!0);var i=fl.transition;fl.transition={};try{n(!1),e()}finally{H=t,fl.transition=i}}function Fp(){return Qe().memoizedState}function Ev(n,e,t){var i=Gt(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Up(n))Vp(e,t);else if(t=_p(n,e,t,i),t!==null){var s=Se();st(t,n,i,s),Bp(t,e,i)}}function Pv(n,e,t){var i=Gt(n),s={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Up(n))Vp(e,s);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,l=r(o,t);if(s.hasEagerState=!0,s.eagerState=l,rt(l,o)){var a=e.interleaved;a===null?(s.next=s,Ou(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}t=_p(n,e,s,i),t!==null&&(s=Se(),st(t,n,i,s),Bp(t,e,i))}}function Up(n){var e=n.alternate;return n===Z||e!==null&&e===Z}function Vp(n,e){Gi=to=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Bp(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,xu(n,t)}}var no={readContext:Ge,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Tv={readContext:Ge,useCallback:function(n,e){return ct().memoizedState=[n,e===void 0?null:e],n},useContext:Ge,useEffect:lc,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Pr(4194308,4,Rp.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Pr(4194308,4,n,e)},useInsertionEffect:function(n,e){return Pr(4,2,n,e)},useMemo:function(n,e){var t=ct();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=ct();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=Ev.bind(null,Z,n),[i.memoizedState,n]},useRef:function(n){var e=ct();return n={current:n},e.memoizedState=n},useState:oc,useDebugValue:Bu,useDeferredValue:function(n){return ct().memoizedState=n},useTransition:function(){var n=oc(!1),e=n[0];return n=jv.bind(null,n[1]),ct().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Z,s=ct();if(X){if(t===void 0)throw Error(j(407));t=t()}else{if(t=e(),ce===null)throw Error(j(349));Sn&30||jp(i,e,t)}s.memoizedState=t;var r={value:t,getSnapshot:e};return s.queue=r,lc(Pp.bind(null,i,r,n),[n]),i.flags|=2048,Ss(9,Ep.bind(null,i,r,t,e),void 0,null),t},useId:function(){var n=ct(),e=ce.identifierPrefix;if(X){var t=bt,i=xt;t=(i&~(1<<32-it(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=bs++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Nv++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Lv={readContext:Ge,useCallback:Ip,useContext:Ge,useEffect:Vu,useImperativeHandle:zp,useInsertionEffect:$p,useLayoutEffect:Op,useMemo:Dp,useReducer:pl,useRef:Mp,useState:function(){return pl(_s)},useDebugValue:Bu,useDeferredValue:function(n){var e=Qe();return Ap(e,oe.memoizedState,n)},useTransition:function(){var n=pl(_s)[0],e=Qe().memoizedState;return[n,e]},useMutableSource:Cp,useSyncExternalStore:Np,useId:Fp,unstable_isNewReconciler:!1},Mv={readContext:Ge,useCallback:Ip,useContext:Ge,useEffect:Vu,useImperativeHandle:zp,useInsertionEffect:$p,useLayoutEffect:Op,useMemo:Dp,useReducer:ml,useRef:Mp,useState:function(){return ml(_s)},useDebugValue:Bu,useDeferredValue:function(n){var e=Qe();return oe===null?e.memoizedState=n:Ap(e,oe.memoizedState,n)},useTransition:function(){var n=ml(_s)[0],e=Qe().memoizedState;return[n,e]},useMutableSource:Cp,useSyncExternalStore:Np,useId:Fp,unstable_isNewReconciler:!1};function Ze(n,e){if(n&&n.defaultProps){e=ee({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Na(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:ee({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Co={isMounted:function(n){return(n=n._reactInternals)?Ln(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Se(),s=Gt(n),r=kt(i,s);r.payload=e,t!=null&&(r.callback=t),e=qt(n,r,s),e!==null&&(st(e,n,s,i),jr(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Se(),s=Gt(n),r=kt(i,s);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=qt(n,r,s),e!==null&&(st(e,n,s,i),jr(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Se(),i=Gt(n),s=kt(t,i);s.tag=2,e!=null&&(s.callback=e),e=qt(n,s,i),e!==null&&(st(e,n,i,t),jr(e,n,i))}};function ac(n,e,t,i,s,r,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!ms(t,i)||!ms(s,r):!0}function Wp(n,e,t){var i=!1,s=Zt,r=e.contextType;return typeof r=="object"&&r!==null?r=Ge(r):(s=Me(e)?bn:we.current,i=e.contextTypes,r=(i=i!=null)?hi(n,s):Zt),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Co,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=r),e}function uc(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Co.enqueueReplaceState(e,e.state,null)}function ja(n,e,t,i){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},Ru(n);var r=e.contextType;typeof r=="object"&&r!==null?s.context=Ge(r):(r=Me(e)?bn:we.current,s.context=hi(n,r)),s.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Na(n,e,r,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Co.enqueueReplaceState(s,s.state,null),Zr(n,t,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function pi(n,e){try{var t="",i=e;do t+=o0(i),i=i.return;while(i);var s=t}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:s,digest:null}}function gl(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Ea(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var $v=typeof WeakMap=="function"?WeakMap:Map;function Hp(n,e,t){t=kt(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){so||(so=!0,Da=i),Ea(n,e)},t}function Kp(n,e,t){t=kt(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;t.payload=function(){return i(s)},t.callback=function(){Ea(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){Ea(n,e),typeof i!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function hc(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new $v;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(t)||(s.add(t),n=qv.bind(null,n,e,t),e.then(n,n))}function cc(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function dc(n,e,t,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=kt(-1,1),e.tag=2,qt(t,e,1))),t.lanes|=1),n)}var Ov=Pt.ReactCurrentOwner,Te=!1;function _e(n,e,t,i){e.child=n===null?bp(e,null,t,i):di(e,n.child,t,i)}function fc(n,e,t,i,s){t=t.render;var r=e.ref;return ri(e,s),i=Fu(n,e,t,i,r,s),t=Uu(),n!==null&&!Te?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Et(n,e,s)):(X&&t&&Eu(e),e.flags|=1,_e(n,e,i,s),e.child)}function pc(n,e,t,i,s){if(n===null){var r=t.type;return typeof r=="function"&&!Xu(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,qp(n,e,r,i,s)):(n=$r(t.type,null,i,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&s)){var o=r.memoizedProps;if(t=t.compare,t=t!==null?t:ms,t(o,i)&&n.ref===e.ref)return Et(n,e,s)}return e.flags|=1,n=Qt(r,i),n.ref=e.ref,n.return=e,e.child=n}function qp(n,e,t,i,s){if(n!==null){var r=n.memoizedProps;if(ms(r,i)&&n.ref===e.ref)if(Te=!1,e.pendingProps=i=r,(n.lanes&s)!==0)n.flags&131072&&(Te=!0);else return e.lanes=n.lanes,Et(n,e,s)}return Pa(n,e,t,i,s)}function Jp(n,e,t){var i=e.pendingProps,s=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Yn,Ie),Ie|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,q(Yn,Ie),Ie|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:t,q(Yn,Ie),Ie|=i}else r!==null?(i=r.baseLanes|t,e.memoizedState=null):i=t,q(Yn,Ie),Ie|=i;return _e(n,e,s,t),e.child}function Gp(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Pa(n,e,t,i,s){var r=Me(t)?bn:we.current;return r=hi(e,r),ri(e,s),t=Fu(n,e,t,i,r,s),i=Uu(),n!==null&&!Te?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Et(n,e,s)):(X&&i&&Eu(e),e.flags|=1,_e(n,e,t,s),e.child)}function mc(n,e,t,i,s){if(Me(t)){var r=!0;Jr(e)}else r=!1;if(ri(e,s),e.stateNode===null)Tr(n,e),Wp(e,t,i),ja(e,t,i,s),i=!0;else if(n===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Ge(u):(u=Me(t)?bn:we.current,u=hi(e,u));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==u)&&uc(e,o,i,u),zt=!1;var f=e.memoizedState;o.state=f,Zr(e,i,o,s),a=e.memoizedState,l!==i||f!==a||Le.current||zt?(typeof h=="function"&&(Na(e,t,h,i),a=e.memoizedState),(l=zt||ac(e,t,l,i,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),o.props=i,o.state=a,o.context=u,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Sp(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ze(e.type,l),o.props=u,d=e.pendingProps,f=o.context,a=t.contextType,typeof a=="object"&&a!==null?a=Ge(a):(a=Me(t)?bn:we.current,a=hi(e,a));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&uc(e,o,i,a),zt=!1,f=e.memoizedState,o.state=f,Zr(e,i,o,s);var v=e.memoizedState;l!==d||f!==v||Le.current||zt?(typeof p=="function"&&(Na(e,t,p,i),v=e.memoizedState),(u=zt||ac(e,t,u,i,f,v,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=a,i=u):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return Ta(n,e,t,i,r,s)}function Ta(n,e,t,i,s,r){Gp(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&ec(e,t,!1),Et(n,e,r);i=e.stateNode,Ov.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=di(e,n.child,null,r),e.child=di(e,null,l,r)):_e(n,e,l,r),e.memoizedState=i.state,s&&ec(e,t,!0),e.child}function Qp(n){var e=n.stateNode;e.pendingContext?Zh(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Zh(n,e.context,!1),zu(n,e.containerInfo)}function gc(n,e,t,i,s){return ci(),Tu(s),e.flags|=256,_e(n,e,t,i),e.child}var La={dehydrated:null,treeContext:null,retryLane:0};function Ma(n){return{baseLanes:n,cachePool:null,transitions:null}}function Xp(n,e,t){var i=e.pendingProps,s=Y.current,r=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=n!==null&&n.memoizedState===null?!1:(s&2)!==0),l?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),q(Y,s&1),n===null)return ka(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Eo(o,i,0,null),n=yn(n,i,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=Ma(t),e.memoizedState=La,n):Wu(e,o));if(s=n.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Rv(n,e,o,i,l,s,t);if(r){r=i.fallback,o=e.mode,s=n.child,l=s.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=Qt(s,a),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=Qt(l,r):(r=yn(r,o,t,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=n.child.memoizedState,o=o===null?Ma(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=n.childLanes&~t,e.memoizedState=La,i}return r=n.child,n=r.sibling,i=Qt(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Wu(n,e){return e=Eo({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ir(n,e,t,i){return i!==null&&Tu(i),di(e,n.child,null,t),n=Wu(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Rv(n,e,t,i,s,r,o){if(t)return e.flags&256?(e.flags&=-257,i=gl(Error(j(422))),ir(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Eo({mode:"visible",children:i.children},s,0,null),r=yn(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&di(e,n.child,null,o),e.child.memoizedState=Ma(o),e.memoizedState=La,r);if(!(e.mode&1))return ir(n,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(j(419)),i=gl(r,i,void 0),ir(n,e,o,i)}if(l=(o&n.childLanes)!==0,Te||l){if(i=ce,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,jt(n,s),st(i,n,s,-1))}return Qu(),i=gl(Error(j(421))),ir(n,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=Jv.bind(null,n),s._reactRetry=e,null):(n=r.treeContext,De=Kt(s.nextSibling),Ae=e,X=!0,nt=null,n!==null&&(We[He++]=xt,We[He++]=bt,We[He++]=_n,xt=n.id,bt=n.overflow,_n=e),e=Wu(e,i.children),e.flags|=4096,e)}function vc(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Ca(n.return,e,t)}function vl(n,e,t,i,s){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=t,r.tailMode=s)}function Yp(n,e,t){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(_e(n,e,i.children,t),i=Y.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&vc(n,t,e);else if(n.tag===19)vc(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(q(Y,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&eo(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),vl(e,!1,s,t,r);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&eo(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}vl(e,!0,t,null,r);break;case"together":vl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tr(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Et(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),kn|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(j(153));if(e.child!==null){for(n=e.child,t=Qt(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Qt(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function zv(n,e,t){switch(e.tag){case 3:Qp(e),ci();break;case 5:kp(e);break;case 1:Me(e.type)&&Jr(e);break;case 4:zu(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;q(Xr,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(q(Y,Y.current&1),e.flags|=128,null):t&e.child.childLanes?Xp(n,e,t):(q(Y,Y.current&1),n=Et(n,e,t),n!==null?n.sibling:null);q(Y,Y.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return Yp(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(Y,Y.current),i)break;return null;case 22:case 23:return e.lanes=0,Jp(n,e,t)}return Et(n,e,t)}var Zp,$a,em,tm;Zp=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};$a=function(){};em=function(n,e,t,i){var s=n.memoizedProps;if(s!==i){n=e.stateNode,gn(gt.current);var r=null;switch(t){case"input":s=ta(n,s),i=ta(n,i),r=[];break;case"select":s=ee({},s,{value:void 0}),i=ee({},i,{value:void 0}),r=[];break;case"textarea":s=sa(n,s),i=sa(n,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Kr)}oa(t,i);var o;t=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(as.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var a=i[u];if(l=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(t||(t={}),t[o]=a[o])}else t||(r||(r=[]),r.push(u,t)),t=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(r=r||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(as.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&J("scroll",n),r||l===a||(r=[])):(r=r||[]).push(u,a))}t&&(r=r||[]).push("style",t);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};tm=function(n,e,t,i){t!==i&&(e.flags|=4)};function Mi(n,e){if(!X)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ve(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function Iv(n,e,t){var i=e.pendingProps;switch(Pu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Me(e.type)&&qr(),ve(e),null;case 3:return i=e.stateNode,fi(),Q(Le),Q(we),Du(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(tr(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nt!==null&&(Ua(nt),nt=null))),$a(n,e),ve(e),null;case 5:Iu(e);var s=gn(xs.current);if(t=e.type,n!==null&&e.stateNode!=null)em(n,e,t,i,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(j(166));return ve(e),null}if(n=gn(gt.current),tr(e)){i=e.stateNode,t=e.type;var r=e.memoizedProps;switch(i[dt]=e,i[ys]=r,n=(e.mode&1)!==0,t){case"dialog":J("cancel",i),J("close",i);break;case"iframe":case"object":case"embed":J("load",i);break;case"video":case"audio":for(s=0;s<Vi.length;s++)J(Vi[s],i);break;case"source":J("error",i);break;case"img":case"image":case"link":J("error",i),J("load",i);break;case"details":J("toggle",i);break;case"input":Nh(i,r),J("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},J("invalid",i);break;case"textarea":Eh(i,r),J("invalid",i)}oa(t,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&er(i.textContent,l,n),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&er(i.textContent,l,n),s=["children",""+l]):as.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&J("scroll",i)}switch(t){case"input":Ks(i),jh(i,r,!0);break;case"textarea":Ks(i),Ph(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Kr)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Pf(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[dt]=e,n[ys]=i,Zp(n,e,!1,!1),e.stateNode=n;e:{switch(o=la(t,i),t){case"dialog":J("cancel",n),J("close",n),s=i;break;case"iframe":case"object":case"embed":J("load",n),s=i;break;case"video":case"audio":for(s=0;s<Vi.length;s++)J(Vi[s],n);s=i;break;case"source":J("error",n),s=i;break;case"img":case"image":case"link":J("error",n),J("load",n),s=i;break;case"details":J("toggle",n),s=i;break;case"input":Nh(n,i),s=ta(n,i),J("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=ee({},i,{value:void 0}),J("invalid",n);break;case"textarea":Eh(n,i),s=sa(n,i),J("invalid",n);break;default:s=i}oa(t,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var a=l[r];r==="style"?Mf(n,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Tf(n,a)):r==="children"?typeof a=="string"?(t!=="textarea"||a!=="")&&us(n,a):typeof a=="number"&&us(n,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(as.hasOwnProperty(r)?a!=null&&r==="onScroll"&&J("scroll",n):a!=null&&pu(n,r,a,o))}switch(t){case"input":Ks(n),jh(n,i,!1);break;case"textarea":Ks(n),Ph(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Yt(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?ti(n,!!i.multiple,r,!1):i.defaultValue!=null&&ti(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=Kr)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(n&&e.stateNode!=null)tm(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(j(166));if(t=gn(xs.current),gn(gt.current),tr(e)){if(i=e.stateNode,t=e.memoizedProps,i[dt]=e,(r=i.nodeValue!==t)&&(n=Ae,n!==null))switch(n.tag){case 3:er(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&er(i.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[dt]=e,e.stateNode=i}return ve(e),null;case 13:if(Q(Y),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(X&&De!==null&&e.mode&1&&!(e.flags&128))wp(),ci(),e.flags|=98560,r=!1;else if(r=tr(e),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(j(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(j(317));r[dt]=e}else ci(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),r=!1}else nt!==null&&(Ua(nt),nt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Y.current&1?le===0&&(le=3):Qu())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return fi(),$a(n,e),n===null&&gs(e.stateNode.containerInfo),ve(e),null;case 10:return $u(e.type._context),ve(e),null;case 17:return Me(e.type)&&qr(),ve(e),null;case 19:if(Q(Y),r=e.memoizedState,r===null)return ve(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Mi(r,!1);else{if(le!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=eo(n),o!==null){for(e.flags|=128,Mi(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)r=t,n=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,n=o.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return q(Y,Y.current&1|2),e.child}n=n.sibling}r.tail!==null&&ie()>mi&&(e.flags|=128,i=!0,Mi(r,!1),e.lanes=4194304)}else{if(!i)if(n=eo(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Mi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!X)return ve(e),null}else 2*ie()-r.renderingStartTime>mi&&t!==1073741824&&(e.flags|=128,i=!0,Mi(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ie(),e.sibling=null,t=Y.current,q(Y,i?t&1|2:t&1),e):(ve(e),null);case 22:case 23:return Gu(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ie&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function Dv(n,e){switch(Pu(e),e.tag){case 1:return Me(e.type)&&qr(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return fi(),Q(Le),Q(we),Du(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Iu(e),null;case 13:if(Q(Y),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(j(340));ci()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Q(Y),null;case 4:return fi(),null;case 10:return $u(e.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var sr=!1,ye=!1,Av=typeof WeakSet=="function"?WeakSet:Set,L=null;function Xn(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){ne(n,e,i)}else t.current=null}function Oa(n,e,t){try{t()}catch(i){ne(n,e,i)}}var yc=!1;function Fv(n,e){if(va=Br,n=op(),ju(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var o=0,l=-1,a=-1,u=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||s!==0&&d.nodeType!==3||(l=o+s),d!==r||i!==0&&d.nodeType!==3||(a=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++u===s&&(l=o),f===r&&++h===i&&(a=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=l===-1||a===-1?null:{start:l,end:a}}else t=null}t=t||{start:0,end:0}}else t=null;for(ya={focusedElem:n,selectionRange:t},Br=!1,L=e;L!==null;)if(e=L,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,L=n;else for(;L!==null;){e=L;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ze(e.type,g),b);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){ne(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}return v=yc,yc=!1,v}function Qi(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var r=s.destroy;s.destroy=void 0,r!==void 0&&Oa(e,t,r)}s=s.next}while(s!==i)}}function No(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Ra(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function nm(n){var e=n.alternate;e!==null&&(n.alternate=null,nm(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[dt],delete e[ys],delete e[ba],delete e[_v],delete e[Sv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function im(n){return n.tag===5||n.tag===3||n.tag===4}function wc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||im(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function za(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Kr));else if(i!==4&&(n=n.child,n!==null))for(za(n,e,t),n=n.sibling;n!==null;)za(n,e,t),n=n.sibling}function Ia(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Ia(n,e,t),n=n.sibling;n!==null;)Ia(n,e,t),n=n.sibling}var de=null,et=!1;function Lt(n,e,t){for(t=t.child;t!==null;)sm(n,e,t),t=t.sibling}function sm(n,e,t){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(yo,t)}catch{}switch(t.tag){case 5:ye||Xn(t,e);case 6:var i=de,s=et;de=null,Lt(n,e,t),de=i,et=s,de!==null&&(et?(n=de,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):de.removeChild(t.stateNode));break;case 18:de!==null&&(et?(n=de,t=t.stateNode,n.nodeType===8?hl(n.parentNode,t):n.nodeType===1&&hl(n,t),fs(n)):hl(de,t.stateNode));break;case 4:i=de,s=et,de=t.stateNode.containerInfo,et=!0,Lt(n,e,t),de=i,et=s;break;case 0:case 11:case 14:case 15:if(!ye&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Oa(t,e,o),s=s.next}while(s!==i)}Lt(n,e,t);break;case 1:if(!ye&&(Xn(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(l){ne(t,e,l)}Lt(n,e,t);break;case 21:Lt(n,e,t);break;case 22:t.mode&1?(ye=(i=ye)||t.memoizedState!==null,Lt(n,e,t),ye=i):Lt(n,e,t);break;default:Lt(n,e,t)}}function xc(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Av),e.forEach(function(i){var s=Gv.bind(null,n,i);t.has(i)||(t.add(i),i.then(s,s))})}}function Ye(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];try{var r=n,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:de=l.stateNode,et=!1;break e;case 3:de=l.stateNode.containerInfo,et=!0;break e;case 4:de=l.stateNode.containerInfo,et=!0;break e}l=l.return}if(de===null)throw Error(j(160));sm(r,o,s),de=null,et=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){ne(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rm(e,n),e=e.sibling}function rm(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ye(e,n),at(n),i&4){try{Qi(3,n,n.return),No(3,n)}catch(g){ne(n,n.return,g)}try{Qi(5,n,n.return)}catch(g){ne(n,n.return,g)}}break;case 1:Ye(e,n),at(n),i&512&&t!==null&&Xn(t,t.return);break;case 5:if(Ye(e,n),at(n),i&512&&t!==null&&Xn(t,t.return),n.flags&32){var s=n.stateNode;try{us(s,"")}catch(g){ne(n,n.return,g)}}if(i&4&&(s=n.stateNode,s!=null)){var r=n.memoizedProps,o=t!==null?t.memoizedProps:r,l=n.type,a=n.updateQueue;if(n.updateQueue=null,a!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&jf(s,r),la(l,o);var u=la(l,r);for(o=0;o<a.length;o+=2){var h=a[o],d=a[o+1];h==="style"?Mf(s,d):h==="dangerouslySetInnerHTML"?Tf(s,d):h==="children"?us(s,d):pu(s,h,d,u)}switch(l){case"input":na(s,r);break;case"textarea":Ef(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?ti(s,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?ti(s,!!r.multiple,r.defaultValue,!0):ti(s,!!r.multiple,r.multiple?[]:"",!1))}s[ys]=r}catch(g){ne(n,n.return,g)}}break;case 6:if(Ye(e,n),at(n),i&4){if(n.stateNode===null)throw Error(j(162));s=n.stateNode,r=n.memoizedProps;try{s.nodeValue=r}catch(g){ne(n,n.return,g)}}break;case 3:if(Ye(e,n),at(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{fs(e.containerInfo)}catch(g){ne(n,n.return,g)}break;case 4:Ye(e,n),at(n);break;case 13:Ye(e,n),at(n),s=n.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(qu=ie())),i&4&&xc(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(ye=(u=ye)||h,Ye(e,n),ye=u):Ye(e,n),at(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(L=n,h=n.child;h!==null;){for(d=L=h;L!==null;){switch(f=L,p=f.child,f.tag){case 0:case 11:case 14:case 15:Qi(4,f,f.return);break;case 1:Xn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){ne(i,t,g)}}break;case 5:Xn(f,f.return);break;case 22:if(f.memoizedState!==null){_c(d);continue}}p!==null?(p.return=f,L=p):_c(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Lf("display",o))}catch(g){ne(n,n.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){ne(n,n.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ye(e,n),at(n),i&4&&xc(n);break;case 21:break;default:Ye(e,n),at(n)}}function at(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(im(t)){var i=t;break e}t=t.return}throw Error(j(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(us(s,""),i.flags&=-33);var r=wc(n);Ia(n,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=wc(n);za(n,l,o);break;default:throw Error(j(161))}}catch(a){ne(n,n.return,a)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Uv(n,e,t){L=n,om(n)}function om(n,e,t){for(var i=(n.mode&1)!==0;L!==null;){var s=L,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||sr;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ye;l=sr;var u=ye;if(sr=o,(ye=a)&&!u)for(L=s;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?Sc(s):a!==null?(a.return=o,L=a):Sc(s);for(;r!==null;)L=r,om(r),r=r.sibling;L=s,sr=l,ye=u}bc(n)}else s.subtreeFlags&8772&&r!==null?(r.return=s,L=r):bc(n)}}function bc(n){for(;L!==null;){var e=L;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||No(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ye)if(t===null)i.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Ze(e.type,t.memoizedProps);i.componentDidUpdate(s,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&rc(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}rc(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&t.focus();break;case"img":a.src&&(t.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&fs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}ye||e.flags&512&&Ra(e)}catch(f){ne(e,e.return,f)}}if(e===n){L=null;break}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}}function _c(n){for(;L!==null;){var e=L;if(e===n){L=null;break}var t=e.sibling;if(t!==null){t.return=e.return,L=t;break}L=e.return}}function Sc(n){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{No(4,e)}catch(a){ne(e,t,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(a){ne(e,s,a)}}var r=e.return;try{Ra(e)}catch(a){ne(e,r,a)}break;case 5:var o=e.return;try{Ra(e)}catch(a){ne(e,o,a)}}}catch(a){ne(e,e.return,a)}if(e===n){L=null;break}var l=e.sibling;if(l!==null){l.return=e.return,L=l;break}L=e.return}}var Vv=Math.ceil,io=Pt.ReactCurrentDispatcher,Hu=Pt.ReactCurrentOwner,qe=Pt.ReactCurrentBatchConfig,V=0,ce=null,re=null,pe=0,Ie=0,Yn=nn(0),le=0,ks=null,kn=0,jo=0,Ku=0,Xi=null,Ee=null,qu=0,mi=1/0,vt=null,so=!1,Da=null,Jt=null,rr=!1,Vt=null,ro=0,Yi=0,Aa=null,Lr=-1,Mr=0;function Se(){return V&6?ie():Lr!==-1?Lr:Lr=ie()}function Gt(n){return n.mode&1?V&2&&pe!==0?pe&-pe:Cv.transition!==null?(Mr===0&&(Mr=Wf()),Mr):(n=H,n!==0||(n=window.event,n=n===void 0?16:Xf(n.type)),n):1}function st(n,e,t,i){if(50<Yi)throw Yi=0,Aa=null,Error(j(185));Os(n,t,i),(!(V&2)||n!==ce)&&(n===ce&&(!(V&2)&&(jo|=t),le===4&&At(n,pe)),$e(n,i),t===1&&V===0&&!(e.mode&1)&&(mi=ie()+500,So&&sn()))}function $e(n,e){var t=n.callbackNode;C0(n,e);var i=Vr(n,n===ce?pe:0);if(i===0)t!==null&&Mh(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&Mh(t),e===1)n.tag===0?kv(kc.bind(null,n)):gp(kc.bind(null,n)),xv(function(){!(V&6)&&sn()}),t=null;else{switch(Hf(i)){case 1:t=wu;break;case 4:t=Vf;break;case 16:t=Ur;break;case 536870912:t=Bf;break;default:t=Ur}t=pm(t,lm.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function lm(n,e){if(Lr=-1,Mr=0,V&6)throw Error(j(327));var t=n.callbackNode;if(oi()&&n.callbackNode!==t)return null;var i=Vr(n,n===ce?pe:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=oo(n,i);else{e=i;var s=V;V|=2;var r=um();(ce!==n||pe!==e)&&(vt=null,mi=ie()+500,vn(n,e));do try{Hv();break}catch(l){am(n,l)}while(!0);Mu(),io.current=r,V=s,re!==null?e=0:(ce=null,pe=0,e=le)}if(e!==0){if(e===2&&(s=da(n),s!==0&&(i=s,e=Fa(n,s))),e===1)throw t=ks,vn(n,0),At(n,i),$e(n,ie()),t;if(e===6)At(n,i);else{if(s=n.current.alternate,!(i&30)&&!Bv(s)&&(e=oo(n,i),e===2&&(r=da(n),r!==0&&(i=r,e=Fa(n,r))),e===1))throw t=ks,vn(n,0),At(n,i),$e(n,ie()),t;switch(n.finishedWork=s,n.finishedLanes=i,e){case 0:case 1:throw Error(j(345));case 2:cn(n,Ee,vt);break;case 3:if(At(n,i),(i&130023424)===i&&(e=qu+500-ie(),10<e)){if(Vr(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){Se(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=xa(cn.bind(null,n,Ee,vt),e);break}cn(n,Ee,vt);break;case 4:if(At(n,i),(i&4194240)===i)break;for(e=n.eventTimes,s=-1;0<i;){var o=31-it(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=ie()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Vv(i/1960))-i,10<i){n.timeoutHandle=xa(cn.bind(null,n,Ee,vt),i);break}cn(n,Ee,vt);break;case 5:cn(n,Ee,vt);break;default:throw Error(j(329))}}}return $e(n,ie()),n.callbackNode===t?lm.bind(null,n):null}function Fa(n,e){var t=Xi;return n.current.memoizedState.isDehydrated&&(vn(n,e).flags|=256),n=oo(n,e),n!==2&&(e=Ee,Ee=t,e!==null&&Ua(e)),n}function Ua(n){Ee===null?Ee=n:Ee.push.apply(Ee,n)}function Bv(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var s=t[i],r=s.getSnapshot;s=s.value;try{if(!rt(r(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function At(n,e){for(e&=~Ku,e&=~jo,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-it(e),i=1<<t;n[t]=-1,e&=~i}}function kc(n){if(V&6)throw Error(j(327));oi();var e=Vr(n,0);if(!(e&1))return $e(n,ie()),null;var t=oo(n,e);if(n.tag!==0&&t===2){var i=da(n);i!==0&&(e=i,t=Fa(n,i))}if(t===1)throw t=ks,vn(n,0),At(n,e),$e(n,ie()),t;if(t===6)throw Error(j(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,cn(n,Ee,vt),$e(n,ie()),null}function Ju(n,e){var t=V;V|=1;try{return n(e)}finally{V=t,V===0&&(mi=ie()+500,So&&sn())}}function Cn(n){Vt!==null&&Vt.tag===0&&!(V&6)&&oi();var e=V;V|=1;var t=qe.transition,i=H;try{if(qe.transition=null,H=1,n)return n()}finally{H=i,qe.transition=t,V=e,!(V&6)&&sn()}}function Gu(){Ie=Yn.current,Q(Yn)}function vn(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,wv(t)),re!==null)for(t=re.return;t!==null;){var i=t;switch(Pu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&qr();break;case 3:fi(),Q(Le),Q(we),Du();break;case 5:Iu(i);break;case 4:fi();break;case 13:Q(Y);break;case 19:Q(Y);break;case 10:$u(i.type._context);break;case 22:case 23:Gu()}t=t.return}if(ce=n,re=n=Qt(n.current,null),pe=Ie=e,le=0,ks=null,Ku=jo=kn=0,Ee=Xi=null,mn!==null){for(e=0;e<mn.length;e++)if(t=mn[e],i=t.interleaved,i!==null){t.interleaved=null;var s=i.next,r=t.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}t.pending=i}mn=null}return n}function am(n,e){do{var t=re;try{if(Mu(),Er.current=no,to){for(var i=Z.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}to=!1}if(Sn=0,he=oe=Z=null,Gi=!1,bs=0,Hu.current=null,t===null||t.return===null){le=1,ks=e,re=null;break}e:{var r=n,o=t.return,l=t,a=e;if(e=pe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=cc(o);if(p!==null){p.flags&=-257,dc(p,o,l,r,e),p.mode&1&&hc(r,u,e),e=p,a=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(a),e.updateQueue=g}else v.add(a);break e}else{if(!(e&1)){hc(r,u,e),Qu();break e}a=Error(j(426))}}else if(X&&l.mode&1){var b=cc(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),dc(b,o,l,r,e),Tu(pi(a,l));break e}}r=a=pi(a,l),le!==4&&(le=2),Xi===null?Xi=[r]:Xi.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var y=Hp(r,a,e);sc(r,y);break e;case 1:l=a;var m=r.type,w=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Jt===null||!Jt.has(w)))){r.flags|=65536,e&=-e,r.lanes|=e;var x=Kp(r,l,e);sc(r,x);break e}}r=r.return}while(r!==null)}cm(t)}catch(_){e=_,re===t&&t!==null&&(re=t=t.return);continue}break}while(!0)}function um(){var n=io.current;return io.current=no,n===null?no:n}function Qu(){(le===0||le===3||le===2)&&(le=4),ce===null||!(kn&268435455)&&!(jo&268435455)||At(ce,pe)}function oo(n,e){var t=V;V|=2;var i=um();(ce!==n||pe!==e)&&(vt=null,vn(n,e));do try{Wv();break}catch(s){am(n,s)}while(!0);if(Mu(),V=t,io.current=i,re!==null)throw Error(j(261));return ce=null,pe=0,le}function Wv(){for(;re!==null;)hm(re)}function Hv(){for(;re!==null&&!g0();)hm(re)}function hm(n){var e=fm(n.alternate,n,Ie);n.memoizedProps=n.pendingProps,e===null?cm(n):re=e,Hu.current=null}function cm(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Dv(t,e),t!==null){t.flags&=32767,re=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{le=6,re=null;return}}else if(t=Iv(t,e,Ie),t!==null){re=t;return}if(e=e.sibling,e!==null){re=e;return}re=e=n}while(e!==null);le===0&&(le=5)}function cn(n,e,t){var i=H,s=qe.transition;try{qe.transition=null,H=1,Kv(n,e,t,i)}finally{qe.transition=s,H=i}return null}function Kv(n,e,t,i){do oi();while(Vt!==null);if(V&6)throw Error(j(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(j(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(N0(n,r),n===ce&&(re=ce=null,pe=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||rr||(rr=!0,pm(Ur,function(){return oi(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=qe.transition,qe.transition=null;var o=H;H=1;var l=V;V|=4,Hu.current=null,Fv(n,t),rm(t,n),dv(ya),Br=!!va,ya=va=null,n.current=t,Uv(t),v0(),V=l,H=o,qe.transition=r}else n.current=t;if(rr&&(rr=!1,Vt=n,ro=s),r=n.pendingLanes,r===0&&(Jt=null),x0(t.stateNode),$e(n,ie()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],i(s.value,{componentStack:s.stack,digest:s.digest});if(so)throw so=!1,n=Da,Da=null,n;return ro&1&&n.tag!==0&&oi(),r=n.pendingLanes,r&1?n===Aa?Yi++:(Yi=0,Aa=n):Yi=0,sn(),null}function oi(){if(Vt!==null){var n=Hf(ro),e=qe.transition,t=H;try{if(qe.transition=null,H=16>n?16:n,Vt===null)var i=!1;else{if(n=Vt,Vt=null,ro=0,V&6)throw Error(j(331));var s=V;for(V|=4,L=n.current;L!==null;){var r=L,o=r.child;if(L.flags&16){var l=r.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(L=u;L!==null;){var h=L;switch(h.tag){case 0:case 11:case 15:Qi(8,h,r)}var d=h.child;if(d!==null)d.return=h,L=d;else for(;L!==null;){h=L;var f=h.sibling,p=h.return;if(nm(h),h===u){L=null;break}if(f!==null){f.return=p,L=f;break}L=p}}}var v=r.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}L=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,L=o;else e:for(;L!==null;){if(r=L,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Qi(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,L=y;break e}L=r.return}}var m=n.current;for(L=m;L!==null;){o=L;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,L=w;else e:for(o=m;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:No(9,l)}}catch(_){ne(l,l.return,_)}if(l===o){L=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,L=x;break e}L=l.return}}if(V=s,sn(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(yo,n)}catch{}i=!0}return i}finally{H=t,qe.transition=e}}return!1}function Cc(n,e,t){e=pi(t,e),e=Hp(n,e,1),n=qt(n,e,1),e=Se(),n!==null&&(Os(n,1,e),$e(n,e))}function ne(n,e,t){if(n.tag===3)Cc(n,n,t);else for(;e!==null;){if(e.tag===3){Cc(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Jt===null||!Jt.has(i))){n=pi(t,n),n=Kp(e,n,1),e=qt(e,n,1),n=Se(),e!==null&&(Os(e,1,n),$e(e,n));break}}e=e.return}}function qv(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Se(),n.pingedLanes|=n.suspendedLanes&t,ce===n&&(pe&t)===t&&(le===4||le===3&&(pe&130023424)===pe&&500>ie()-qu?vn(n,0):Ku|=t),$e(n,e)}function dm(n,e){e===0&&(n.mode&1?(e=Gs,Gs<<=1,!(Gs&130023424)&&(Gs=4194304)):e=1);var t=Se();n=jt(n,e),n!==null&&(Os(n,e,t),$e(n,t))}function Jv(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),dm(n,t)}function Gv(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(j(314))}i!==null&&i.delete(e),dm(n,t)}var fm;fm=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Le.current)Te=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Te=!1,zv(n,e,t);Te=!!(n.flags&131072)}else Te=!1,X&&e.flags&1048576&&vp(e,Qr,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Tr(n,e),n=e.pendingProps;var s=hi(e,we.current);ri(e,t),s=Fu(null,e,i,n,s,t);var r=Uu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Me(i)?(r=!0,Jr(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ru(e),s.updater=Co,e.stateNode=s,s._reactInternals=e,ja(e,i,n,t),e=Ta(null,e,i,!0,r,t)):(e.tag=0,X&&r&&Eu(e),_e(null,e,s,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Tr(n,e),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Xv(i),n=Ze(i,n),s){case 0:e=Pa(null,e,i,n,t);break e;case 1:e=mc(null,e,i,n,t);break e;case 11:e=fc(null,e,i,n,t);break e;case 14:e=pc(null,e,i,Ze(i.type,n),t);break e}throw Error(j(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Ze(i,s),Pa(n,e,i,s,t);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Ze(i,s),mc(n,e,i,s,t);case 3:e:{if(Qp(e),n===null)throw Error(j(387));i=e.pendingProps,r=e.memoizedState,s=r.element,Sp(n,e),Zr(e,i,null,t);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=pi(Error(j(423)),e),e=gc(n,e,i,t,s);break e}else if(i!==s){s=pi(Error(j(424)),e),e=gc(n,e,i,t,s);break e}else for(De=Kt(e.stateNode.containerInfo.firstChild),Ae=e,X=!0,nt=null,t=bp(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ci(),i===s){e=Et(n,e,t);break e}_e(n,e,i,t)}e=e.child}return e;case 5:return kp(e),n===null&&ka(e),i=e.type,s=e.pendingProps,r=n!==null?n.memoizedProps:null,o=s.children,wa(i,s)?o=null:r!==null&&wa(i,r)&&(e.flags|=32),Gp(n,e),_e(n,e,o,t),e.child;case 6:return n===null&&ka(e),null;case 13:return Xp(n,e,t);case 4:return zu(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=di(e,null,i,t):_e(n,e,i,t),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Ze(i,s),fc(n,e,i,s,t);case 7:return _e(n,e,e.pendingProps,t),e.child;case 8:return _e(n,e,e.pendingProps.children,t),e.child;case 12:return _e(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,q(Xr,i._currentValue),i._currentValue=o,r!==null)if(rt(r.value,o)){if(r.children===s.children&&!Le.current){e=Et(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(r.tag===1){a=kt(-1,t&-t),a.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}r.lanes|=t,a=r.alternate,a!==null&&(a.lanes|=t),Ca(r.return,t,e),l.lanes|=t;break}a=a.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(j(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),Ca(o,t,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}_e(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,ri(e,t),s=Ge(s),i=i(s),e.flags|=1,_e(n,e,i,t),e.child;case 14:return i=e.type,s=Ze(i,e.pendingProps),s=Ze(i.type,s),pc(n,e,i,s,t);case 15:return qp(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Ze(i,s),Tr(n,e),e.tag=1,Me(i)?(n=!0,Jr(e)):n=!1,ri(e,t),Wp(e,i,s),ja(e,i,s,t),Ta(null,e,i,!0,n,t);case 19:return Yp(n,e,t);case 22:return Jp(n,e,t)}throw Error(j(156,e.tag))};function pm(n,e){return Uf(n,e)}function Qv(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(n,e,t,i){return new Qv(n,e,t,i)}function Xu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xv(n){if(typeof n=="function")return Xu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===gu)return 11;if(n===vu)return 14}return 2}function Qt(n,e){var t=n.alternate;return t===null?(t=Ke(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function $r(n,e,t,i,s,r){var o=2;if(i=n,typeof n=="function")Xu(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Vn:return yn(t.children,s,r,e);case mu:o=8,s|=8;break;case Xl:return n=Ke(12,t,e,s|2),n.elementType=Xl,n.lanes=r,n;case Yl:return n=Ke(13,t,e,s),n.elementType=Yl,n.lanes=r,n;case Zl:return n=Ke(19,t,e,s),n.elementType=Zl,n.lanes=r,n;case kf:return Eo(t,s,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _f:o=10;break e;case Sf:o=9;break e;case gu:o=11;break e;case vu:o=14;break e;case Rt:o=16,i=null;break e}throw Error(j(130,n==null?n:typeof n,""))}return e=Ke(o,t,e,s),e.elementType=n,e.type=i,e.lanes=r,e}function yn(n,e,t,i){return n=Ke(7,n,i,e),n.lanes=t,n}function Eo(n,e,t,i){return n=Ke(22,n,i,e),n.elementType=kf,n.lanes=t,n.stateNode={isHidden:!1},n}function yl(n,e,t){return n=Ke(6,n,null,e),n.lanes=t,n}function wl(n,e,t){return e=Ke(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Yv(n,e,t,i,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yu(n,e,t,i,s,r,o,l,a){return n=new Yv(n,e,t,l,a),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Ke(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(r),n}function Zv(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function mm(n){if(!n)return Zt;n=n._reactInternals;e:{if(Ln(n)!==n||n.tag!==1)throw Error(j(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Me(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(n.tag===1){var t=n.type;if(Me(t))return mp(n,t,e)}return e}function gm(n,e,t,i,s,r,o,l,a){return n=Yu(t,i,!0,n,s,r,o,l,a),n.context=mm(null),t=n.current,i=Se(),s=Gt(t),r=kt(i,s),r.callback=e??null,qt(t,r,s),n.current.lanes=s,Os(n,s,i),$e(n,i),n}function Po(n,e,t,i){var s=e.current,r=Se(),o=Gt(s);return t=mm(t),e.context===null?e.context=t:e.pendingContext=t,e=kt(r,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=qt(s,e,o),n!==null&&(st(n,s,o,r),jr(n,s,o)),o}function lo(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Nc(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Zu(n,e){Nc(n,e),(n=n.alternate)&&Nc(n,e)}function ey(){return null}var vm=typeof reportError=="function"?reportError:function(n){console.error(n)};function eh(n){this._internalRoot=n}To.prototype.render=eh.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(j(409));Po(n,e,null,null)};To.prototype.unmount=eh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Cn(function(){Po(null,n,null,null)}),e[Nt]=null}};function To(n){this._internalRoot=n}To.prototype.unstable_scheduleHydration=function(n){if(n){var e=Jf();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Dt.length&&e!==0&&e<Dt[t].priority;t++);Dt.splice(t,0,n),t===0&&Qf(n)}};function th(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Lo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function jc(){}function ty(n,e,t,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=lo(o);r.call(u)}}var o=gm(e,i,n,0,null,!1,!1,"",jc);return n._reactRootContainer=o,n[Nt]=o.current,gs(n.nodeType===8?n.parentNode:n),Cn(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var u=lo(a);l.call(u)}}var a=Yu(n,0,!1,null,null,!1,!1,"",jc);return n._reactRootContainer=a,n[Nt]=a.current,gs(n.nodeType===8?n.parentNode:n),Cn(function(){Po(e,a,t,i)}),a}function Mo(n,e,t,i,s){var r=t._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var a=lo(o);l.call(a)}}Po(e,o,n,s)}else o=ty(t,e,n,s,i);return lo(o)}Kf=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ui(e.pendingLanes);t!==0&&(xu(e,t|1),$e(e,ie()),!(V&6)&&(mi=ie()+500,sn()))}break;case 13:Cn(function(){var i=jt(n,1);if(i!==null){var s=Se();st(i,n,1,s)}}),Zu(n,1)}};bu=function(n){if(n.tag===13){var e=jt(n,134217728);if(e!==null){var t=Se();st(e,n,134217728,t)}Zu(n,134217728)}};qf=function(n){if(n.tag===13){var e=Gt(n),t=jt(n,e);if(t!==null){var i=Se();st(t,n,e,i)}Zu(n,e)}};Jf=function(){return H};Gf=function(n,e){var t=H;try{return H=n,e()}finally{H=t}};ua=function(n,e,t){switch(e){case"input":if(na(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var s=_o(i);if(!s)throw Error(j(90));Nf(i),na(i,s)}}}break;case"textarea":Ef(n,t);break;case"select":e=t.value,e!=null&&ti(n,!!t.multiple,e,!1)}};Rf=Ju;zf=Cn;var ny={usingClientEntryPoint:!1,Events:[zs,Kn,_o,$f,Of,Ju]},$i={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iy={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Af(n),n===null?null:n.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||ey,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!or.isDisabled&&or.supportsFiber)try{yo=or.inject(iy),mt=or}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ny;Ue.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!th(e))throw Error(j(200));return Zv(n,e,null,t)};Ue.createRoot=function(n,e){if(!th(n))throw Error(j(299));var t=!1,i="",s=vm;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yu(n,1,!1,null,null,t,!1,i,s),n[Nt]=e.current,gs(n.nodeType===8?n.parentNode:n),new eh(e)};Ue.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(j(188)):(n=Object.keys(n).join(","),Error(j(268,n)));return n=Af(e),n=n===null?null:n.stateNode,n};Ue.flushSync=function(n){return Cn(n)};Ue.hydrate=function(n,e,t){if(!Lo(e))throw Error(j(200));return Mo(null,n,e,!0,t)};Ue.hydrateRoot=function(n,e,t){if(!th(n))throw Error(j(405));var i=t!=null&&t.hydratedSources||null,s=!1,r="",o=vm;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=gm(e,null,n,1,t??null,s,!1,r,o),n[Nt]=e.current,gs(n),i)for(n=0;n<i.length;n++)t=i[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new To(e)};Ue.render=function(n,e,t){if(!Lo(e))throw Error(j(200));return Mo(null,n,e,!1,t)};Ue.unmountComponentAtNode=function(n){if(!Lo(n))throw Error(j(40));return n._reactRootContainer?(Cn(function(){Mo(null,null,n,!1,function(){n._reactRootContainer=null,n[Nt]=null})}),!0):!1};Ue.unstable_batchedUpdates=Ju;Ue.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Lo(t))throw Error(j(200));if(n==null||n._reactInternals===void 0)throw Error(j(38));return Mo(n,e,t,!1,i)};Ue.version="18.3.1-next-f1338f8080-20240426";function ym(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ym)}catch(n){console.error(n)}}ym(),yf.exports=Ue;var sy=yf.exports,wm,Ec=sy;wm=Ec.createRoot,Ec.hydrateRoot;const ry="modulepreload",oy=function(n){return"/"+n},Pc={},gi=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(t.map(a=>{if(a=oy(a),a in Pc)return;Pc[a]=!0;const u=a.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":ry,u||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})},ly=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>gi(async()=>{const{default:i}=await Promise.resolve().then(()=>ki);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class nh extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class ay extends nh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uy extends nh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hy extends nh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Va;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Va||(Va={}));var cy=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(d){o(d)}}function a(h){try{u(i.throw(h))}catch(d){o(d)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,e||[])).next())})};class dy{constructor(e,{headers:t={},customFetch:i,region:s=Va.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=ly(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return cy(this,void 0,void 0,function*(){try{const{headers:s,method:r,body:o}=t;let l={},{region:a}=t;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${e}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new ay(v)}),d=h.headers.get("x-relay-error");if(d&&d==="true")throw new uy(h);if(!h.ok)throw new hy(h);let f=((i=h.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield h.json():f==="application/octet-stream"?p=yield h.blob():f==="text/event-stream"?p=h:f==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Pe={},ih={},$o={},Ds={},Oo={},Ro={},fy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vi=fy();const py=vi.fetch,xm=vi.fetch.bind(vi),bm=vi.Headers,my=vi.Request,gy=vi.Response,ki=Object.freeze(Object.defineProperty({__proto__:null,Headers:bm,Request:my,Response:gy,default:xm,fetch:py},Symbol.toStringTag,{value:"Module"})),vy=Lg(ki);var zo={};Object.defineProperty(zo,"__esModule",{value:!0});let yy=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};zo.default=yy;var _m=Je&&Je.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ro,"__esModule",{value:!0});const wy=_m(vy),xy=_m(zo);let by=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=wy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,l,a;let u=null,h=null,d=null,f=r.status,p=r.statusText;if(r.ok){if(this.method!=="HEAD"){const y=await r.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=y:h=JSON.parse(y))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=r.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,f=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const g=await r.text();try{u=JSON.parse(g),Array.isArray(u)&&r.status===404&&(h=[],u=null,f=200,p="OK")}catch{r.status===404&&g===""?(f=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new xy.default(u)}return{error:u,data:h,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(r=>{var o,l,a;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(l=r==null?void 0:r.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=r==null?void 0:r.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}};Ro.default=by;var _y=Je&&Je.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Oo,"__esModule",{value:!0});const Sy=_y(Ro);let ky=class extends Sy.default{select(e){let t=!1;const i=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:s,referencedTable:r=s}={}){const o=r?`${r}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:s=i}={}){const r=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:s=!1,wal:r=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,t?"verbose":null,i?"settings":null,s?"buffers":null,r?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Oo.default=ky;var Cy=Je&&Je.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ds,"__esModule",{value:!0});const Ny=Cy(Oo);let jy=class extends Ny.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const i=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:s}={}){let r="";s==="plain"?r="pl":s==="phrase"?r="ph":s==="websearch"&&(r="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${r}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}};Ds.default=jy;var Ey=Je&&Je.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($o,"__esModule",{value:!0});const Oi=Ey(Ds);let Py=class{constructor(e,{headers:t={},schema:i,fetch:s}){this.url=e,this.headers=t,this.schema=i,this.fetch=s}select(e,{head:t=!1,count:i}={}){const s=t?"HEAD":"GET";let r=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new Oi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:i=!0}={}){const s="POST",r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),i||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Oi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:s,defaultToNull:r=!0}={}){const o="POST",l=[`resolution=${i?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),r||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(a.length>0){const u=[...new Set(a)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Oi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const i="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new Oi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Oi.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$o.default=Py;var Io={},Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.version=void 0;Do.version="0.0.0-automated";Object.defineProperty(Io,"__esModule",{value:!0});Io.DEFAULT_HEADERS=void 0;const Ty=Do;Io.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ty.version}`};var Sm=Je&&Je.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ih,"__esModule",{value:!0});const Ly=Sm($o),My=Sm(Ds),$y=Io;let Oy=class km{constructor(e,{headers:t={},schema:i,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},$y.DEFAULT_HEADERS),t),this.schemaName=i,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new Ly.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new km(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:s=!1,count:r}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;i||s?(o=i?"HEAD":"GET",Object.entries(t).filter(([h,d])=>d!==void 0).map(([h,d])=>[h,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([h,d])=>{l.searchParams.append(h,d)})):(o="POST",a=t);const u=Object.assign({},this.headers);return r&&(u.Prefer=`count=${r}`),new My.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};ih.default=Oy;var Ci=Je&&Je.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const Cm=Ci(ih);Pe.PostgrestClient=Cm.default;const Nm=Ci($o);Pe.PostgrestQueryBuilder=Nm.default;const jm=Ci(Ds);Pe.PostgrestFilterBuilder=jm.default;const Em=Ci(Oo);Pe.PostgrestTransformBuilder=Em.default;const Pm=Ci(Ro);Pe.PostgrestBuilder=Pm.default;const Tm=Ci(zo);Pe.PostgrestError=Tm.default;var Ry=Pe.default={PostgrestClient:Cm.default,PostgrestQueryBuilder:Nm.default,PostgrestFilterBuilder:jm.default,PostgrestTransformBuilder:Em.default,PostgrestBuilder:Pm.default,PostgrestError:Tm.default};const{PostgrestClient:zy,PostgrestQueryBuilder:vk,PostgrestFilterBuilder:yk,PostgrestTransformBuilder:wk,PostgrestBuilder:xk,PostgrestError:bk}=Ry,Iy="2.11.2",Dy={"X-Client-Info":`realtime-js/${Iy}`},Ay="1.0.0",Lm=1e4,Fy=1e3;var li;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(li||(li={}));var ze;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ze||(ze={}));var tt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(tt||(tt={}));var Ba;(function(n){n.websocket="websocket"})(Ba||(Ba={}));var fn;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(fn||(fn={}));class Uy{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const s=t.getUint8(1),r=t.getUint8(2);let o=this.HEADER_LENGTH+2;const l=i.decode(e.slice(o,o+s));o=o+s;const a=i.decode(e.slice(o,o+r));o=o+r;const u=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class Mm{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(K||(K={}));const Tc=(n,e,t={})=>{var i;const s=(i=t.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((r,o)=>(r[o]=Vy(o,n,e,s),r),{})},Vy=(n,e,t,i)=>{const s=e.find(l=>l.name===n),r=s==null?void 0:s.type,o=t[n];return r&&!i.includes(r)?$m(r,o):Wa(o)},$m=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Ky(e,t)}switch(n){case K.bool:return By(e);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return Wy(e);case K.json:case K.jsonb:return Hy(e);case K.timestamp:return qy(e);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return Wa(e);default:return Wa(e)}},Wa=n=>n,By=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Wy=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Hy=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Ky=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let r;const o=n.slice(1,t);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(l=>$m(e,l))}return n},qy=n=>typeof n=="string"?n.replace(" ","T"):n,Om=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class xl{constructor(e,t,i={},s=Lm){this.channel=e,this.event=t,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lc;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Lc||(Lc={}));class Zi{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:r,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zi.syncState(this.state,s,r,o),this.pendingDiffs.forEach(a=>{this.state=Zi.syncDiff(this.state,a,r,o)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},s=>{const{onJoin:r,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zi.syncDiff(this.state,s,r,o),l())}),this.onJoin((s,r,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:r,newPresences:o})}),this.onLeave((s,r,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,s){const r=this.cloneDeep(e),o=this.transformState(t),l={},a={};return this.map(r,(u,h)=>{o[u]||(a[u]=h)}),this.map(o,(u,h)=>{const d=r[u];if(d){const f=h.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),v=h.filter(b=>p.indexOf(b.presence_ref)<0),g=d.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(a[u]=g)}else l[u]=h}),this.syncDiff(r,{joins:l,leaves:a},i,s)}static syncDiff(e,t,i,s){const{joins:r,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(r,(l,a)=>{var u;const h=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),h.length>0){const d=e[l].map(p=>p.presence_ref),f=h.filter(p=>d.indexOf(p.presence_ref)<0);e[l].unshift(...f)}i(l,h,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const h=a.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const s=e[i];return"metas"in s?t[i]=s.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):t[i]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mc;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Mc||(Mc={}));var $c;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})($c||($c={}));var yt;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class sh{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new xl(this,tt.join,this.params,this.timeout),this.rejoinTimer=new Mm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tt.reply,{},(s,r)=>{this._trigger(this._replyEventName(r),s)}),this.presence=new Zi(this),this.broadcastEndpointURL=Om(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:o,private:l}}=this.params;this._onError(h=>e==null?void 0:e(yt.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(yt.CLOSED));const a={},u={broadcast:r,presence:o,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(h=>h.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:h})=>{var d;if(this.socket.setAuth(),h===void 0){e==null||e(yt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,v=[];for(let g=0;g<p;g++){const b=f[g],{filter:{event:y,schema:m,table:w,filter:x}}=b,_=h&&h[g];if(_&&_.event===y&&_.schema===m&&_.table===w&&_.filter===x)v.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),e==null||e(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(yt.SUBSCRIBED);return}}).receive("error",h=>{e==null||e(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this._on(e,t,i)}async send(e,t={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,l,a;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&r("ok"),u.receive("ok",()=>r("ok")),u.receive("error",()=>r("error")),u.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ze.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const s=new xl(this,tt.leave,{},e);s.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,t,i){const s=new AbortController,r=setTimeout(()=>s.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(r),o}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xl(this,e,t,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var s,r;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:h}=tt;if(i&&[l,a,u,h].indexOf(o)>=0&&i!==this._joinRef())return;let f=this._onMessage(o,t,i);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,g,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,i)):(r=this.bindings[o])===null||r===void 0||r.filter(p=>{var v,g,b,y,m,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const x=p.id,_=(v=p.filter)===null||v===void 0?void 0:v.event;return x&&((g=t.ids)===null||g===void 0?void 0:g.includes(x))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(m=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((w=t==null?void 0:t.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:g,table:b,commit_timestamp:y,type:m,errors:w}=v;f=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:m,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(f,i)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const s=e.toLocaleLowerCase(),r={type:s,filter:t,callback:i};return this.bindings[s]?this.bindings[s].push(r):this.bindings[s]=[r],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var r;return!(((r=s.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===i&&sh.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tt.close,{},e)}_onError(e){this._on(tt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Tc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Tc(e.columns,e.old_record)),t}}const Jy=()=>{},Gy=typeof WebSocket<"u",Qy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Xy{constructor(e,t){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Dy,this.params={},this.timeout=Lm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Jy,this.conn=null,this.sendBuffer=[],this.serializer=new Uy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...l)=>gi(async()=>{const{default:a}=await Promise.resolve().then(()=>ki);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Ba.websocket}`,this.httpEndpoint=Om(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(i=t==null?void 0:t.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(r,o)=>o(JSON.stringify(r)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Mm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Gy){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Yy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),gi(async()=>{const{default:e}=await import("./browser-B8KqFyGx.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ay}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case li.connecting:return fn.Connecting;case li.open:return fn.Open;case li.closing:return fn.Closing;default:return fn.Closed}}isConnected(){return this.connectionState()===fn.Open}channel(e,t={config:{}}){const i=new sh(`realtime:${e}`,t,this);return this.channels.push(i),i}push(e){const{topic:t,event:i,payload:s,ref:r}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${t} ${i} (${r})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let i=null;try{i=JSON.parse(atob(t.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=t,this.channels.forEach(s=>{t&&s.updateJoinPayload({access_token:t}),s.joinedOnce&&s._isJoined()&&s._push(tt.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Fy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:s,payload:r,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${i} ${s} ${o&&"("+o+")"||""}`,r),this.channels.filter(l=>l._isMember(i)).forEach(l=>l._trigger(s,r,o)),this.stateChangeCallbacks.message.forEach(l=>l(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(tt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${i}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([Qy],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}}class Yy{constructor(e,t,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=li.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=i.close}}class rh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Zy extends rh{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ha extends rh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var e1=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(d){o(d)}}function a(h){try{u(i.throw(h))}catch(d){o(d)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,e||[])).next())})};const Rm=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>gi(async()=>{const{default:i}=await Promise.resolve().then(()=>ki);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},t1=()=>e1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gi(()=>Promise.resolve().then(()=>ki),void 0)).Response:Response}),Ka=n=>{if(Array.isArray(n))return n.map(t=>Ka(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const s=t.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[s]=Ka(i)}),e};var Mn=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(d){o(d)}}function a(h){try{u(i.throw(h))}catch(d){o(d)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,e||[])).next())})};const bl=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),n1=(n,e,t)=>Mn(void 0,void 0,void 0,function*(){const i=yield t1();n instanceof i&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{e(new Zy(bl(s),n.status||500))}).catch(s=>{e(new Ha(bl(s),s))}):e(new Ha(bl(n),n))}),i1=(n,e,t,i)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),t))};function As(n,e,t,i,s,r){return Mn(this,void 0,void 0,function*(){return new Promise((o,l)=>{n(t,i1(e,i,s,r)).then(a=>{if(!a.ok)throw a;return i!=null&&i.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>n1(a,l,i))})})}function ao(n,e,t,i){return Mn(this,void 0,void 0,function*(){return As(n,"GET",e,t,i)})}function It(n,e,t,i,s){return Mn(this,void 0,void 0,function*(){return As(n,"POST",e,i,s,t)})}function s1(n,e,t,i,s){return Mn(this,void 0,void 0,function*(){return As(n,"PUT",e,i,s,t)})}function r1(n,e,t,i){return Mn(this,void 0,void 0,function*(){return As(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function zm(n,e,t,i,s){return Mn(this,void 0,void 0,function*(){return As(n,"DELETE",e,i,s,t)})}var je=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(d){o(d)}}function a(h){try{u(i.throw(h))}catch(d){o(d)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,e||[])).next())})};const o1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Oc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class l1{constructor(e,t={},i,s){this.url=e,this.headers=t,this.bucketId=i,this.fetch=Rm(s)}uploadOrUpdate(e,t,i,s){return je(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Oc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&i instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),a&&r.append("metadata",this.encodeMetadata(a)),r.append("",i)):typeof FormData<"u"&&i instanceof FormData?(r=i,r.append("cacheControl",o.cacheControl),a&&r.append("metadata",this.encodeMetadata(a))):(r=i,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(t),h=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:r,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}upload(e,t,i){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,s){return je(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let a;const u=Object.assign({upsert:Oc.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",u.cacheControl)):(a=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:h}),f=yield d.json();return d.ok?{data:{path:r,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,t){return je(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const r=yield It(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),o=new URL(this.url+r.url),l=o.searchParams.get("token");if(!l)throw new rh("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}update(e,t,i){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return je(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}copy(e,t,i){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,i){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),r=yield It(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,i){return je(this,void 0,void 0,function*(){try{const s=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),r=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}download(e,t){return je(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=r?`?${r}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ao(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}info(e){return je(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield ao(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ka(i),error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}exists(e){return je(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield r1(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(ue(i)&&i instanceof Ha){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),s=[],r=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&s.push(r);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${u}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield zm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}})}list(e,t,i){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},o1),t),{prefix:e||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const a1="2.7.1",u1={"X-Client-Info":`storage-js/${a1}`};var On=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(d){o(d)}}function a(h){try{u(i.throw(h))}catch(d){o(d)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,e||[])).next())})};class h1{constructor(e,t={},i){this.url=e,this.headers=Object.assign(Object.assign({},u1),t),this.fetch=Rm(i)}listBuckets(){return On(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return On(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return On(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return On(this,void 0,void 0,function*(){try{return{data:yield s1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}emptyBucket(e){return On(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}})}deleteBucket(e){return On(this,void 0,void 0,function*(){try{return{data:yield zm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}})}}class c1 extends h1{constructor(e,t={},i){super(e,t,i)}from(e){return new l1(this.url,this.headers,e,this.fetch)}}const d1="2.49.4";let Bi="";typeof Deno<"u"?Bi="deno":typeof document<"u"?Bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bi="react-native":Bi="node";const f1={"X-Client-Info":`supabase-js-${Bi}/${d1}`},p1={headers:f1},m1={schema:"public"},g1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v1={};var y1=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(d){o(d)}}function a(h){try{u(i.throw(h))}catch(d){o(d)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,e||[])).next())})};const w1=n=>{let e;return n?e=n:typeof fetch>"u"?e=xm:e=fetch,(...t)=>e(...t)},x1=()=>typeof Headers>"u"?bm:Headers,b1=(n,e,t)=>{const i=w1(t),s=x1();return(r,o)=>y1(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:n;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",n),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),i(r,Object.assign(Object.assign({},o),{headers:u}))})};var _1=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(d){o(d)}}function a(h){try{u(i.throw(h))}catch(d){o(d)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,e||[])).next())})};function S1(n){return n.replace(/\/$/,"")}function k1(n,e){const{db:t,auth:i,realtime:s,global:r}=n,{db:o,auth:l,realtime:a,global:u}=e,h={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},a),s),global:Object.assign(Object.assign({},u),r),accessToken:()=>_1(this,void 0,void 0,function*(){return""})};return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}const Im="2.69.1",Fn=30*1e3,qa=3,_l=qa*Fn,C1="http://localhost:9999",N1="supabase.auth.token",j1={"X-Client-Info":`gotrue-js/${Im}`},Ja="X-Supabase-Api-Version",Dm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,P1=6e5;class oh extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function I(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class T1 extends oh{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function L1(n){return I(n)&&n.name==="AuthApiError"}class Am extends oh{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class rn extends oh{constructor(e,t,i,s){super(e,i,s),this.name=t,this.status=i}}class $t extends rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M1(n){return I(n)&&n.name==="AuthSessionMissingError"}class Sl extends rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lr extends rn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ar extends rn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $1(n){return I(n)&&n.name==="AuthImplicitGrantRedirectError"}class Rc extends rn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ga extends rn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function kl(n){return I(n)&&n.name==="AuthRetryableFetchError"}class zc extends rn{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class es extends rn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ic="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dc=` 	
\r=`.split(""),O1=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Dc.length;e+=1)n[Dc[e].charCodeAt(0)]=-2;for(let e=0;e<Ic.length;e+=1)n[Ic[e].charCodeAt(0)]=e;return n})();function Fm(n,e,t){const i=O1[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Ac(n){const e=[],t=o=>{e.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},r=o=>{I1(o,i,t)};for(let o=0;o<n.length;o+=1)Fm(n.charCodeAt(o),s,r);return e.join("")}function R1(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function z1(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}R1(i,e)}}function I1(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if(!(n>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function D1(n){const e=[],t={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)Fm(n.charCodeAt(s),t,i);return new Uint8Array(e)}function A1(n){const e=[];return z1(n,t=>e.push(t)),new Uint8Array(e)}function F1(n){return Math.round(Date.now()/1e3)+n}function U1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const ht=()=>typeof window<"u"&&typeof document<"u",an={tested:!1,writable:!1},ts=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(an.tested)return an.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),an.tested=!0,an.writable=!0}catch{an.tested=!0,an.writable=!1}return an.writable};function V1(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,r)=>{e[r]=s})}catch{}return t.searchParams.forEach((i,s)=>{e[s]=i}),e}const Um=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>gi(async()=>{const{default:i}=await Promise.resolve().then(()=>ki);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},B1=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Vm=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},ur=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},hr=async(n,e)=>{await n.removeItem(e)};class Ao{constructor(){this.promise=new Ao.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ao.promiseConstructor=Promise;function Cl(n){const e=n.split(".");if(e.length!==3)throw new es("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!E1.test(e[i]))throw new es("JWT not in base64url format");return{header:JSON.parse(Ac(e[0])),payload:JSON.parse(Ac(e[1])),signature:D1(e[2]),raw:{header:e[0],payload:e[1]}}}async function W1(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function H1(n,e){return new Promise((i,s)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await n(r);if(!e(r,null,o)){i(o);return}}catch(o){if(!e(r,o)){s(o);return}}})()})}function K1(n){return("0"+n.toString(16)).substr(-2)}function q1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let s="";for(let r=0;r<56;r++)s+=t.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,K1).join("")}async function J1(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(i);return Array.from(s).map(r=>String.fromCharCode(r)).join("")}async function G1(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await J1(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rn(n,e,t=!1){const i=q1();let s=i;t&&(s+="/PASSWORD_RECOVERY"),await Vm(n,`${e}-code-verifier`,s);const r=await G1(i);return[r,i===r?"plain":"s256"]}const Q1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function X1(n){const e=n.headers.get(Ja);if(!e||!e.match(Q1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Y1(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Z1(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ew=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};const dn=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),tw=[502,503,504];async function Fc(n){var e;if(!B1(n))throw new Ga(dn(n),0);if(tw.includes(n.status))throw new Ga(dn(n),n.status);let t;try{t=await n.json()}catch(r){throw new Am(dn(r),r)}let i;const s=X1(n);if(s&&s.getTime()>=Dm["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new zc(dn(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new $t}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new zc(dn(t),n.status,t.weak_password.reasons);throw new T1(dn(t),n.status||500,i)}const nw=(n,e,t,i)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),t))};async function F(n,e,t,i){var s;const r=Object.assign({},i==null?void 0:i.headers);r[Ja]||(r[Ja]=Dm["2024-01-01"].name),i!=null&&i.jwt&&(r.Authorization=`Bearer ${i.jwt}`);const o=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await iw(n,e,t+l,{headers:r,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(a):{data:Object.assign({},a),error:null}}async function iw(n,e,t,i,s,r){const o=nw(e,i,s,r);let l;try{l=await n(t,Object.assign({},o))}catch(a){throw console.error(a),new Ga(dn(a),0)}if(l.ok||await Fc(l),i!=null&&i.noResolveJson)return l;try{return await l.json()}catch(a){await Fc(a)}}function Ot(n){var e;let t=null;lw(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=F1(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function Uc(n){const e=Ot(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Ft(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function sw(n){return{data:n,error:null}}function rw(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:r}=n,o=ew(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:r},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function ow(n){return n}function lw(n){return n.access_token&&n.refresh_token&&n.expires_in}var aw=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};class uw{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=Um(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(I(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ft})}catch(i){if(I(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=aw(e,["options"]),s=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rw,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(I(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ft})}catch(t){if(I(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,s,r,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},h=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(r=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:""},xform:ow});if(h.error)throw h.error;const d=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(a=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ft})}catch(t){if(I(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ft})}catch(i){if(I(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ft})}catch(i){if(I(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){try{const{data:t,error:i}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:i}}catch(t){if(I(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}}}const hw={getItem:n=>ts()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{ts()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{ts()&&globalThis.localStorage.removeItem(n)}};function Vc(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function cw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zn={debug:!!(globalThis&&ts()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dw extends Bm{}async function fw(n,e,t){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new dw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(zn.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}cw();const pw={url:C1,storageKey:N1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bc(n,e,t){return await t()}class Cs{constructor(e){var t,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cs.nextInstanceID,Cs.nextInstanceID+=1,this.instanceID>0&&ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},pw),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new uw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Um(s.fetch),this.lock=s.lock||Bc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ht()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=fw:this.lock=Bc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ts()?this.storage=hw:(this.memoryStorage={},this.storage=Vc(this.memoryStorage)):(this.memoryStorage={},this.storage=Vc(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Im}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=V1(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),ht()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:r}=await this._getSessionFromURL(t,i);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),$1(r)){const a=(e=r.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return I(t)?{error:t}:{error:new Am("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,s;try{const r=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ot}),{data:o,error:l}=r;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var t,i,s;try{let r;if("email"in e){const{email:h,password:d,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Rn(this.storage,this.storageKey)),r=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(t=f==null?void 0:f.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:Ot})}else if("phone"in e){const{phone:h,password:d,options:f}=e;r=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ot})}else throw new lr("You must provide either an email or phone number and a password");const{data:o,error:l}=r;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:o,options:l}=e;t=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Uc})}else if("phone"in e){const{phone:r,password:o,options:l}=e;t=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Uc})}else throw new lr("You must provide either an email or phone number and a password");const{data:i,error:s}=t;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Sl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,s,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await ur(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(t??"").split("/");try{const{data:r,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Ot});if(await hr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Sl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:s??null}),error:o})}catch(r){if(I(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:t,provider:i,token:s,access_token:r,nonce:o}=e,l=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Ot}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Sl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,s,r,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Rn(this.storage,this.storageKey));const{error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=a==null?void 0:a.data)!==null&&t!==void 0?t:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new lr("You must provide either an email or phone number.")}catch(l){if(I(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var t,i;try{let s,r;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,r=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:l}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:s,xform:Ot});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,i,s;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Rn(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:sw})}catch(r){if(I(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new $t;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:r}=e,{error:o}=await F(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:s,options:r}=e,{data:o,error:l}=await F(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new lr("You must provide either an email or phone number and a type")}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<_l:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,h))})}return{data:{session:e},error:null}}const{session:s,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ft}):await this._useSession(async t=>{var i,s,r;const{data:o,error:l}=t;if(l)throw l;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0,xform:Ft})})}catch(t){if(I(t))return M1(t)&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:s,error:r}=i;if(r)throw r;if(!s.session)throw new $t;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await Rn(this.storage,this.storageKey));const{data:u,error:h}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Ft});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(I(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const t=Date.now()/1e3;let i=t,s=!0,r=null;const{payload:o}=Cl(e.access_token);if(o.exp&&(i=o.exp,s=i<=t),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};r=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;r={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(t){if(I(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:o,error:l}=t;if(l)throw l;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new $t;const{session:s,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ht())throw new ar("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ar(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Rc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ar("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rc("No code detected.");const{data:m,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:r,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!r||!l||!o||!u)throw new ar("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let f=h+d;a&&(f=parseInt(a));const p=f-h;p*1e3<=Fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=f-d;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,h);const{data:g,error:b}=await this._getUser(r);if(b)throw b;const y={provider_token:i,provider_refresh_token:s,access_token:r,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(i){if(I(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ur(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:s,error:r}=t;if(r)return{error:r};const o=(i=s.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(L1(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=U1(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,s;try{const{data:{session:r},error:o}=t;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,t={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Rn(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(I(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(I(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:i,error:s}=await this._useSession(async r=>{var o,l,a,u,h;const{data:d,error:f}=r;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return ht()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(I(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,s;const{data:r,error:o}=t;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(I(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await H1(async s=>(s>0&&await W1(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ot})),(s,r)=>{const o=200*Math.pow(2,s);return r&&kl(r)&&Date.now()+o-i<Fn})}catch(i){if(this._debug(t,"error",i),I(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),ht()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const i=await ur(this.storage,this.storageKey);if(this._debug(t,"session from storage",i),!this._isValidSession(i)){this._debug(t,"session is not valid"),i!==null&&await this._removeSession();return}const s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<_l;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${_l}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),kl(r)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(t,"error",i),console.error(i);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ao;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new $t;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const l={session:r.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(r){if(this._debug(s,"error",r),I(r)){const o={session:null,error:r};return kl(r)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(r),r}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(a){r.push(a)}});if(await Promise.all(o),r.length>0){for(let l=0;l<r.length;l+=1)console.error(r[l]);throw r[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Vm(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await hr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/Fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fn}ms, refresh threshold is ${qa} ticks`),s<=qa&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Bm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const s=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[r,o]=await Rn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(i!=null&&i.queryParams){const r=new URLSearchParams(i.queryParams);s.push(r.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:s,error:r}=t;return r?{data:null,error:r}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(I(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,s;const{data:r,error:o}=t;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(t){if(I(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:r}=t;if(r)return{data:null,error:r};const{data:o,error:l}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(t){if(I(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:r}=t;return r?{data:null,error:r}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(I(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const i=(e==null?void 0:e.factors)||[],s=i.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=i.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:i,totp:s,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,i;const{data:{session:s},error:r}=e;if(r)return{data:null,error:r};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Cl(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((i=(t=s.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(a="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(o=>o.kid===e);if(i||(i=this.jwks.keys.find(o=>o.kid===e),i&&this.jwks_cached_at+P1>Date.now()))return i;const{data:s,error:r}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;if(!s.keys||s.keys.length===0)throw new es("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(o=>o.kid===e),!i)throw new es("No matching signing key found in JWKS");return i}async getClaims(e,t={keys:[]}){try{let i=e;if(!i){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};i=p.session.access_token}const{header:s,payload:r,signature:o,raw:{header:l,payload:a}}=Cl(i);if(Y1(r.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:r,header:s,signature:o},error:null}}const u=Z1(s.alg),h=await this.fetchJwk(s.kid,t),d=await crypto.subtle.importKey("jwk",h,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,A1(`${l}.${a}`)))throw new es("Invalid JWT signature");return{data:{claims:r,header:s,signature:o},error:null}}catch(i){if(I(i))return{data:null,error:i};throw i}}}Cs.nextInstanceID=0;const mw=Cs;class gw extends mw{constructor(e){super(e)}}var vw=function(n,e,t,i){function s(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(d){o(d)}}function a(h){try{u(i.throw(h))}catch(d){o(d)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,e||[])).next())})};class yw{constructor(e,t,i){var s,r,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const l=S1(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:m1,realtime:v1,auth:Object.assign(Object.assign({},g1),{storageKey:a}),global:p1},h=k1(i??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(r=h.global.headers)!==null&&r!==void 0?r:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=b1(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new zy(`${l}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new dy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new c1(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return vw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,storageKey:r,flowType:o,lock:l,debug:a},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gw({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:r,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:s,flowType:o,lock:l,debug:a,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Xy(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ww=(n,e,t)=>new yw(n,e,t),xw="https://aabhiylrtktakriusrjz.supabase.co",bw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFhYmhpeWxydGt0YWtyaXVzcmp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ1NTE1MTksImV4cCI6MjA2MDEyNzUxOX0.Ys6yR0J1VLK9iAXBkEverdF7rC2c4p-May_KGr3go8Q",Xt=ww(xw,bw);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _w={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(n,e)=>{const t=$.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:l="",children:a,...u},h)=>$.createElement("svg",{ref:h,..._w,width:s,height:s,stroke:i,strokeWidth:o?Number(r)*24/Number(s):r,className:["lucide",`lucide-${Sw(n)}`,l].join(" "),...u},[...e.map(([d,f])=>$.createElement(d,f)),...Array.isArray(a)?a:[a]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=z("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=z("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=z("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=z("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=z("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=z("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=z("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=z("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=z("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=z("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=z("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=z("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=z("Tractor",[["path",{d:"m10 11 11 .9c.6 0 .9.5.8 1.1l-.8 5h-1",key:"2w242w"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h9l1 7.246",key:"d639it"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=z("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=z("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Yw(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];wn(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Kc={};function Ya(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];wn(e[0])&&Kc[e[0]]||(wn(e[0])&&(Kc[e[0]]=new Date),Yw(...e))}const qm=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},qc=(n,e,t)=>{n.loadNamespaces(e,qm(n,t))},Jc=(n,e,t,i)=>{wn(t)&&(t=[t]),t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,qm(n,i))},Zw=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.languages[0],s=e.options?e.options.fallbackLng:!1,r=e.languages[e.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(l,a)=>{const u=e.services.backendConnector.state[`${l}|${a}`];return u===-1||u===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(i,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(i,n)&&(!s||o(r,n)))},ex=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Ya("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(s,r)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!r(s.isLanguageChangingTo,n))return!1}}):Zw(n,e,t)},wn=n=>typeof n=="string",tx=n=>typeof n=="object"&&n!==null,nx=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ix={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},sx=n=>ix[n],rx=n=>n.replace(nx,sx);let Za={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:rx};const ox=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Za={...Za,...n}},lx=()=>Za;let Jm;const ax=n=>{Jm=n},ux=()=>Jm,hx={type:"3rdParty",init(n){ox(n.options.react),ax(n)}},cx=$.createContext();class dx{constructor(){wh(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}}const fx=(n,e)=>{const t=$.useRef();return $.useEffect(()=>{t.current=n},[n,e]),t.current},Gm=(n,e,t,i)=>n.getFixedT(e,t,i),px=(n,e,t,i)=>$.useCallback(Gm(n,e,t,i),[n,e,t,i]),Tt=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:i,defaultNS:s}=$.useContext(cx)||{},r=t||i||ux();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new dx),!r){Ya("You will need to pass in an i18next instance by using initReactI18next");const x=(k,S)=>wn(S)?S:tx(S)&&wn(S.defaultValue)?S.defaultValue:Array.isArray(k)?k[k.length-1]:k,_=[x,{},!1];return _.t=x,_.i18n={},_.ready=!1,_}r.options.react&&r.options.react.wait!==void 0&&Ya("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...lx(),...r.options.react,...e},{useSuspense:l,keyPrefix:a}=o;let u=s||r.options&&r.options.defaultNS;u=wn(u)?[u]:u||["translation"],r.reportNamespaces.addUsedNamespaces&&r.reportNamespaces.addUsedNamespaces(u);const h=(r.isInitialized||r.initializedStoreOnce)&&u.every(x=>ex(x,r,o)),d=px(r,e.lng||null,o.nsMode==="fallback"?u:u[0],a),f=()=>d,p=()=>Gm(r,e.lng||null,o.nsMode==="fallback"?u:u[0],a),[v,g]=$.useState(f);let b=u.join();e.lng&&(b=`${e.lng}${b}`);const y=fx(b),m=$.useRef(!0);$.useEffect(()=>{const{bindI18n:x,bindI18nStore:_}=o;m.current=!0,!h&&!l&&(e.lng?Jc(r,e.lng,u,()=>{m.current&&g(p)}):qc(r,u,()=>{m.current&&g(p)})),h&&y&&y!==b&&m.current&&g(p);const k=()=>{m.current&&g(p)};return x&&r&&r.on(x,k),_&&r&&r.store.on(_,k),()=>{m.current=!1,x&&r&&x.split(" ").forEach(S=>r.off(S,k)),_&&r&&_.split(" ").forEach(S=>r.store.off(S,k))}},[r,b]),$.useEffect(()=>{m.current&&h&&g(f)},[r,a,h]);const w=[v,r,h];if(w.t=v,w.i18n=r,w.ready=h,h||!h&&!l)return w;throw new Promise(x=>{e.lng?Jc(r,e.lng,u,()=>x()):qc(r,u,()=>x())})},mx=({activeTab:n,setActiveTab:e,isMobileMenuOpen:t,setIsMobileMenuOpen:i})=>{const{t:s}=Tt(),r=[{id:"home",label:s("common.home"),icon:$w},{id:"cropHealth",label:s("common.cropHealth"),icon:yi},{id:"weather",label:s("common.weather"),icon:Rr},{id:"market",label:s("common.market"),icon:ns},{id:"alerts",label:s("common.alerts"),icon:Or},{id:"profile",label:s("common.profile"),icon:Hm}];return c.jsxs("nav",{className:"fixed w-full bg-gray-900/50 backdrop-blur-sm border-b border-gray-800 text-gray-100 z-50",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsx("span",{className:"text-xl font-bold",children:"Kissan AI"})}),c.jsx("div",{className:"hidden md:flex items-center space-x-4",children:r.map(o=>{const l=o.icon;return c.jsxs("button",{onClick:()=>e(o.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors duration-200 ${n===o.id?"bg-green-600/20 text-green-500":"hover:bg-gray-800 hover:text-green-500"}`,children:[c.jsx(l,{size:20}),c.jsx("span",{children:o.label})]},o.id)})}),c.jsx("div",{className:"md:hidden flex items-center",children:c.jsx("button",{onClick:()=>i(!t),className:"text-gray-100 hover:text-green-500 transition-colors duration-200",children:t?c.jsx(Km,{size:24}):c.jsx(Fw,{size:24})})})]})}),t&&c.jsx("div",{className:"md:hidden bg-gray-900/50 backdrop-blur-sm border-b border-gray-800",children:c.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:r.map(o=>{const l=o.icon;return c.jsxs("button",{onClick:()=>{e(o.id),i(!1)},className:`flex items-center space-x-2 w-full px-3 py-2 rounded-lg transition-colors duration-200 ${n===o.id?"bg-green-600/20 text-green-500":"hover:bg-gray-800 hover:text-green-500"}`,children:[c.jsx(l,{size:20}),c.jsx("span",{children:o.label})]},o.id)})})})]})},Gc=()=>{const{t:n}=Tt(),[e,t]=$.useState(new Date),[i,s]=$.useState({cropRecommendations:["Wheat","Soybeans","Cotton"],profitabilityScore:85,nextActions:["Consider crop rotation for better soil health","Implement drip irrigation to optimize water usage","Plan harvesting within next 2 weeks"]}),[r,o]=$.useState({trendingCrops:[{name:"Organic Cotton",growth:"+15%"},{name:"Soybeans",growth:"+8%"},{name:"Wheat",growth:"+5%"}],marketForecast:"Positive",priceProjections:{shortTerm:"Upward trend expected in next 2 months",longTerm:"Stable growth projected for the season"}});return $.useEffect(()=>{const l=setInterval(()=>{t(new Date)},6e4);return()=>clearInterval(l)},[]),c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 px-4",children:[c.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8 overflow-hidden",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:n("home.welcome")}),c.jsx("p",{className:"text-gray-400",children:n("home.subtitle")})]}),c.jsx("div",{className:"absolute top-0 right-0 transform translate-x-1/4 -translate-y-1/4",children:c.jsx(jl,{className:"h-32 w-32 text-green-500/10"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg mr-3",children:c.jsx(jl,{className:"h-6 w-6 text-green-500"})}),c.jsx("h2",{className:"text-xl font-semibold",children:n("home.cropStatus")})]}),c.jsx("p",{className:"text-gray-400",children:n("home.cropHealthy")}),c.jsxs("div",{className:"mt-4 flex items-center",children:[c.jsx(yi,{className:"h-5 w-5 text-green-500 mr-2"}),c.jsx("span",{className:"text-green-500",children:n("home.healthyGrowth")})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg mr-3",children:c.jsx(Xa,{className:"h-6 w-6 text-yellow-500"})}),c.jsx("h2",{className:"text-xl font-semibold",children:n("home.weatherNow")})]}),c.jsx("p",{className:"text-gray-400",children:n("home.weatherDesc")}),c.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[c.jsx("div",{className:"flex items-center",children:c.jsx("span",{className:"text-2xl font-bold",children:"25C"})}),c.jsxs("div",{className:"flex items-center justify-end",children:[c.jsx(zr,{className:"h-5 w-5 text-blue-400 mr-2"}),c.jsx("span",{className:"text-gray-400",children:"12 km/h"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg mr-3",children:c.jsx(Qa,{className:"h-6 w-6 text-blue-500"})}),c.jsx("h2",{className:"text-xl font-semibold",children:n("home.irrigation")})]}),c.jsx("p",{className:"text-gray-400",children:n("home.nextIrrigation")}),c.jsxs("div",{className:"mt-4 flex items-center",children:[c.jsx(Nw,{className:"h-5 w-5 text-blue-500 mr-2"}),c.jsx("span",{className:"text-blue-500",children:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg mr-3",children:c.jsx(Cw,{className:"h-6 w-6 text-purple-500"})}),c.jsx("h2",{className:"text-xl font-semibold",children:"Farmer Advisor Insights"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Recommended Actions"}),c.jsx("ul",{className:"space-y-2",children:i.nextActions.map((l,a)=>c.jsxs("li",{className:"flex items-start",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 mt-2 mr-2"}),c.jsx("span",{className:"text-gray-300",children:l})]},a))})]}),c.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Profitability Score"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"text-3xl font-bold text-purple-500",children:i.profitabilityScore}),c.jsx("div",{className:"text-gray-400 ml-2",children:"/ 100"})]})]})]}),c.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[c.jsx("h3",{className:"font-semibold mb-4",children:"Recommended Crops"}),c.jsx("div",{className:"space-y-3",children:i.cropRecommendations.map((l,a)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg",children:[c.jsx("span",{children:l}),c.jsxs("div",{className:"flex items-center text-green-500",children:[c.jsx(yi,{className:"h-4 w-4 mr-1"}),c.jsx("span",{children:"Optimal"})]})]},a))})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg mr-3",children:c.jsx(ns,{className:"h-6 w-6 text-blue-500"})}),c.jsx("h2",{className:"text-xl font-semibold",children:"Market Research Analysis"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Market Forecast"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-500",children:r.marketForecast}),c.jsx(ns,{className:"h-5 w-5 text-green-500"})]}),c.jsxs("div",{className:"mt-4 space-y-2",children:[c.jsxs("p",{className:"text-sm text-gray-400",children:["Short Term: ",r.priceProjections.shortTerm]}),c.jsxs("p",{className:"text-sm text-gray-400",children:["Long Term: ",r.priceProjections.longTerm]})]})]})}),c.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[c.jsx("h3",{className:"font-semibold mb-4",children:"Trending Crops"}),c.jsx("div",{className:"space-y-3",children:r.trendingCrops.map((l,a)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg",children:[c.jsx("span",{children:l.name}),c.jsxs("div",{className:"flex items-center text-green-500",children:[c.jsx(ns,{className:"h-4 w-4 mr-1"}),c.jsx("span",{children:l.growth})]})]},a))})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8",children:[c.jsx("h2",{className:"text-xl font-bold mb-6",children:n("home.tips")}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg flex-shrink-0",children:c.jsx(jl,{className:"h-5 w-5 text-green-500"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:n("home.cropRotation")}),c.jsx("p",{className:"text-gray-400",children:n("home.cropRotationDesc")})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg flex-shrink-0",children:c.jsx(Qa,{className:"h-5 w-5 text-blue-500"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:n("home.moisture")}),c.jsx("p",{className:"text-gray-400",children:n("home.moistureDesc")})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"p-2 bg-yellow-500/10 rounded-lg flex-shrink-0",children:c.jsx(uo,{className:"h-5 w-5 text-yellow-500"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:n("home.pestControl")}),c.jsx("p",{className:"text-gray-400",children:n("home.pestControlDesc")})]})]})]})]})]})},gx=()=>{const{t:n}=Tt(),[e,t]=$.useState(null),[i,s]=$.useState(null),[r,o]=$.useState(null),[l,a]=$.useState(!1),[u,h]=$.useState(null),d=async v=>{var g;a(!0),h(null),o(null);try{const y=(await new Promise((_,k)=>{const S=new FileReader;S.onload=()=>_(S.result),S.onerror=k,S.readAsDataURL(v)})).split(",")[1],m=await fetch("https://api.plant.id/v2/health_assessment",{method:"POST",headers:{"Content-Type":"application/json","Api-Key":"o1xaGhofFTtHQB8VBkebVv2C9bta4HAil32FXrOyZoIItrx7Ih"},body:JSON.stringify({images:[y],modifiers:["crops_fast","similar_images"],language:"en",details:["description","treatment","classification","common_names"]})});if(!m.ok)throw new Error(`${n("cropHealth.apiError")} (${m.status})`);const w=await m.json();if(!w||!w.health_assessment||!w.health_assessment.diseases)throw new Error(n("cropHealth.invalidResponseFormat"));const x={result:{is_plant:!0,health_assessment:{is_healthy:w.health_assessment.is_healthy||!1,diseases:w.health_assessment.diseases.map(_=>{var k,S;return{name:_.name||"Unknown Disease",probability:_.probability||0,description:((k=_.description)==null?void 0:k.value)||"",treatment:((S=_.treatment)==null?void 0:S.value)||""}})},classification:{suggestions:((g=w.classification)==null?void 0:g.suggestions)||[]}}};o(x)}catch(b){console.error("Error analyzing image:",b),h(b instanceof Error?b.message:n("cropHealth.analysisError"))}finally{a(!1)}},f=async v=>{var m;const g=(m=v.target.files)==null?void 0:m[0];if(!g)return;if(t(null),s(null),o(null),h(null),g.size>10*1024*1024){h(n("cropHealth.fileSizeError"));return}if(!["image/jpeg","image/png","image/webp"].includes(g.type)){h(n("cropHealth.fileTypeError"));return}const y=URL.createObjectURL(g);t(y),s(g),await d(g)},p=()=>{var b,y;if(!(r!=null&&r.result))return null;const{health_assessment:v,classification:g}=r.result;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-6 bg-gray-800/50 rounded-xl border border-gray-700/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:n("cropHealth.healthStatus")}),v.is_healthy?c.jsxs("div",{className:"flex items-center text-green-500",children:[c.jsx(Ew,{className:"h-5 w-5 mr-2"}),c.jsx("span",{children:n("cropHealth.healthy")})]}):c.jsxs("div",{className:"flex items-center text-yellow-500",children:[c.jsx(uo,{className:"h-5 w-5 mr-2"}),c.jsx("span",{children:n("cropHealth.issues")})]})]}),((b=g==null?void 0:g.suggestions)==null?void 0:b.length)>0&&c.jsxs("div",{className:"mb-4 p-4 bg-gray-900/50 rounded-lg",children:[c.jsx("p",{className:"text-gray-400 mb-2",children:n("cropHealth.identified")}),c.jsxs("p",{className:"text-lg font-medium",children:[g.suggestions[0].name,c.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["(",Math.round(g.suggestions[0].probability*100),"% ",n("cropHealth.confidence"),")"]})]})]}),((y=v.diseases)==null?void 0:y.length)>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-medium text-yellow-500",children:n("cropHealth.detectedIssues")}),v.diseases.map((m,w)=>c.jsxs("div",{className:"p-4 bg-gray-900/50 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"font-medium",children:m.name}),c.jsxs("span",{className:"text-yellow-500",children:[Math.round(m.probability*100),"% ",n("cropHealth.probability")]})]}),m.description&&c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:m.description}),m.treatment&&c.jsx("div",{className:"mt-2 p-2 bg-green-900/20 border border-green-500/20 rounded",children:c.jsxs("p",{className:"text-sm text-green-400",children:[n("cropHealth.treatment"),": ",m.treatment]})})]},w))]})]}),c.jsxs("div",{className:"p-6 bg-gray-800/50 rounded-xl border border-gray-700/50",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:n("cropHealth.recommendations")}),c.jsx("ul",{className:"space-y-3 text-gray-300",children:v.is_healthy?c.jsx(c.Fragment,{children:n("cropHealth.healthyRecommendations",{returnObjects:!0}).map((m,w)=>c.jsxs("li",{className:"flex items-start",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 mt-2 mr-2"}),c.jsx("span",{children:m})]},w))}):c.jsx(c.Fragment,{children:n("cropHealth.unhealthyRecommendations",{returnObjects:!0}).map((m,w)=>c.jsxs("li",{className:"flex items-start",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500 mt-2 mr-2"}),c.jsx("span",{children:m})]},w))})})]})]})};return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 px-4",children:[c.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8 overflow-hidden",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:n("cropHealth.title")}),c.jsx("p",{className:"text-gray-400",children:n("cropHealth.subtitle")})]}),c.jsx("div",{className:"absolute top-0 right-0 transform translate-x-1/4 -translate-y-1/4",children:c.jsx(yi,{className:"h-32 w-32 text-green-500/10"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg mr-3",children:c.jsx(jw,{className:"h-6 w-6 text-green-500"})}),c.jsx("h2",{className:"text-xl font-semibold",children:n("cropHealth.upload")})]}),c.jsx("div",{className:"mt-4",children:c.jsx("label",{className:"block w-full",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"file",className:"hidden",accept:"image/jpeg,image/png,image/webp",onChange:f}),c.jsx("div",{className:"h-64 border-2 border-dashed border-green-500/50 rounded-lg flex items-center justify-center cursor-pointer hover:border-green-400 transition-colors duration-200 bg-gray-800/50",children:e?c.jsx("img",{src:e,alt:n("cropHealth.selectedImage"),className:"h-full w-full object-contain rounded-lg p-2"}):c.jsxs("div",{className:"text-center p-6",children:[c.jsx(Qw,{className:"h-12 w-12 text-green-500/70 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-gray-400",children:n("cropHealth.uploadInstructions")}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n("cropHealth.supportedFormats")})]})})]})})}),c.jsxs("div",{className:"mt-6 space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:n("cropHealth.tips")}),c.jsxs("ul",{className:"space-y-2 text-gray-400",children:[c.jsxs("li",{className:"flex items-center",children:[c.jsx(Nl,{className:"h-4 w-4 mr-2 text-green-500"}),n("cropHealth.tip1")]}),c.jsxs("li",{className:"flex items-center",children:[c.jsx(Nl,{className:"h-4 w-4 mr-2 text-green-500"}),n("cropHealth.tip2")]}),c.jsxs("li",{className:"flex items-center",children:[c.jsx(Nl,{className:"h-4 w-4 mr-2 text-green-500"}),n("cropHealth.tip3")]})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6",children:n("cropHealth.analysisResults")}),l&&c.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[c.jsx(zw,{className:"h-8 w-8 text-green-500 animate-spin mb-4"}),c.jsx("p",{className:"text-gray-400",children:n("cropHealth.analyzing")})]}),u&&c.jsx("div",{className:"p-6 bg-red-900/20 border border-red-500/50 rounded-xl",children:c.jsx("p",{className:"text-red-400",children:u})}),!l&&!u&&r?p():!l&&!u&&c.jsx("div",{className:"h-64 flex items-center justify-center",children:c.jsx("p",{className:"text-gray-400 text-center",children:n("cropHealth.uploadPrompt")})})]})]})]})},vx=()=>{const{t:n}=Tt(),[e,t]=$.useState(null),[i,s]=$.useState(!0),[r,o]=$.useState(null),l=async()=>{try{const h=await new Promise((g,b)=>{navigator.geolocation.getCurrentPosition(g,b)}),{latitude:d,longitude:f}=h.coords,p=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=880f08b9b12c466286e172215250403&q=${d},${f}&days=5&aqi=no`);if(!p.ok)throw new Error("Failed to fetch weather data");const v=await p.json();t(v)}catch(h){o(h instanceof Error?h.message:"Failed to fetch weather data")}finally{s(!1)}};if($.useEffect(()=>{l();const h=setInterval(l,3e5);return()=>clearInterval(h)},[]),i)return c.jsx("div",{className:"max-w-7xl mx-auto space-y-8 px-4",children:c.jsxs("div",{className:"animate-pulse space-y-8",children:[c.jsx("div",{className:"h-40 bg-gray-800 rounded-2xl"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"h-64 bg-gray-800 rounded-2xl"}),c.jsx("div",{className:"h-64 bg-gray-800 rounded-2xl"})]})]})});if(r)return c.jsx("div",{className:"max-w-7xl mx-auto space-y-8 px-4",children:c.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 rounded-2xl p-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-red-400",children:n("common.error")}),c.jsx("p",{className:"mt-2 text-gray-400",children:r})]})});if(!e)return null;const a=h=>{const d=h.toLowerCase();return d.includes("sun")||d.includes("clear")?Xa:d.includes("rain")?Qa:d.includes("cloud")?Rr:d.includes("storm")||d.includes("thunder")?Wc:Rr},u=h=>{const d=new Date(h);return d.toDateString()===new Date().toDateString()?n("weather.today"):d.toDateString()===new Date(Date.now()+864e5).toDateString()?n("weather.tomorrow"):d.toLocaleDateString(void 0,{weekday:"short"})};return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 px-4",children:[c.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8 overflow-hidden",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:n("weather.title")}),c.jsx("p",{className:"text-gray-400",children:n("weather.subtitle")})]}),c.jsx("div",{className:"absolute top-0 right-0 transform translate-x-1/4 -translate-y-1/4",children:c.jsx(Rr,{className:"h-32 w-32 text-blue-500/10"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6",children:n("weather.current")}),c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:`https:${e.current.condition.icon}`,alt:e.current.condition.text,className:"h-20 w-20 mr-6"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-4xl font-bold",children:[Math.round(e.current.temp_c),"C"]}),c.jsx("p",{className:"text-xl text-gray-400",children:e.current.condition.text})]})]})}),c.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-xl",children:[c.jsx(zr,{className:"h-6 w-6 mx-auto text-blue-400 mb-2"}),c.jsx("p",{className:"text-sm text-gray-400",children:n("weather.wind")}),c.jsxs("p",{className:"font-semibold",children:[Math.round(e.current.wind_kph)," km/h"]})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-xl",children:[c.jsx(Mw,{className:"h-6 w-6 mx-auto text-blue-400 mb-2"}),c.jsx("p",{className:"text-sm text-gray-400",children:n("weather.humidity")}),c.jsxs("p",{className:"font-semibold",children:[e.current.humidity,"%"]})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-xl",children:[c.jsx(qw,{className:"h-6 w-6 mx-auto text-red-400 mb-2"}),c.jsx("p",{className:"text-sm text-gray-400",children:n("weather.feelsLike")}),c.jsxs("p",{className:"font-semibold",children:[Math.round(e.current.feelslike_c),"C"]})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6",children:n("weather.forecast")}),c.jsx("div",{className:"space-y-4",children:e.forecast.forecastday.map(h=>(a(h.day.condition.text),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("span",{className:"font-medium w-24",children:u(h.date)}),c.jsx("img",{src:`https:${h.day.condition.icon}`,alt:h.day.condition.text,className:"h-6 w-6"}),c.jsx("span",{className:"text-gray-400",children:h.day.condition.text})]}),c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(zr,{className:"h-4 w-4 text-blue-400 mr-2"}),c.jsxs("span",{className:"text-sm text-gray-400",children:[Math.round(h.day.maxwind_kph)," km/h"]})]}),c.jsxs("span",{className:"font-semibold w-16 text-right",children:[Math.round(h.day.maxtemp_c),"C"]})]})]},h.date)))})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6",children:n("weather.advisory")}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(Xa,{className:"h-5 w-5 text-yellow-500 mr-2"}),c.jsx("h3",{className:"font-semibold",children:n("weather.morning")})]}),c.jsx("p",{className:"text-gray-400",children:e.current.temp_c>25?n("weather.highTemp"):n("weather.normalTemp")})]}),c.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(Wc,{className:"h-5 w-5 text-yellow-500 mr-2"}),c.jsx("h3",{className:"font-semibold",children:n("weather.warning")})]}),c.jsx("p",{className:"text-gray-400",children:e.current.wind_kph>20?n("weather.strongWind"):n("weather.noWarning")})]}),c.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(zr,{className:"h-5 w-5 text-blue-400 mr-2"}),c.jsx("h3",{className:"font-semibold",children:n("weather.windAdvisory")})]}),c.jsx("p",{className:"text-gray-400",children:e.current.wind_kph<15?n("weather.sprayingOk"):n("weather.sprayingNo")})]})]})]})]})},yx=()=>{const{t:n}=Tt(),e=[{title:n("alerts.pestAlert.title"),message:n("alerts.pestAlert.message"),time:n("alerts.pestAlert.time"),icon:uo,color:"text-yellow-500",bgColor:"bg-yellow-500/10"},{title:n("alerts.weatherUpdate.title"),message:n("alerts.weatherUpdate.message"),time:n("alerts.weatherUpdate.time"),icon:Hc,color:"text-blue-500",bgColor:"bg-blue-500/10"},{title:n("alerts.marketAlert.title"),message:n("alerts.marketAlert.message"),time:n("alerts.marketAlert.time"),icon:Or,color:"text-green-500",bgColor:"bg-green-500/10"}];return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 px-4",children:[c.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8 overflow-hidden",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:n("alerts.header")}),c.jsx("p",{className:"text-gray-400",children:n("alerts.subHeader")})]}),c.jsx("div",{className:"absolute top-0 right-0 transform translate-x-1/4 -translate-y-1/4",children:c.jsx(Or,{className:"h-32 w-32 text-yellow-500/10"})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map((t,i)=>c.jsx("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-6",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:`${t.bgColor} p-2 rounded-lg`,children:c.jsx(t.icon,{className:`h-6 w-6 ${t.color}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-semibold",children:t.title}),c.jsx("span",{className:"text-sm text-gray-400",children:t.time})]}),c.jsx("p",{className:"mt-2 text-gray-400",children:t.message})]})]})},i))}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx(Hw,{className:"h-5 w-5 text-gray-400 mr-2"}),c.jsx("h2",{className:"text-xl font-semibold",children:n("alerts.settings.title")})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx(El,{icon:c.jsx(uo,{className:"h-5 w-5 text-yellow-500"}),label:n("alerts.settings.weather"),mode:n("alerts.settings.push_sms")}),c.jsx(El,{icon:c.jsx(Or,{className:"h-5 w-5 text-blue-500"}),label:n("alerts.settings.pest"),mode:n("alerts.settings.push")}),c.jsx(El,{icon:c.jsx(Hc,{className:"h-5 w-5 text-green-500"}),label:n("alerts.settings.market"),mode:n("alerts.settings.sms")})]})]})]})]})},El=({icon:n,label:e,mode:t})=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-xl",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[n,c.jsx("span",{children:e})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-sm text-gray-400",children:t}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"checkbox",className:"sr-only",defaultChecked:!0}),c.jsx("div",{className:"w-10 h-6 bg-gray-700 rounded-full"}),c.jsx("div",{className:"absolute left-1 top-1 bg-green-500 w-4 h-4 rounded-full transition-transform transform translate-x-4"})]})]})]}),wx=({isOpen:n,onClose:e,userData:t,onUpdate:i})=>{const{t:s}=Tt(),[r,o]=$.useState({name:t.name,phone:t.phone,totalLand:t.farmingDetails.totalLand,mainCrops:t.farmingDetails.mainCrops,farmingSince:t.farmingDetails.farmingSince,irrigationType:t.farmingDetails.irrigationType}),[l,a]=$.useState(t.contactNumbers||[]),[u,h]=$.useState(""),[d,f]=$.useState(!1),[p,v]=$.useState(null),g=w=>{const{name:x,value:_}=w.target;o(k=>({...k,[x]:_}))},b=()=>{u&&!l.includes(u)&&(a([...l,u]),h(""))},y=w=>{a(l.filter((x,_)=>_!==w))},m=async w=>{w.preventDefault(),f(!0),v(null);try{const{error:x}=await Xt.auth.updateUser({data:{full_name:r.name,phone:r.phone,contact_numbers:l,farming_details:{...t.farmingDetails,totalLand:r.totalLand,mainCrops:r.mainCrops,farmingSince:r.farmingSince,irrigationType:r.irrigationType}}});if(x)throw x;i(),e()}catch(x){v(x instanceof Error?x.message:"Failed to update profile")}finally{f(!1)}};return n?c.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),c.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:c.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-xl p-6 w-full max-w-md",children:[c.jsx("div",{className:"absolute right-4 top-4",children:c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-200 transition-colors",children:c.jsx(Km,{className:"h-5 w-5"})})}),c.jsx("h2",{className:"text-xl font-semibold mb-6",children:s("profile.editProfile")}),c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:s("profile.name")}),c.jsx("input",{type:"text",name:"name",value:r.name,onChange:g,className:"w-full bg-gray-800/50 rounded-lg px-3 py-2 text-gray-100 border border-gray-700/50 focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/50 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:s("profile.phone")}),c.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:g,className:"w-full bg-gray-800/50 rounded-lg px-3 py-2 text-gray-100 border border-gray-700/50 focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/50 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:s("profile.additionalContacts")}),c.jsxs("div",{className:"space-y-2",children:[l.map((w,x)=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"flex-1 bg-gray-800/50 rounded-lg px-3 py-2 text-gray-100 border border-gray-700/50",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Wm,{className:"h-4 w-4 text-gray-400 mr-2"}),w]})}),c.jsx("button",{type:"button",onClick:()=>y(x),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:c.jsx(Gw,{className:"h-5 w-5"})})]},x)),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"tel",value:u,onChange:w=>h(w.target.value),placeholder:s("profile.addNewContact"),className:"flex-1 bg-gray-800/50 rounded-lg px-3 py-2 text-gray-100 border border-gray-700/50 focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/50 transition-colors"}),c.jsx("button",{type:"button",onClick:b,className:"p-2 text-green-500 hover:text-green-400 transition-colors",children:c.jsx(Vw,{className:"h-5 w-5"})})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:s("profile.totalLand")}),c.jsx("input",{type:"number",name:"totalLand",value:r.totalLand,onChange:g,className:"w-full bg-gray-800/50 rounded-lg px-3 py-2 text-gray-100 border border-gray-700/50 focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/50 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:s("profile.mainCrops")}),c.jsx("input",{type:"text",name:"mainCrops",value:r.mainCrops,onChange:g,className:"w-full bg-gray-800/50 rounded-lg px-3 py-2 text-gray-100 border border-gray-700/50 focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/50 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:s("profile.farmingSince")}),c.jsx("input",{type:"number",name:"farmingSince",value:r.farmingSince,onChange:g,className:"w-full bg-gray-800/50 rounded-lg px-3 py-2 text-gray-100 border border-gray-700/50 focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/50 transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:s("profile.irrigationType")}),c.jsxs("select",{name:"irrigationType",value:r.irrigationType,onChange:g,className:"w-full bg-gray-800/50 rounded-lg px-3 py-2 text-gray-100 border border-gray-700/50 focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/50 transition-colors",children:[c.jsx("option",{value:"Canal Irrigation",children:"Canal Irrigation"}),c.jsx("option",{value:"Drip Irrigation",children:"Drip Irrigation"}),c.jsx("option",{value:"Sprinkler System",children:"Sprinkler System"}),c.jsx("option",{value:"Well/Tube Well",children:"Well/Tube Well"}),c.jsx("option",{value:"Rain-fed",children:"Rain-fed"}),c.jsx("option",{value:"Mixed",children:"Mixed"})]})]}),p&&c.jsx("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-3",children:c.jsx("p",{className:"text-red-400 text-sm",children:p})}),c.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[c.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-gray-200 transition-colors",children:s("common.cancel")}),c.jsx("button",{type:"submit",disabled:d,className:`px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r transition-all duration-200 ${d?"from-green-600/50 to-green-500/50 cursor-not-allowed":"from-green-600 to-green-500 hover:from-green-500 hover:to-green-400"}`,children:s(d?"common.loading":"common.save")})]})]})]})})]}):null},xx=()=>{const{i18n:n}=Tt(),e=[{code:"en",name:"English"},{code:"hi",name:""},{code:"mr",name:""}];return c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ow,{className:"h-5 w-5 text-gray-400"}),c.jsx("select",{value:n.language,onChange:t=>n.changeLanguage(t.target.value),className:"bg-gray-800/50 text-gray-100 rounded-lg px-2 py-1 text-sm border border-gray-700/50 focus:outline-none focus:ring-2 focus:ring-green-500/50 transition-colors",children:e.map(t=>c.jsx("option",{value:t.code,children:t.name},t.code))})]})},bx=({onLogout:n})=>{const{t:e}=Tt(),[t,i]=$.useState(null),[s,r]=$.useState(!0),[o,l]=$.useState(!1),a=async()=>{try{const{data:{user:u}}=await Xt.auth.getUser();if(u){const h=u.user_metadata.farming_details||{totalLand:"Not set",mainCrops:"Not set",farmingSince:"Not set",irrigationType:"Not set",state:"Not set"},f=new Date().getMonth()+1;let p;f>=6&&f<=10?p="Kharif":f>=10||f<=3?p="Rabi":p="Zaid";let v=h.mainCrops.split(",")[0].trim(),g="",b="";p==="Kharif"?(g="June 2024",b="October 2024"):p==="Rabi"?(g="October 2024",b="March 2025"):(g="March 2024",b="June 2024"),i({email:u.email||"Not set",name:u.user_metadata.full_name||"Not set",phone:u.phone||"Not set",contactNumbers:u.user_metadata.contact_numbers||[],location:h.state,farmingDetails:h,currentSeason:{cropType:v,sowingDate:g,expectedHarvest:b,cropHealth:"Good"}})}}catch(u){console.error("Error fetching user data:",u)}finally{r(!1)}};return $.useEffect(()=>{a()},[]),s?c.jsx("div",{className:"max-w-7xl mx-auto p-4",children:c.jsxs("div",{className:"animate-pulse space-y-4",children:[c.jsx("div",{className:"h-32 bg-gray-800 rounded-lg"}),c.jsx("div",{className:"h-64 bg-gray-800 rounded-lg"})]})}):t?c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[c.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-bold",children:e("profile.title")}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsxs("button",{onClick:()=>l(!0),className:"flex items-center text-gray-400 hover:text-green-500 transition-colors duration-200",children:[c.jsx(Kw,{className:"h-5 w-5 mr-1"}),e("profile.editProfile")]}),c.jsxs("button",{onClick:n,className:"flex items-center text-gray-400 hover:text-red-500 transition-colors duration-200",children:[c.jsx(Iw,{className:"h-5 w-5 mr-1"}),e("common.logout")]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block p-2 rounded-full bg-gray-800 mb-4",children:c.jsx(Hm,{className:"h-16 w-16 text-green-500"})}),c.jsx("h2",{className:"text-xl font-semibold",children:t.name}),c.jsx("p",{className:"text-gray-400",children:e("profile.farmingExperience")})]}),c.jsxs("div",{className:"mt-6 space-y-4",children:[c.jsxs("div",{className:"flex items-center text-gray-400",children:[c.jsx(Aw,{className:"h-5 w-5 mr-2"}),c.jsx("span",{children:t.location})]}),c.jsxs("div",{className:"flex items-center text-gray-400",children:[c.jsx(Wm,{className:"h-5 w-5 mr-2"}),c.jsx("span",{children:t.phone})]}),t.contactNumbers.map((u,h)=>c.jsx("div",{className:"flex items-center text-gray-400 pl-7",children:c.jsx("span",{children:u})},h)),c.jsxs("div",{className:"flex items-center text-gray-400",children:[c.jsx(Dw,{className:"h-5 w-5 mr-2"}),c.jsx("span",{children:t.email})]})]}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800",children:[c.jsx("p",{className:"text-sm font-medium text-gray-400 mb-2",children:e("common.language")}),c.jsx(xx,{})]})]}),c.jsxs("div",{className:"md:col-span-2 space-y-6",children:[c.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(Jw,{className:"h-6 w-6 text-green-500 mr-2"}),c.jsx("h2",{className:"text-xl font-semibold",children:e("profile.farmDetails")})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-400",children:e("profile.totalLand")}),c.jsxs("p",{className:"text-xl font-semibold",children:[t.farmingDetails.totalLand," Acres"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-400",children:e("profile.mainCrops")}),c.jsx("p",{className:"text-xl font-semibold",children:t.farmingDetails.mainCrops})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-400",children:e("profile.farmingSince")}),c.jsx("p",{className:"text-xl font-semibold",children:t.farmingDetails.farmingSince})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-400",children:e("profile.irrigationType")}),c.jsx("p",{className:"text-xl font-semibold",children:t.farmingDetails.irrigationType})]})]})]}),c.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(Xw,{className:"h-6 w-6 text-yellow-500 mr-2"}),c.jsx("h2",{className:"text-xl font-semibold",children:e("profile.currentSeason")})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-400",children:e("profile.cropType")}),c.jsx("span",{children:t.currentSeason.cropType})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-400",children:e("profile.sowingDate")}),c.jsx("span",{children:t.currentSeason.sowingDate})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-400",children:e("profile.expectedHarvest")}),c.jsx("span",{children:t.currentSeason.expectedHarvest})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-400",children:e("profile.cropHealth")}),c.jsxs("div",{className:"flex items-center text-green-500",children:[c.jsx(yi,{className:"h-5 w-5 mr-1"}),c.jsx("span",{children:t.currentSeason.cropHealth})]})]})]})]})]})]}),c.jsx(wx,{isOpen:o,onClose:()=>l(!1),userData:t,onUpdate:a})]}):null};function G(n){var e=n.width,t=n.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(t<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:t}}function xn(n,e){return n.width===e.width&&n.height===e.height}var _x=function(){function n(e){var t=this;this._resolutionListener=function(){return t._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(e){var t=this,i={next:e};return this._observers.push(i),{unsubscribe:function(){t._observers=t._observers.filter(function(s){return s!==i})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(t){return t.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},n}();function Sx(n){return new _x(n)}var kx=function(){function n(e,t,i){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=G({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=t??function(r){return r},this._allowResizeObserver=(s=i==null?void 0:i.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var e,t;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(t=this._devicePixelRatioObservable)===null||t===void 0||t.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return G({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=G(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(t){return t!==e})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(t){return t!==e})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(e){var t=this.bitmapSize;xn(t,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(t,e))},n.prototype._emitBitmapSizeChanged=function(e,t){var i=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,t)})},n.prototype._suggestNewBitmapSize=function(e){var t=this._suggestedBitmapSize,i=G(this._transformBitmapSize(e,this._canvasElementClientSize)),s=xn(this.bitmapSize,i)?null:i;t===null&&s===null||t!==null&&s!==null&&xn(t,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(t,s))},n.prototype._emitSuggestedBitmapSizeChanged=function(e,t){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,t)})},n.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}Nx().then(function(t){return t?e._initResizeObserver():e._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var t=Qc(this._canvasElement);if(t===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Sx(t),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var e,t;if(this._canvasElement!==null){var i=Qc(this._canvasElement);if(i!==null){var s=(t=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&t!==void 0?t:i.devicePixelRatio,r=this._canvasElement.getClientRects(),o=r[0]!==void 0?jx(r[0],s):G({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(o)}}},n.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(t){var i=t.find(function(o){return o.target===e._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var s=i.devicePixelContentBoxSize[0],r=G({width:s.inlineSize,height:s.blockSize});e._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n}();function Cx(n,e){if(e.type==="device-pixel-content-box")return new kx(n,e.transform,e.options);throw new Error("Unsupported binding target")}function Qc(n){return n.ownerDocument.defaultView}function Nx(){return new Promise(function(n){var e=new ResizeObserver(function(t){n(t.every(function(i){return"devicePixelContentBoxSize"in i})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function jx(n,e){return G({width:Math.round(n.left*e+n.width*e)-Math.round(n.left*e),height:Math.round(n.top*e+n.height*e)-Math.round(n.top*e)})}var Ex=function(){function n(e,t,i){if(t.width===0||t.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=t,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=e}return n.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n}();function Nn(n,e){var t=n.canvasElementClientSize;if(t.width===0||t.height===0)return null;var i=n.bitmapSize;if(i.width===0||i.height===0)return null;var s=n.canvasElement.getContext("2d",e);return s===null?null:new Ex(s,t,i)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const Px={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Tx={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Lx={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Mx={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},$x={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Ox={color:"#26a69a",base:0},Qm={color:"#2196f3"},Xm={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Xc,Yc;function jn(n,e){const t={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[e];n.setLineDash(t)}function Ym(n,e,t,i){n.beginPath();const s=n.lineWidth%2?.5:0;n.moveTo(t,e+s),n.lineTo(i,e+s),n.stroke()}function en(n,e){if(!n)throw new Error("Assertion failed"+(e?": "+e:""))}function ke(n){if(n===void 0)throw new Error("Value is undefined");return n}function N(n){if(n===null)throw new Error("Value is null");return n}function Zn(n){return N(ke(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(Xc||(Xc={})),function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"}(Yc||(Yc={}));const Zc={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Be(n){return n<0?0:n>255?255:Math.round(n)||0}function Zm(n){return n<=0||n>1?Math.min(Math.max(n,0),1):Math.round(1e4*n)/1e4}const Rx=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,zx=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,Ix=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,Dx=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function Ns(n){(n=n.toLowerCase())in Zc&&(n=Zc[n]);{const e=Dx.exec(n)||Ix.exec(n);if(e)return[Be(parseInt(e[1],10)),Be(parseInt(e[2],10)),Be(parseInt(e[3],10)),Zm(e.length<5?1:parseFloat(e[4]))]}{const e=zx.exec(n);if(e)return[Be(parseInt(e[1],16)),Be(parseInt(e[2],16)),Be(parseInt(e[3],16)),1]}{const e=Rx.exec(n);if(e)return[Be(17*parseInt(e[1],16)),Be(17*parseInt(e[2],16)),Be(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${n}`)}function eg(n){return .199*n[0]+.687*n[1]+.114*n[2]}function Fo(n){const e=Ns(n);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:eg(e)>160?"black":"white"}}class se{constructor(){this.h=[]}l(e,t,i){const s={o:e,_:t,u:i===!0};this.h.push(s)}v(e){const t=this.h.findIndex(i=>e===i.o);t>-1&&this.h.splice(t,1)}p(e){this.h=this.h.filter(t=>t._!==e)}m(e,t,i){const s=[...this.h];this.h=this.h.filter(r=>!r.u),s.forEach(r=>r.o(e,t,i))}M(){return this.h.length>0}S(){this.h=[]}}function ot(n,...e){for(const t of e)for(const i in t)t[i]!==void 0&&Object.prototype.hasOwnProperty.call(t,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof t[i]!="object"||n[i]===void 0||Array.isArray(t[i])?n[i]=t[i]:ot(n[i],t[i]));return n}function ft(n){return typeof n=="number"&&isFinite(n)}function js(n){return typeof n=="number"&&n%1==0}function Fs(n){return typeof n=="string"}function cr(n){return typeof n=="boolean"}function _t(n){const e=n;if(!e||typeof e!="object")return e;let t,i,s;for(i in t=Array.isArray(e)?[]:{},e)e.hasOwnProperty(i)&&(s=e[i],t[i]=s&&typeof s=="object"?_t(s):s);return t}function Ax(n){return n!==null}function Es(n){return n===null?void 0:n}const lh="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function wi(n,e,t){return e===void 0&&(e=lh),`${t=t!==void 0?`${t} `:""}${n}px ${e}`}class Fx{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,t=this.j(),i=this.H();return e.P===t&&e.D===i||(e.P=t,e.D=i,e.R=wi(t,i),e.L=2.5/12*t,e.B=e.L,e.A=t/12*e.T,e.I=t/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class ah{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,t,i){this.Y.forEach(s=>{s.X(e,t,i)})}}class lt{X(e,t,i){e.useBitmapCoordinateSpace(s=>this.K(s,t,i))}}class Ux extends lt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:t,verticalPixelRatio:i}){if(this.G===null||this.G.tt===null)return;const s=this.G.tt,r=this.G,o=Math.max(1,Math.floor(t))%2/2,l=a=>{e.beginPath();for(let u=s.to-1;u>=s.from;--u){const h=r.it[u],d=Math.round(h.nt*t)+o,f=h.st*i,p=a*i+o;e.moveTo(d,f),e.arc(d,f,p,0,2*Math.PI)}e.fill()};r.et>0&&(e.fillStyle=r.rt,l(r.ht+r.et)),e.fillStyle=r.lt,l(r.ht)}}function Vx(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const Bx={from:0,to:1};class Wx{constructor(e,t){this.ut=new ah,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=t,this.ut.Z(this.ct)}bt(e){const t=this.F.wt();t.length!==this.ct.length&&(this.dt=t.map(Vx),this.ct=this.dt.map(i=>{const s=new Ux;return s.J(i),s}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,t=this.F.wt(),i=this.vt.xt(),s=this.F.St();t.forEach((r,o)=>{var l;const a=this.dt[o],u=r.kt(i);if(e||u===null||!r.yt())return void(a.tt=null);const h=N(r.Ct());a.lt=u.Tt,a.ht=u.ht,a.et=u.Pt,a.it[0]._t=u._t,a.it[0].st=r.Dt().Rt(u._t,h.Vt),a.rt=(l=u.Ot)!==null&&l!==void 0?l:this.F.Bt(a.it[0].st/r.Dt().At()),a.it[0].ot=i,a.it[0].nt=s.It(i),a.tt=Bx})}}class Hx extends lt{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:t,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null)return;const r=this.zt.Lt.yt,o=this.zt.Et.yt;if(!r&&!o)return;const l=Math.round(this.zt.nt*i),a=Math.round(this.zt.st*s);e.lineCap="butt",r&&l>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*i),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,jn(e,this.zt.Lt.Nt),function(u,h,d,f){u.beginPath();const p=u.lineWidth%2?.5:0;u.moveTo(h+p,d),u.lineTo(h+p,f),u.stroke()}(e,l,0,t.height)),o&&a>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*s),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,jn(e,this.zt.Et.Nt),Ym(e,a,0,t.width))}}class Kx{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new Hx(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),t=N(this.jt.Ht()),i=t.$t().W().crosshair,s=this.Ft;if(i.mode===2)return s.Et.yt=!1,void(s.Lt.yt=!1);s.Et.yt=e&&this.jt.Ut(t),s.Lt.yt=e&&this.jt.qt(),s.Et.et=i.horzLine.width,s.Et.Nt=i.horzLine.style,s.Et.V=i.horzLine.color,s.Lt.et=i.vertLine.width,s.Lt.Nt=i.vertLine.style,s.Lt.V=i.vertLine.color,s.nt=this.jt.Yt(),s.st=this.jt.Zt()}}function qx(n,e,t,i,s,r){n.fillRect(e+r,t,i-2*r,r),n.fillRect(e+r,t+s-r,i-2*r,r),n.fillRect(e,t,r,s),n.fillRect(e+i-r,t,r,s)}function Uo(n,e,t,i,s,r){n.save(),n.globalCompositeOperation="copy",n.fillStyle=r,n.fillRect(e,t,i,s),n.restore()}function ed(n,e,t,i,s,r){n.beginPath(),n.roundRect?n.roundRect(e,t,i,s,r):(n.lineTo(e+i-r[1],t),r[1]!==0&&n.arcTo(e+i,t,e+i,t+r[1],r[1]),n.lineTo(e+i,t+s-r[2]),r[2]!==0&&n.arcTo(e+i,t+s,e+i-r[2],t+s,r[2]),n.lineTo(e+r[3],t+s),r[3]!==0&&n.arcTo(e,t+s,e,t+s-r[3],r[3]),n.lineTo(e,t+r[0]),r[0]!==0&&n.arcTo(e,t,e+r[0],t,r[0]))}function td(n,e,t,i,s,r,o=0,l=[0,0,0,0],a=""){if(n.save(),!o||!a||a===r)return ed(n,e,t,i,s,l),n.fillStyle=r,n.fill(),void n.restore();const u=o/2;var h;ed(n,e+u,t+u,i-o,s-o,(h=-u,l.map(d=>d===0?d:d+h))),r!=="transparent"&&(n.fillStyle=r,n.fill()),a!=="transparent"&&(n.lineWidth=o,n.strokeStyle=a,n.closePath(),n.stroke()),n.restore()}function tg(n,e,t,i,s,r,o){n.save(),n.globalCompositeOperation="copy";const l=n.createLinearGradient(0,0,0,s);l.addColorStop(0,r),l.addColorStop(1,o),n.fillStyle=l,n.fillRect(e,t,i,s),n.restore()}class nd{constructor(e,t){this.J(e,t)}J(e,t){this.zt=e,this.Xt=t}At(e,t){return this.zt.yt?e.P+e.L+e.B:0}X(e,t,i,s){if(!this.zt.yt||this.zt.Kt.length===0)return;const r=this.zt.V,o=this.Xt.t,l=e.useBitmapCoordinateSpace(a=>{const u=a.context;u.font=t.R;const h=this.Gt(a,t,i,s),d=h.Jt;return h.Qt?td(u,d.ti,d.ii,d.ni,d.si,o,d.ei,[d.ht,0,0,d.ht],o):td(u,d.ri,d.ii,d.ni,d.si,o,d.ei,[0,d.ht,d.ht,0],o),this.zt.hi&&(u.fillStyle=r,u.fillRect(d.ri,d.li,d.ai-d.ri,d.oi)),this.zt._i&&(u.fillStyle=t.O,u.fillRect(h.Qt?d.ui-d.ei:0,d.ii,d.ei,d.ci-d.ii)),h});e.useMediaCoordinateSpace(({context:a})=>{const u=l.di;a.font=t.R,a.textAlign=l.Qt?"right":"left",a.textBaseline="middle",a.fillStyle=r,a.fillText(this.zt.Kt,u.fi,(u.ii+u.ci)/2+u.pi)})}Gt(e,t,i,s){var r;const{context:o,bitmapSize:l,mediaSize:a,horizontalPixelRatio:u,verticalPixelRatio:h}=e,d=this.zt.hi||!this.zt.mi?t.T:0,f=this.zt.bi?t.C:0,p=t.L+this.Xt.wi,v=t.B+this.Xt.gi,g=t.A,b=t.I,y=this.zt.Kt,m=t.P,w=i.Mi(o,y),x=Math.ceil(i.xi(o,y)),_=m+p+v,k=t.C+g+b+x+d,S=Math.max(1,Math.floor(h));let E=Math.round(_*h);E%2!=S%2&&(E+=1);const U=f>0?Math.max(1,Math.floor(f*u)):0,O=Math.round(k*u),te=Math.round(d*u),Xe=(r=this.Xt.Si)!==null&&r!==void 0?r:this.Xt.ki,Re=Math.round(Xe*h)-Math.floor(.5*h),be=Math.floor(Re+S/2-E/2),P=be+E,D=s==="right",B=D?a.width-f:f,C=D?l.width-U:U;let T,M,W;return D?(T=C-O,M=C-te,W=B-d-g-f):(T=C+O,M=C+te,W=B+d+g),{Qt:D,Jt:{ii:be,li:Re,ci:P,ni:O,si:E,ht:2*u,ei:U,ti:T,ri:C,ai:M,oi:S,ui:l.width},di:{ii:be/h,ci:P/h,fi:W,pi:w}}}}class Vo{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||nd)(this.Ci,this.yi),this.Ri=new(e||nd)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,t=!1){return Math.max(this.Pi.At(e,t),this.Ri.At(e,t))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class Jx extends Vo{constructor(e,t,i){super(),this.jt=e,this.Li=t,this.Ei=i}zi(e,t,i){if(e.yt=!1,this.jt.W().mode===2)return;const s=this.jt.W().horzLine;if(!s.labelVisible)return;const r=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||r===null)return;const o=Fo(s.labelBackgroundColor);i.t=o.t,e.V=o.i;const l=2/12*this.Li.P();i.wi=l,i.gi=l;const a=this.Ei(this.Li);i.ki=a.ki,e.Kt=this.Li.Fi(a._t,r),e.yt=!0}}const Gx=/[1-9]/g;class ng{constructor(){this.zt=null}J(e){this.zt=e}X(e,t){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const i=e.useMediaCoordinateSpace(({context:f})=>(f.font=t.R,Math.round(t.Wi.xi(f,N(this.zt).Kt,Gx))));if(i<=0)return;const s=t.ji,r=i+2*s,o=r/2,l=this.zt.Hi;let a=this.zt.ki,u=Math.floor(a-o)+.5;u<0?(a+=Math.abs(0-u),u=Math.floor(a-o)+.5):u+r>l&&(a-=Math.abs(l-(u+r)),u=Math.floor(a-o)+.5);const h=u+r,d=Math.ceil(0+t.C+t.T+t.L+t.P+t.B);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:p,verticalPixelRatio:v})=>{const g=N(this.zt);f.fillStyle=g.t;const b=Math.round(u*p),y=Math.round(0*v),m=Math.round(h*p),w=Math.round(d*v),x=Math.round(2*p);if(f.beginPath(),f.moveTo(b,y),f.lineTo(b,w-x),f.arcTo(b,w,b+x,w,x),f.lineTo(m-x,w),f.arcTo(m,w,m,w-x,x),f.lineTo(m,y),f.fill(),g.hi){const _=Math.round(g.ki*p),k=y,S=Math.round((k+t.T)*v);f.fillStyle=g.V;const E=Math.max(1,Math.floor(p)),U=Math.floor(.5*p);f.fillRect(_-U,k,E,S-k)}}),e.useMediaCoordinateSpace(({context:f})=>{const p=N(this.zt),v=0+t.C+t.T+t.L+t.P/2;f.font=t.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=p.V;const g=t.Wi.Mi(f,"Apr0");f.translate(u+s,v+g),f.fillText(p.Kt,0,0)})}}class Qx{constructor(e,t,i){this.ft=!0,this.Wt=new ng,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=t,this.Ei=i}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const t=this.vt.W().vertLine;if(!t.labelVisible)return;const i=this.$i.St();if(i.Ni())return;e.Hi=i.Hi();const s=this.Ei();if(s===null)return;e.ki=s.ki;const r=i.Ui(this.vt.xt());e.Kt=i.qi(N(r)),e.yt=!0;const o=Fo(t.labelBackgroundColor);e.t=o.t,e.V=o.i,e.hi=i.W().ticksVisible}}class uh{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var id;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden"})(id||(id={}));class Xx extends uh{constructor(e,t){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=t,this.dn=new Wx(e,this),this.fn=((s,r)=>o=>{const l=r(),a=s();if(o===N(this.tn).vn())return{_t:a,ki:l};{const u=N(o.Ct());return{_t:o.pn(l,u),ki:l}}})(()=>this.nn,()=>this.an);const i=((s,r)=>()=>{const o=this.$i.St().mn(s()),l=r();return o&&Number.isFinite(l)?{ot:o,ki:l}:null})(()=>this.sn,()=>this.Yt());this.bn=new Qx(this,e,i),this.wn=new Kx(this)}W(){return this.cn}gn(e,t){this._n=e,this.un=t}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,t,i){this.hn||(this.hn=!0),this.en=!0,this.yn(e,t,i)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,t){this.en&&this.tn===e||this.rn.clear();const i=[];return this.tn===e&&i.push(this.Dn(this.rn,t,this.fn)),i}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,t,i){this.Bn(e,t,i)&&this.Vn()}Bn(e,t,i){const s=this.ln,r=this.an,o=this.nn,l=this.sn,a=this.tn,u=this.On(i);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=i;const h=u!==null?u.Ct():null;return u!==null&&h!==null?(this.nn=t,this.an=u.Rt(t,h)):(this.nn=NaN,this.an=NaN),s!==this.ln||r!==this.an||l!==this.sn||o!==this.nn||a!==this.tn}Tn(){const e=this.$i.wt().map(i=>i.In().An()).filter(Ax),t=e.length===0?null:Math.max(...e);this.sn=t!==null?t:NaN}Dn(e,t,i){let s=e.get(t);return s===void 0&&(s=new Jx(this,t,i),e.set(t,s)),s}}function Bo(n){return n==="left"||n==="right"}class fe{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,t){const i=function(s,r){return s===void 0?r:{Fn:Math.max(s.Fn,r.Fn),Wn:s.Wn||r.Wn}}(this.zn.get(e),t);this.zn.set(e,i)}jn(){return this.En}Hn(e){const t=this.zn.get(e);return t===void 0?{Fn:this.En}:{Fn:Math.max(this.En,t.Fn),Wn:t.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const t of e.Ln)this.ns(t);this.En=Math.max(this.En,e.En),e.zn.forEach((t,i)=>{this.Nn(i,t)})}static ss(){return new fe(2)}static es(){return new fe(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(t=>t.qn===5);e!==-1&&this.Ln.splice(e,1)}}const sd=".";function St(n,e){if(!ft(n))return"n/a";if(!js(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?n.toString():("0000000000000000"+n.toString()).slice(-e)}class Wo{constructor(e,t){if(t||(t=1),ft(e)&&js(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=t,this.hs()}format(e){const t=e<0?"":"";return e=Math.abs(e),t+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const t=this.Li/this.rs;let i=Math.floor(e),s="";const r=this._s!==void 0?this._s:NaN;if(t>1){let o=+(Math.round(e*t)-i*t).toFixed(this._s);o>=t&&(o-=t,i+=1),s=sd+St(+o.toFixed(this._s)*this.rs,r)}else i=Math.round(i*t)/t,r>0&&(s=sd+St(0,r));return i.toFixed(0)+s}}class ig extends Wo{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class Yx{constructor(e){this.us=e}format(e){let t="";return e<0&&(t="-",e=-e),e<995?t+this.cs(e):e<999995?t+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this.cs(e/1e9)+"B")}cs(e){let t;const i=Math.pow(10,this.us);return t=(e=Math.round(e*i)/i)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),t.replace(/(\.[1-9]*)0+$/,(s,r)=>r)}}function sg(n,e,t,i,s,r,o){if(e.length===0||i.from>=e.length||i.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:u}=n,h=e[i.from];let d=r(n,h),f=h;if(i.to-i.from<2){const p=s/2;l.beginPath();const v={nt:h.nt-p,st:h.st},g={nt:h.nt+p,st:h.st};l.moveTo(v.nt*a,v.st*u),l.lineTo(g.nt*a,g.st*u),o(n,d,v,g)}else{const p=(g,b)=>{o(n,d,f,b),l.beginPath(),d=g,f=b};let v=f;l.beginPath(),l.moveTo(h.nt*a,h.st*u);for(let g=i.from+1;g<i.to;++g){v=e[g];const b=r(n,v);switch(t){case 0:l.lineTo(v.nt*a,v.st*u);break;case 1:l.lineTo(v.nt*a,e[g-1].st*u),b!==d&&(p(b,v),l.lineTo(v.nt*a,e[g-1].st*u)),l.lineTo(v.nt*a,v.st*u);break;case 2:{const[y,m]=Zx(e,g-1,g);l.bezierCurveTo(y.nt*a,y.st*u,m.nt*a,m.st*u,v.nt*a,v.st*u);break}}t!==1&&b!==d&&(p(b,v),l.moveTo(v.nt*a,v.st*u))}(f!==v||f===v&&t===1)&&o(n,d,f,v)}}const rd=6;function Pl(n,e){return{nt:n.nt-e.nt,st:n.st-e.st}}function od(n,e){return{nt:n.nt/e,st:n.st/e}}function Zx(n,e,t){const i=Math.max(0,e-1),s=Math.min(n.length-1,t+1);var r,o;return[(r=n[e],o=od(Pl(n[t],n[i]),rd),{nt:r.nt+o.nt,st:r.st+o.st}),Pl(n[t],od(Pl(n[s],n[e]),rd))]}function eb(n,e,t,i,s){const{context:r,horizontalPixelRatio:o,verticalPixelRatio:l}=e;r.lineTo(s.nt*o,n*l),r.lineTo(i.nt*o,n*l),r.closePath(),r.fillStyle=t,r.fill()}class rg extends lt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var t;if(this.G===null)return;const{it:i,tt:s,ds:r,et:o,Nt:l,fs:a}=this.G,u=(t=this.G.vs)!==null&&t!==void 0?t:this.G.ps?0:e.mediaSize.height;if(s===null)return;const h=e.context;h.lineCap="butt",h.lineJoin="round",h.lineWidth=o,jn(h,l),h.lineWidth=1,sg(e,i,a,s,r,this.bs.bind(this),eb.bind(null,u))}}function eu(n,e,t){return Math.min(Math.max(n,e),t)}function dr(n,e,t){return e-n<=t}function og(n){const e=Math.ceil(n);return e%2==0?e-1:e}class hh{ws(e,t){const i=this.gs,{Ms:s,xs:r,Ss:o,ks:l,ys:a,vs:u}=t;if(this.Cs===void 0||i===void 0||i.Ms!==s||i.xs!==r||i.Ss!==o||i.ks!==l||i.vs!==u||i.ys!==a){const h=e.context.createLinearGradient(0,0,0,a);if(h.addColorStop(0,s),u!=null){const d=eu(u*e.verticalPixelRatio/a,0,1);h.addColorStop(d,r),h.addColorStop(d,o)}h.addColorStop(1,l),this.Cs=h,this.gs=t}return this.Cs}}class tb extends rg{constructor(){super(...arguments),this.Ts=new hh}bs(e,t){return this.Ts.ws(e,{Ms:t.Ps,xs:"",Ss:"",ks:t.Rs,ys:e.bitmapSize.height})}}function nb(n,e){const t=n.context;t.strokeStyle=e,t.stroke()}class lg extends lt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:t,tt:i,ds:s,fs:r,et:o,Nt:l,Ds:a}=this.G;if(i===null)return;const u=e.context;u.lineCap="butt",u.lineWidth=o*e.verticalPixelRatio,jn(u,l),u.lineJoin="round";const h=this.Vs.bind(this);r!==void 0&&sg(e,t,r,i,s,h,nb),a&&function(d,f,p,v,g){const{horizontalPixelRatio:b,verticalPixelRatio:y,context:m}=d;let w=null;const x=Math.max(1,Math.floor(b))%2/2,_=p*y+x;for(let k=v.to-1;k>=v.from;--k){const S=f[k];if(S){const E=g(d,S);E!==w&&(m.beginPath(),w!==null&&m.fill(),m.fillStyle=E,w=E);const U=Math.round(S.nt*b)+x,O=S.st*y;m.moveTo(U,O),m.arc(U,O,_,0,2*Math.PI)}}m.fill()}(e,t,a,i,h)}}class ag extends lg{Vs(e,t){return t.lt}}function ug(n,e,t,i,s=0,r=e.length){let o=r-s;for(;0<o;){const l=o>>1,a=s+l;i(e[a],t)===n?(s=a+1,o-=l+1):o=l}return s}const Us=ug.bind(null,!0),hg=ug.bind(null,!1);function ib(n,e){return n.ot<e}function sb(n,e){return e<n.ot}function cg(n,e,t){const i=e.Os(),s=e.ui(),r=Us(n,i,ib),o=hg(n,s,sb);if(!t)return{from:r,to:o};let l=r,a=o;return r>0&&r<n.length&&n[r].ot>=i&&(l=r-1),o>0&&o<n.length&&n[o-1].ot<=s&&(a=o+1),{from:l,to:a}}class ch{constructor(e,t,i){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=t,this.Fs=i}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),t=this.Ns.St();if(this.qs(),t.Ni()||e.Ni())return;const i=t.Xs();if(i===null||this.Es.In().Ks()===0)return;const s=this.Es.Ct();s!==null&&(this.Ls=cg(this.zs,i,this.Fs),this.Gs(e,t,s.Vt),this.Js())}}class Ho extends ch{constructor(e,t){super(e,t,!0)}Gs(e,t,i){t.Qs(this.zs,Es(this.Ls)),e.te(this.zs,i,Es(this.Ls))}ie(e,t){return{ot:e,_t:t,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(t=>{const i=t.Vt[3];return this.se(t.ee,i,e)})}}class rb extends Ho{constructor(e,t){super(e,t),this.js=new ah,this.re=new tb,this.he=new ag,this.js.Z([this.re,this.he])}se(e,t,i){return Object.assign(Object.assign({},this.ie(e,t)),i.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class ob extends lt{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:t,verticalPixelRatio:i}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(t),this.ae>=2&&Math.max(1,Math.floor(t))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(t)):this.ae;let s=null;const r=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*t);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const l=this.zt.In[o];s!==l.ce&&(e.fillStyle=l.ce,s=l.ce);const a=Math.floor(.5*this.oe),u=Math.round(l.nt*t),h=u-a,d=this.oe,f=h+d-1,p=Math.min(l.de,l.fe),v=Math.max(l.de,l.fe),g=Math.round(p*i)-a,b=Math.round(v*i)+a,y=Math.max(b-g,this.oe);e.fillRect(h,g,d,y);const m=Math.ceil(1.5*this.ae);if(r){if(this.zt.ve){const k=u-m;let S=Math.max(g,Math.round(l.pe*i)-a),E=S+d-1;E>g+y-1&&(E=g+y-1,S=E-d+1),e.fillRect(k,S,h-k,E-S+1)}const w=u+m;let x=Math.max(g,Math.round(l.me*i)-a),_=x+d-1;_>g+y-1&&(_=g+y-1,x=_-d+1),e.fillRect(f+1,x,w-f,_-x+1)}}}_e(e){const t=Math.floor(e);return Math.max(t,Math.floor(function(i,s){return Math.floor(.3*i*s)}(N(this.zt).le,e)))}}class dg extends ch{constructor(e,t){super(e,t,!1)}Gs(e,t,i){t.Qs(this.zs,Es(this.Ls)),e.be(this.zs,i,Es(this.Ls))}we(e,t,i){return{ot:e,ge:t.Vt[0],Me:t.Vt[1],xe:t.Vt[2],Se:t.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(t=>this.se(t.ee,t,e))}}class lb extends dg{constructor(){super(...arguments),this.js=new ob}se(e,t,i){return Object.assign(Object.assign({},this.we(e,t,i)),i.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class ab extends rg{constructor(){super(...arguments),this.Ts=new hh}bs(e,t){const i=this.G;return this.Ts.ws(e,{Ms:t.ke,xs:t.ye,Ss:t.Ce,ks:t.Te,ys:e.bitmapSize.height,vs:i.vs})}}class ub extends lg{constructor(){super(...arguments),this.Pe=new hh}Vs(e,t){const i=this.G;return this.Pe.ws(e,{Ms:t.Re,xs:t.Re,Ss:t.De,ks:t.De,ys:e.bitmapSize.height,vs:i.vs})}}class hb extends Ho{constructor(e,t){super(e,t),this.js=new ah,this.Ve=new ab,this.Oe=new ub,this.js.Z([this.Ve,this.Oe])}se(e,t,i){return Object.assign(Object.assign({},this.ie(e,t)),i.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const t=this.Es.W(),i=this.Es.Dt().Rt(t.baseValue.price,e.Vt),s=this.Ns.St().le();this.Ve.J({it:this.zs,et:t.lineWidth,Nt:t.lineStyle,fs:t.lineType,vs:i,ps:!1,tt:this.Ls,ds:s}),this.Oe.J({it:this.zs,et:t.lineWidth,Nt:t.lineStyle,fs:t.lineVisible?t.lineType:void 0,Ds:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,vs:i,tt:this.Ls,ds:s})}}class cb extends lt{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:t}=e;this.ae=function(r,o){if(r>=2.5&&r<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),a=Math.floor(r*l*o),u=Math.floor(r*o),h=Math.min(a,u);return Math.max(Math.floor(o),h)}(this.zt.le,t),this.ae>=2&&Math.floor(t)%2!=this.ae%2&&this.ae--;const i=this.zt.In;this.zt.Be&&this.Ae(e,i,this.zt.tt),this.zt._i&&this.Ie(e,i,this.zt.tt);const s=this.ze(t);(!this.zt._i||this.ae>2*s)&&this.Le(e,i,this.zt.tt)}Ae(e,t,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=e;let l="",a=Math.min(Math.floor(r),Math.floor(this.zt.le*r));a=Math.max(Math.floor(r),Math.min(a,this.ae));const u=Math.floor(.5*a);let h=null;for(let d=i.from;d<i.to;d++){const f=t[d];f.Ee!==l&&(s.fillStyle=f.Ee,l=f.Ee);const p=Math.round(Math.min(f.pe,f.me)*o),v=Math.round(Math.max(f.pe,f.me)*o),g=Math.round(f.de*o),b=Math.round(f.fe*o);let y=Math.round(r*f.nt)-u;const m=y+a-1;h!==null&&(y=Math.max(h+1,y),y=Math.min(y,m));const w=m-y+1;s.fillRect(y,g,w,p-g),s.fillRect(y,v+1,w,b-v),h=m}}ze(e){let t=Math.floor(1*e);this.ae<=2*t&&(t=Math.floor(.5*(this.ae-1)));const i=Math.max(Math.floor(e),t);return this.ae<=2*i?Math.max(Math.floor(e),Math.floor(1*e)):i}Ie(e,t,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=e;let l="";const a=this.ze(r);let u=null;for(let h=i.from;h<i.to;h++){const d=t[h];d.Ne!==l&&(s.fillStyle=d.Ne,l=d.Ne);let f=Math.round(d.nt*r)-Math.floor(.5*this.ae);const p=f+this.ae-1,v=Math.round(Math.min(d.pe,d.me)*o),g=Math.round(Math.max(d.pe,d.me)*o);if(u!==null&&(f=Math.max(u+1,f),f=Math.min(f,p)),this.zt.le*r>2*a)qx(s,f,v,p-f+1,g-v+1,a);else{const b=p-f+1;s.fillRect(f,v,b,g-v+1)}u=p}}Le(e,t,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=e;let l="";const a=this.ze(r);for(let u=i.from;u<i.to;u++){const h=t[u];let d=Math.round(Math.min(h.pe,h.me)*o),f=Math.round(Math.max(h.pe,h.me)*o),p=Math.round(h.nt*r)-Math.floor(.5*this.ae),v=p+this.ae-1;if(h.ce!==l){const g=h.ce;s.fillStyle=g,l=g}this.zt._i&&(p+=a,d+=a,v-=a,f-=a),d>f||s.fillRect(p,d,v-p+1,f-d+1)}}}class db extends dg{constructor(){super(...arguments),this.js=new cb}se(e,t,i){return Object.assign(Object.assign({},this.we(e,t,i)),i.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class fb{constructor(e,t){this.Fe=e,this.Li=t}X(e,t,i){this.Fe.draw(e,this.Li,t,i)}}class Tl extends ch{constructor(e,t,i){super(e,t,!1),this.wn=i,this.js=new fb(this.wn.renderer(),s=>{const r=e.Ct();return r===null?null:e.Dt().Rt(s,r.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(t=>Object.assign(Object.assign({ot:t.ee,nt:NaN},e.$s(t.ee)),{He:t.$e}))}Gs(e,t){t.Qs(this.zs,Es(this.Ls))}Js(){this.wn.update({bars:this.zs.map(pb),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function pb(n){return{x:n.nt,time:n.ot,originalData:n.He,barColor:n.ce}}class mb extends lt{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:t,verticalPixelRatio:i}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(t);const s=Math.max(1,Math.floor(i)),r=Math.round(this.zt.Ye*i)-Math.floor(s/2),o=r+s;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const a=this.zt.it[l],u=this.Ue[l-this.zt.tt.from],h=Math.round(a.st*i);let d,f;e.fillStyle=a.ce,h<=r?(d=h,f=o):(d=r,f=h-Math.floor(s/2)+s),e.fillRect(u.Os,d,u.ui-u.Os+1,f-d)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const t=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),i=Math.round(this.zt.le*e)-t;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.zt.it[r],l=Math.round(o.nt*e);let a,u;if(i%2){const h=(i-1)/2;a=l-h,u=l+h}else{const h=i/2;a=l-h,u=l+h-1}this.Ue[r-this.zt.tt.from]={Os:a,ui:u,Ze:l,Xe:o.nt*e,ot:o.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const o=this.Ue[r-this.zt.tt.from],l=this.Ue[r-this.zt.tt.from-1];o.ot===l.ot+1&&o.Os-l.ui!==t+1&&(l.Ze>l.Xe?l.ui=o.Os-t-1:o.Os=l.ui+t+1)}let s=Math.ceil(this.zt.le*e);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.Ue[r-this.zt.tt.from];o.ui<o.Os&&(o.ui=o.Os);const l=o.ui-o.Os+1;s=Math.min(l,s)}if(t>0&&s<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.Ue[r-this.zt.tt.from];o.ui-o.Os+1>s&&(o.Ze>o.Xe?o.ui-=1:o.Os+=1)}}}class gb extends Ho{constructor(){super(...arguments),this.js=new mb}se(e,t,i){return Object.assign(Object.assign({},this.ie(e,t)),i.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,N(this.Es.Ct()).Vt)};this.js.J(e)}}class vb extends Ho{constructor(){super(...arguments),this.js=new ag}se(e,t,i){return Object.assign(Object.assign({},this.ie(e,t)),i.$s(e))}Js(){const e=this.Es.W(),t={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(t)}}const yb=/[2-9]/g;class Ps{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,t,i){return this.sr(e,t,i).width}Mi(e,t,i){const s=this.sr(e,t,i);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}sr(e,t,i){const s=i||yb,r=String(t).replace(s,"0");if(this.tr.has(r))return ke(this.tr.get(r)).er;if(this.Ke===this.ir){const l=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(l),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const o=e.measureText(r);return e.restore(),o.width===0&&t.length||(this.tr.set(r,{er:o,rr:this.Ge}),this.Qe[this.Ge]=r,this.Ke++,this.Ge++),o}}class wb{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,t,i){this.hr=e,this.k=t,this.lr=i}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class fg{constructor(e,t,i){this.ur=e,this.ar=new Ps(50),this.cr=t,this.F=i,this.j=-1,this.Wt=new wb(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const t=e.vr(this.cr)?e.pr():this.cr.Dt();if(t===null)return null;const i=e.mr(t);if(i==="overlay")return null;const s=this.F.br();return s.P!==this.j&&(this.j=s.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),s,i),this.Wt}}class xb extends lt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,t){var i;if(!(!((i=this.zt)===null||i===void 0)&&i.yt))return null;const{st:s,et:r,gr:o}=this.zt;return t>=s-r-7&&t<=s+r+7?{Mr:this.zt,gr:o}:null}K({context:e,bitmapSize:t,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null||this.zt.yt===!1)return;const r=Math.round(this.zt.st*s);r<0||r>t.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*i),jn(e,this.zt.Nt),Ym(e,r,0,t.width))}}class dh{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new xb,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class bb extends dh{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),t=e.Cr().Cr;if(t!==2&&t!==3)return;const i=this.Es.W();if(!i.baseLineVisible||!this.Es.yt())return;const s=this.Es.Ct();s!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(s.Vt,s.Vt),this.Sr.V=i.baseLineColor,this.Sr.et=i.baseLineWidth,this.Sr.Nt=i.baseLineStyle)}}class _b extends lt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:t,verticalPixelRatio:i}){const s=this.zt;if(s===null)return;const r=Math.max(1,Math.floor(t)),o=r%2/2,l=Math.round(s.Xe.x*t)+o,a=s.Xe.y*i;e.fillStyle=s.Tr,e.beginPath();const u=Math.max(2,1.5*s.Pr)*t;e.arc(l,a,u,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.Rr,e.beginPath(),e.arc(l,a,s.ht*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=r,e.strokeStyle=s.Dr,e.beginPath(),e.arc(l,a,s.ht*t+r/2,0,2*Math.PI,!1),e.stroke()}}const Sb=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function ld(n,e,t,i){return function(s,r){if(s==="transparent")return s;const o=Ns(s),l=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${r*l})`}(n,t+(i-t)*e)}function ad(n,e){const t=n%2600/2600;let i;for(const a of Sb)if(t>=a.Vr&&t<=a.Or){i=a;break}en(i!==void 0,"Last price animation internal logic error");const s=(t-i.Vr)/(i.Or-i.Vr);return{Rr:ld(e,s,i.Ir,i.zr),Dr:ld(e,s,i.Lr,i.Er),ht:(r=s,o=i.Br,l=i.Ar,o+(l-o)*r)};var r,o,l}class kb{constructor(e){this.Wt=new _b,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),t=this.Wr-e;if(t>0)return void(t<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),t=e.Xs(),i=this.jr.Ct();if(t===null||i===null)return;const s=this.jr.Zr(!0);if(s.Xr||!t.Kr(s.ee))return;const r={x:e.It(s.ee),y:this.jr.Dt().Rt(s._t,i.Vt)},o=s.V,l=this.jr.W().lineWidth,a=ad(this.Gr(),o);this.Wt.J({Tr:o,Pr:l,Rr:a.Rr,Dr:a.Dr,ht:a.ht,Xe:r})}Yr(){const e=this.Wt.$e();if(e!==null){const t=ad(this.Gr(),e.Tr);e.Rr=t.Rr,e.Dr=t.Dr,e.ht=t.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function is(n,e){return og(Math.min(Math.max(n,12),30)*e)}function Ts(n,e){switch(n){case"arrowDown":case"arrowUp":return is(e,1);case"circle":return is(e,.8);case"square":return is(e,.7)}}function pg(n){return function(e){const t=Math.ceil(e);return t%2!=0?t-1:t}(is(n,1))}function ud(n){return Math.max(is(n,.1),3)}function hd(n,e,t){return e?n:t?Math.ceil(n/2):0}function mg(n,e,t,i,s){const r=Ts("square",t),o=(r-1)/2,l=n-o,a=e-o;return i>=l&&i<=l+r&&s>=a&&s<=a+r}function cd(n,e,t,i){const s=(Ts("arrowUp",i)-1)/2*t.Jr,r=(og(i/2)-1)/2*t.Jr;e.beginPath(),n?(e.moveTo(t.nt-s,t.st),e.lineTo(t.nt,t.st-s),e.lineTo(t.nt+s,t.st),e.lineTo(t.nt+r,t.st),e.lineTo(t.nt+r,t.st+s),e.lineTo(t.nt-r,t.st+s),e.lineTo(t.nt-r,t.st)):(e.moveTo(t.nt-s,t.st),e.lineTo(t.nt,t.st+s),e.lineTo(t.nt+s,t.st),e.lineTo(t.nt+r,t.st),e.lineTo(t.nt+r,t.st-s),e.lineTo(t.nt-r,t.st-s),e.lineTo(t.nt-r,t.st)),e.fill()}function Cb(n,e,t,i,s,r){return mg(e,t,i,s,r)}class Nb extends lt{constructor(){super(...arguments),this.zt=null,this.ar=new Ps,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,t){this.j===e&&this.H===t||(this.j=e,this.H=t,this.Qr=wi(e,t),this.ar.nr())}wr(e,t){if(this.zt===null||this.zt.tt===null)return null;for(let i=this.zt.tt.from;i<this.zt.tt.to;i++){const s=this.zt.it[i];if(Eb(s,e,t))return{Mr:s.th,gr:s.gr}}return null}K({context:e,horizontalPixelRatio:t,verticalPixelRatio:i},s,r){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const l=this.zt.it[o];l.Kt!==void 0&&(l.Kt.Hi=this.ar.xi(e,l.Kt.ih),l.Kt.At=this.j,l.Kt.nt=l.nt-l.Kt.Hi/2),jb(l,e,t,i)}}}}function jb(n,e,t,i){e.fillStyle=n.V,n.Kt!==void 0&&function(s,r,o,l,a,u){s.save(),s.scale(a,u),s.fillText(r,o,l),s.restore()}(e,n.Kt.ih,n.Kt.nt,n.Kt.st,t,i),function(s,r,o){if(s.Ks!==0){switch(s.nh){case"arrowDown":return void cd(!1,r,o,s.Ks);case"arrowUp":return void cd(!0,r,o,s.Ks);case"circle":return void function(l,a,u){const h=(Ts("circle",u)-1)/2;l.beginPath(),l.arc(a.nt,a.st,h*a.Jr,0,2*Math.PI,!1),l.fill()}(r,o,s.Ks);case"square":return void function(l,a,u){const h=Ts("square",u),d=(h-1)*a.Jr/2,f=a.nt-d,p=a.st-d;l.fillRect(f,p,h*a.Jr,h*a.Jr)}(r,o,s.Ks)}s.nh}}(n,e,function(s,r,o){const l=Math.max(1,Math.floor(r))%2/2;return{nt:Math.round(s.nt*r)+l,st:s.st*o,Jr:r}}(n,t,i))}function Eb(n,e,t){return!(n.Kt===void 0||!function(i,s,r,o,l,a){const u=o/2;return l>=i&&l<=i+r&&a>=s-u&&a<=s+u}(n.Kt.nt,n.Kt.st,n.Kt.Hi,n.Kt.At,e,t))||function(i,s,r){if(i.Ks===0)return!1;switch(i.nh){case"arrowDown":case"arrowUp":return Cb(0,i.nt,i.st,i.Ks,s,r);case"circle":return function(o,l,a,u,h){const d=2+Ts("circle",a)/2,f=o-u,p=l-h;return Math.sqrt(f*f+p*p)<=d}(i.nt,i.st,i.Ks,s,r);case"square":return mg(i.nt,i.st,i.Ks,s,r)}}(n,e,t)}function Pb(n,e,t,i,s,r,o,l,a){const u=ft(t)?t:t.Se,h=ft(t)?t:t.Me,d=ft(t)?t:t.xe,f=ft(e.size)?Math.max(e.size,0):1,p=pg(l.le())*f,v=p/2;switch(n.Ks=p,e.position){case"inBar":return n.st=o.Rt(u,a),void(n.Kt!==void 0&&(n.Kt.st=n.st+v+r+.6*s));case"aboveBar":return n.st=o.Rt(h,a)-v-i.sh,n.Kt!==void 0&&(n.Kt.st=n.st-v-.6*s,i.sh+=1.2*s),void(i.sh+=p+r);case"belowBar":return n.st=o.Rt(d,a)+v+i.eh,n.Kt!==void 0&&(n.Kt.st=n.st+v+r+.6*s,i.eh+=1.2*s),void(i.eh+=p+r)}e.position}class Tb{constructor(e,t){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new Nb,this.jr=e,this.$i=t,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const t=this.$i.W().layout;return this.Wt._r(t.fontSize,t.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),t=ud(e),i=1.5*pg(e)+2*t,s=this.fh();this.ah={above:hd(i,s.aboveBar,s.inBar),below:hd(i,s.belowBar,s.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,t)=>(e[t.position]||(e[t.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),t=this.$i.St(),i=this.jr.dh();this.rh&&(this.zt.it=i.map(h=>({ot:h.time,nt:0,st:0,Ks:0,nh:h.shape,V:h.color,th:h.th,gr:h.id,Kt:void 0})),this.rh=!1);const s=this.$i.W().layout;this.zt.tt=null;const r=t.Xs();if(r===null)return;const o=this.jr.Ct();if(o===null||this.zt.it.length===0)return;let l=NaN;const a=ud(t.le()),u={sh:a,eh:a};this.zt.tt=cg(this.zt.it,r,!0);for(let h=this.zt.tt.from;h<this.zt.tt.to;h++){const d=i[h];d.time!==l&&(u.sh=a,u.eh=a,l=d.time);const f=this.zt.it[h];f.nt=t.It(d.time),d.text!==void 0&&d.text.length>0&&(f.Kt={ih:d.text,nt:0,st:0,Hi:0,At:0});const p=this.jr.ph(d.time);p!==null&&Pb(f,d,p,u,s.fontSize,a,e,t,o.Vt)}this.ft=!1}}class Lb extends dh{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const t=this.Es.W();if(!t.priceLineVisible||!this.Es.yt())return;const i=this.Es.Zr(t.priceLineSource===0);i.Xr||(e.yt=!0,e.st=i.ki,e.V=this.Es.mh(i.V),e.et=t.priceLineWidth,e.Nt=t.priceLineStyle)}}class Mb extends Vo{constructor(e){super(),this.jt=e}zi(e,t,i){e.yt=!1,t.yt=!1;const s=this.jt;if(!s.yt())return;const r=s.W(),o=r.lastValueVisible,l=s.bh()!=="",a=r.seriesLastValueMode===0,u=s.Zr(!1);if(u.Xr)return;o&&(e.Kt=this.wh(u,o,a),e.yt=e.Kt.length!==0),(l||a)&&(t.Kt=this.gh(u,o,l,a),t.yt=t.Kt.length>0);const h=s.mh(u.V),d=Fo(h);i.t=d.t,i.ki=u.ki,t.Ot=s.$t().Bt(u.ki/s.Dt().At()),e.Ot=h,e.V=d.i,t.V=d.i}gh(e,t,i,s){let r="";const o=this.jt.bh();return i&&o.length!==0&&(r+=`${o} `),t&&s&&(r+=this.jt.Dt().Mh()?e.xh:e.Sh),r.trim()}wh(e,t,i){return t?i?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function dd(n,e,t,i){const s=Number.isFinite(e),r=Number.isFinite(t);return s&&r?n(e,t):s||r?s?e:t:i}class Oe{constructor(e,t){this.kh=e,this.yh=t}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new Oe(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new Oe(dd(Math.min,this.Ph(),e.Ph(),-1/0),dd(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!ft(e)||this.yh-this.kh===0)return;const t=.5*(this.yh+this.kh);let i=this.yh-t,s=this.kh-t;i*=e,s*=e,this.yh=t+i,this.kh=t+s}Oh(e){ft(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new Oe(e.minValue,e.maxValue)}}class ho{constructor(e,t){this.Ih=e,this.zh=t||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new ho(Oe.Ah(e.priceRange),e.margins)}}class $b extends dh{constructor(e,t){super(e),this.Nh=t}yr(){const e=this.Sr;e.yt=!1;const t=this.Nh.W();if(!this.Es.yt()||!t.lineVisible)return;const i=this.Nh.Fh();i!==null&&(e.yt=!0,e.st=i,e.V=t.color,e.et=t.lineWidth,e.Nt=t.lineStyle,e.gr=this.Nh.W().id)}}class Ob extends Vo{constructor(e,t){super(),this.jr=e,this.Nh=t}zi(e,t,i){e.yt=!1,t.yt=!1;const s=this.Nh.W(),r=s.axisLabelVisible,o=s.title!=="",l=this.jr;if(!r||!l.yt())return;const a=this.Nh.Fh();if(a===null)return;o&&(t.Kt=s.title,t.yt=!0),t.Ot=l.$t().Bt(a/l.Dt().At()),e.Kt=this.Wh(s.price),e.yt=!0;const u=Fo(s.axisLabelColor||s.color);i.t=u.t;const h=s.axisLabelTextColor||u.i;e.V=h,t.V=h,i.ki=a}Wh(e){const t=this.jr.Ct();return t===null?"":this.jr.Dt().Fi(e,t.Vt)}}class Rb{constructor(e,t){this.jr=e,this.cn=t,this.jh=new $b(e,this),this.ur=new Ob(e,this),this.Hh=new fg(this.ur,e,e.$t())}$h(e){ot(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,t=e.Dt();if(e.$t().St().Ni()||t.Ni())return null;const i=e.Ct();return i===null?null:t.Rt(this.cn.price,i.Vt)}}class zb extends uh{constructor(e){super(),this.$i=e}$t(){return this.$i}}const Ib={Bar:(n,e,t,i)=>{var s;const r=e.upColor,o=e.downColor,l=N(n(t,i)),a=Zn(l.Vt[0])<=Zn(l.Vt[3]);return{ce:(s=l.V)!==null&&s!==void 0?s:a?r:o}},Candlestick:(n,e,t,i)=>{var s,r,o;const l=e.upColor,a=e.downColor,u=e.borderUpColor,h=e.borderDownColor,d=e.wickUpColor,f=e.wickDownColor,p=N(n(t,i)),v=Zn(p.Vt[0])<=Zn(p.Vt[3]);return{ce:(s=p.V)!==null&&s!==void 0?s:v?l:a,Ne:(r=p.Ot)!==null&&r!==void 0?r:v?u:h,Ee:(o=p.Xh)!==null&&o!==void 0?o:v?d:f}},Custom:(n,e,t,i)=>{var s;return{ce:(s=N(n(t,i)).V)!==null&&s!==void 0?s:e.color}},Area:(n,e,t,i)=>{var s,r,o,l;const a=N(n(t,i));return{ce:(s=a.lt)!==null&&s!==void 0?s:e.lineColor,lt:(r=a.lt)!==null&&r!==void 0?r:e.lineColor,Ps:(o=a.Ps)!==null&&o!==void 0?o:e.topColor,Rs:(l=a.Rs)!==null&&l!==void 0?l:e.bottomColor}},Baseline:(n,e,t,i)=>{var s,r,o,l,a,u;const h=N(n(t,i));return{ce:h.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(s=h.Re)!==null&&s!==void 0?s:e.topLineColor,De:(r=h.De)!==null&&r!==void 0?r:e.bottomLineColor,ke:(o=h.ke)!==null&&o!==void 0?o:e.topFillColor1,ye:(l=h.ye)!==null&&l!==void 0?l:e.topFillColor2,Ce:(a=h.Ce)!==null&&a!==void 0?a:e.bottomFillColor1,Te:(u=h.Te)!==null&&u!==void 0?u:e.bottomFillColor2}},Line:(n,e,t,i)=>{var s,r;const o=N(n(t,i));return{ce:(s=o.V)!==null&&s!==void 0?s:e.color,lt:(r=o.V)!==null&&r!==void 0?r:e.color}},Histogram:(n,e,t,i)=>{var s;return{ce:(s=N(n(t,i)).V)!==null&&s!==void 0?s:e.color}}};class Db{constructor(e){this.Kh=(t,i)=>i!==void 0?i.Vt:this.jr.In().Gh(t),this.jr=e,this.Jh=Ib[e.Qh()]}$s(e,t){return this.Jh(this.Kh,this.jr.W(),e,t)}}var fd;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(fd||(fd={}));const Mt=30;class Ab{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,t=0){const i=this.hl(e,t);return i===null?null:Object.assign(Object.assign({},this.al(i)),{ee:this.rl(i)})}ne(){return this.tl}ol(e,t,i){if(this.Ni())return null;let s=null;for(const r of i)s=fr(s,this._l(e,t,r));return s}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,t){const i=this.ul(e);if(i===null&&t!==0)switch(t){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return i}cl(e){let t=this.fl(e);return t>0&&(t-=1),t!==this.tl.length&&this.rl(t)<e?t:null}dl(e){const t=this.vl(e);return t!==this.tl.length&&e<this.rl(t)?t:null}ul(e){const t=this.fl(e);return t===this.tl.length||e<this.tl[t].ee?null:t}fl(e){return Us(this.tl,e,(t,i)=>t.ee<i)}vl(e){return hg(this.tl,e,(t,i)=>t.ee>i)}pl(e,t,i){let s=null;for(let r=e;r<t;r++){const o=this.tl[r].Vt[i];Number.isNaN(o)||(s===null?s={ml:o,bl:o}:(o<s.ml&&(s.ml=o),o>s.bl&&(s.bl=o)))}return s}_l(e,t,i){if(this.Ni())return null;let s=null;const r=N(this.el()),o=N(this.An()),l=Math.max(e,r),a=Math.min(t,o),u=Math.ceil(l/Mt)*Mt,h=Math.max(u,Math.floor(a/Mt)*Mt);{const f=this.fl(l),p=this.vl(Math.min(a,u,t));s=fr(s,this.pl(f,p,i))}let d=this.il.get(i);d===void 0&&(d=new Map,this.il.set(i,d));for(let f=Math.max(u+1,l);f<h;f+=Mt){const p=Math.floor(f/Mt);let v=d.get(p);if(v===void 0){const g=this.fl(p*Mt),b=this.vl((p+1)*Mt-1);v=this.pl(g,b,i),d.set(p,v)}s=fr(s,v)}{const f=this.fl(h),p=this.vl(a);s=fr(s,this.pl(f,p,i))}return s}}function fr(n,e){return n===null?e:e===null?n:{ml:Math.min(n.ml,e.ml),bl:Math.max(n.bl,e.bl)}}class Fb{constructor(e){this.wl=e}X(e,t,i){this.wl.draw(e)}gl(e,t,i){var s,r;(r=(s=this.wl).drawBackground)===null||r===void 0||r.call(s,e)}}class Ll{constructor(e){this.tr=null,this.wn=e}gt(){var e;const t=this.wn.renderer();if(t===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===t)return this.tr.xl;const i=new Fb(t);return this.tr={Ml:t,xl:i},i}Sl(){var e,t,i;return(i=(t=(e=this.wn).zOrder)===null||t===void 0?void 0:t.call(e))!==null&&i!==void 0?i:"normal"}}function gg(n){var e,t,i,s,r;return{Kt:n.text(),ki:n.coordinate(),Si:(e=n.fixedCoordinate)===null||e===void 0?void 0:e.call(n),V:n.textColor(),t:n.backColor(),yt:(i=(t=n.visible)===null||t===void 0?void 0:t.call(n))===null||i===void 0||i,hi:(r=(s=n.tickVisible)===null||s===void 0?void 0:s.call(n))===null||r===void 0||r}}class Ub{constructor(e,t){this.Wt=new ng,this.kl=e,this.yl=t}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},gg(this.kl))),this.Wt}}class Vb extends Vo{constructor(e,t){super(),this.kl=e,this.Li=t}zi(e,t,i){const s=gg(this.kl);i.t=s.t,e.V=s.V;const r=2/12*this.Li.P();i.wi=r,i.gi=r,i.ki=s.ki,i.Si=s.Si,e.Kt=s.Kt,e.yt=s.yt,e.hi=s.hi}}class Bb{constructor(e,t){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=t}Ol(){return this.Vl}Vn(){var e,t;(t=(e=this.Vl).updateAllViews)===null||t===void 0||t.call(e)}Pn(){var e,t,i,s;const r=(i=(t=(e=this.Vl).paneViews)===null||t===void 0?void 0:t.call(e))!==null&&i!==void 0?i:[];if(((s=this.Cl)===null||s===void 0?void 0:s.Ml)===r)return this.Cl.xl;const o=r.map(l=>new Ll(l));return this.Cl={Ml:r,xl:o},o}Qi(){var e,t,i,s;const r=(i=(t=(e=this.Vl).timeAxisViews)===null||t===void 0?void 0:t.call(e))!==null&&i!==void 0?i:[];if(((s=this.Tl)===null||s===void 0?void 0:s.Ml)===r)return this.Tl.xl;const o=this.jr.$t().St(),l=r.map(a=>new Ub(a,o));return this.Tl={Ml:r,xl:l},l}Rn(){var e,t,i,s;const r=(i=(t=(e=this.Vl).priceAxisViews)===null||t===void 0?void 0:t.call(e))!==null&&i!==void 0?i:[];if(((s=this.Pl)===null||s===void 0?void 0:s.Ml)===r)return this.Pl.xl;const o=this.jr.Dt(),l=r.map(a=>new Vb(a,o));return this.Pl={Ml:r,xl:l},l}Bl(){var e,t,i,s;const r=(i=(t=(e=this.Vl).priceAxisPaneViews)===null||t===void 0?void 0:t.call(e))!==null&&i!==void 0?i:[];if(((s=this.Rl)===null||s===void 0?void 0:s.Ml)===r)return this.Rl.xl;const o=r.map(l=>new Ll(l));return this.Rl={Ml:r,xl:o},o}Al(){var e,t,i,s;const r=(i=(t=(e=this.Vl).timeAxisPaneViews)===null||t===void 0?void 0:t.call(e))!==null&&i!==void 0?i:[];if(((s=this.Dl)===null||s===void 0?void 0:s.Ml)===r)return this.Dl.xl;const o=r.map(l=>new Ll(l));return this.Dl={Ml:r,xl:o},o}Il(e,t){var i,s,r;return(r=(s=(i=this.Vl).autoscaleInfo)===null||s===void 0?void 0:s.call(i,e,t))!==null&&r!==void 0?r:null}wr(e,t){var i,s,r;return(r=(s=(i=this.Vl).hitTest)===null||s===void 0?void 0:s.call(i,e,t))!==null&&r!==void 0?r:null}}function Ml(n,e,t,i){n.forEach(s=>{e(s).forEach(r=>{r.Sl()===t&&i.push(r)})})}function $l(n){return n.Pn()}function Wb(n){return n.Bl()}function Hb(n){return n.Al()}class fh extends zb{constructor(e,t,i,s,r){super(e),this.zt=new Ab,this.jh=new Lb(this),this.zl=[],this.Ll=new bb(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=t,this.$l=i;const o=new Mb(this);this.rn=[o],this.Hh=new fg(o,this,e),i!=="Area"&&i!=="Line"&&i!=="Baseline"||(this.El=new kb(this)),this.Ul(),this.ql(r)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const t={Xr:!0},i=this.Dt();if(this.$t().St().Ni()||i.Ni()||this.zt.Ni())return t;const s=this.$t().St().Xs(),r=this.Ct();if(s===null||r===null)return t;let o,l;if(e){const d=this.zt.sl();if(d===null)return t;o=d,l=d.ee}else{const d=this.zt.ll(s.ui(),-1);if(d===null||(o=this.zt.Gh(d.ee),o===null))return t;l=d.ee}const a=o.Vt[3],u=this.Us().$s(l,{Vt:o}),h=i.Rt(a,r.Vt);return{Xr:!1,_t:a,Kt:i.Fi(a,r.Vt),xh:i.Yl(a),Sh:i.Zl(a,r.Vt),V:u.ce,ki:h,ee:l}}Us(){return this.Nl!==null||(this.Nl=new Db(this)),this.Nl}W(){return this.cn}$h(e){const t=e.priceScaleId;t!==void 0&&t!==this.cn.priceScaleId&&this.$t().Xl(this,t),ot(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,t){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(t&&t.ta?this.El.$r():e.length===0&&this.El.Hr());const i=this.$t().dr(this);this.$t().ia(i),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const t=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(t),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const t=new Rb(this,e);return this.zl.push(t),this.$t().Gl(this),t}ra(e){const t=this.zl.indexOf(e);t!==-1&&this.zl.splice(t,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const t=e.Os();return this.zt.ll(t,1)}In(){return this.zt}ph(e){const t=this.zt.Gh(e);return t===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:t.Vt[0],Me:t.Vt[1],xe:t.Vt[2],Se:t.Vt[3]}:t.Vt[3]}aa(e){const t=[];Ml(this.Hl,$l,"top",t);const i=this.El;return i!==null&&i.yt()&&(this.jl===null&&i.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),i.Ur(),t.unshift(i)),t}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const t=this.zl.map(i=>i.qh());return e.push(...t),Ml(this.Hl,$l,"normal",e),e}ua(){return this.ca($l,"bottom")}da(e){return this.ca(Wb,e)}fa(e){return this.ca(Hb,e)}va(e,t){return this.Hl.map(i=>i.wr(e,t)).filter(i=>i!==null)}Ji(e){return[this.Hh,...this.zl.map(t=>t.Yh())]}Rn(e,t){if(t!==this.Yi&&!this._a())return[];const i=[...this.rn];for(const s of this.zl)i.push(s.Zh());return this.Hl.forEach(s=>{i.push(...s.Rn())}),i}Qi(){const e=[];return this.Hl.forEach(t=>{e.push(...t.Qi())}),e}Il(e,t){if(this.cn.autoscaleInfoProvider!==void 0){const i=this.cn.autoscaleInfoProvider(()=>{const s=this.pa(e,t);return s===null?null:s.Bh()});return ho.Ah(i)}return this.pa(e,t)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const t of this.rn)t.bt();for(const t of this.zl)t.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(t=>t.Vn())}Dt(){return N(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const t=this.zt.Gh(e);return t===null?null:{_t:t.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new Bb(e,this))}ya(e){this.Hl=this.Hl.filter(t=>t.Ol()!==e)}Ca(){if(this.wn instanceof Tl)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof Tl)return e=>this.wn.je(e)}_a(){return!Bo(this.Dt().Pa())}pa(e,t){if(!js(e)||!js(t)||this.zt.Ni())return null;const i=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],s=this.zt.ol(e,t,i);let r=s!==null?new Oe(s.ml,s.bl):null;if(this.Qh()==="Histogram"){const l=this.cn.base,a=new Oe(l,l);r=r!==null?r.ts(a):a}let o=this.dn.uh();return this.Hl.forEach(l=>{const a=l.Il(e,t);if(a!=null&&a.priceRange){const p=new Oe(a.priceRange.minValue,a.priceRange.maxValue);r=r!==null?r.ts(p):p}var u,h,d,f;a!=null&&a.margins&&(u=o,h=a.margins,o={above:Math.max((d=u==null?void 0:u.above)!==null&&d!==void 0?d:0,h.above),below:Math.max((f=u==null?void 0:u.below)!==null&&f!==void 0?f:0,h.below)})}),new ho(r,o)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBackgroundColor;if(t.length!==0)return t}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new Yx(this.cn.priceFormat.precision);break;case"percent":this.wa=new ig(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new Wo(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const t=N(this.zt.el());this.Wl=this.Fl.map((i,s)=>{const r=N(e.Va(i.time,!0)),o=r<t?1:-1;return{time:N(this.zt.ll(r,o)).ee,position:i.position,shape:i.shape,color:i.color,id:i.id,th:s,text:i.text,size:i.size,originalTime:i.originalTime}})}ql(e){switch(this.dn=new Tb(this,this.$t()),this.$l){case"Bar":this.wn=new lb(this,this.$t());break;case"Candlestick":this.wn=new db(this,this.$t());break;case"Line":this.wn=new vb(this,this.$t());break;case"Custom":this.wn=new Tl(this,this.$t(),ke(e));break;case"Area":this.wn=new rb(this,this.$t());break;case"Baseline":this.wn=new hb(this,this.$t());break;case"Histogram":this.wn=new gb(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,t){const i=[];return Ml(this.Hl,e,t,i),i}}class Kb{constructor(e){this.cn=e}Oa(e,t,i){let s=e;if(this.cn.mode===0)return s;const r=i.vn(),o=r.Ct();if(o===null)return s;const l=r.Rt(e,o),a=i.Ba().filter(h=>h instanceof fh).reduce((h,d)=>{if(i.vr(d)||!d.yt())return h;const f=d.Dt(),p=d.In();if(f.Ni()||!p.Kr(t))return h;const v=p.Gh(t);if(v===null)return h;const g=Zn(d.Ct());return h.concat([f.Rt(v.Vt[3],g.Vt)])},[]);if(a.length===0)return s;a.sort((h,d)=>Math.abs(h-l)-Math.abs(d-l));const u=a[0];return s=r.pn(u,o),s}}class qb extends lt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:t,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null)return;const r=Math.max(1,Math.floor(i));e.lineWidth=r,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(e,()=>{const o=N(this.zt);if(o.Aa){e.strokeStyle=o.Ia,jn(e,o.za),e.beginPath();for(const l of o.La){const a=Math.round(l.Ea*i);e.moveTo(a,-r),e.lineTo(a,t.height+r)}e.stroke()}if(o.Na){e.strokeStyle=o.Fa,jn(e,o.Wa),e.beginPath();for(const l of o.ja){const a=Math.round(l.Ea*s);e.moveTo(-r,a),e.lineTo(t.width+r,a)}e.stroke()}})}}class Jb{constructor(e){this.Wt=new qb,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,t={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(i=>({Ea:i.coord}))};this.Wt.J(t),this.ft=!1}return this.Wt}}class Gb{constructor(e){this.wn=new Jb(e)}qh(){return this.wn}}const Ol={$a:4,Ua:1e-4};function ei(n,e){const t=100*(n-e)/e;return e<0?-t:t}function Qb(n,e){const t=ei(n.Ph(),e),i=ei(n.Rh(),e);return new Oe(t,i)}function ss(n,e){const t=100*(n-e)/e+100;return e<0?-t:t}function Xb(n,e){const t=ss(n.Ph(),e),i=ss(n.Rh(),e);return new Oe(t,i)}function co(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const i=Math.log10(t+e.Ua)+e.$a;return n<0?-i:i}function rs(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const i=Math.pow(10,t-e.$a)-e.Ua;return n<0?-i:i}function Ri(n,e){if(n===null)return null;const t=co(n.Ph(),e),i=co(n.Rh(),e);return new Oe(t,i)}function pr(n,e){if(n===null)return null;const t=rs(n.Ph(),e),i=rs(n.Rh(),e);return new Oe(t,i)}function Rl(n){if(n===null)return Ol;const e=Math.abs(n.Rh()-n.Ph());if(e>=1||e<1e-15)return Ol;const t=Math.ceil(Math.abs(Math.log10(e))),i=Ol.$a+t;return{$a:i,Ua:1/Math.pow(10,i)}}class zl{constructor(e,t){if(this.qa=e,this.Ya=t,function(i){if(i<0)return!1;for(let s=i;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let i=this.qa;i!==1;){if(i%2==0)this.Za.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),i/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,t,i){const s=this.qa===0?0:1/this.qa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-t)))),o=0,l=this.Ya[0];for(;;){const d=dr(r,s,1e-14)&&r>s+1e-14,f=dr(r,i*l,1e-14),p=dr(r,1,1e-14);if(!(d&&f&&p))break;r/=l,l=this.Ya[++o%this.Ya.length]}if(r<=s+1e-14&&(r=s),r=Math.max(1,r),this.Za.length>0&&(a=r,u=1,h=1e-14,Math.abs(a-u)<h))for(o=0,l=this.Za[0];dr(r,i*l,1e-14)&&r>s+1e-14;)r/=l,l=this.Za[++o%this.Za.length];var a,u,h;return r}}class pd{constructor(e,t,i,s){this.Ka=[],this.Li=e,this.qa=t,this.Ga=i,this.Ja=s}Xa(e,t){if(e<t)throw new Error("high < low");const i=this.Li.At(),s=(e-t)*this.Qa()/i,r=new zl(this.qa,[2,2.5,2]),o=new zl(this.qa,[2,2,2.5]),l=new zl(this.qa,[2.5,2,2]),a=[];return a.push(r.Xa(e,t,s),o.Xa(e,t,s),l.Xa(e,t,s)),function(u){if(u.length<1)throw Error("array is empty");let h=u[0];for(let d=1;d<u.length;++d)u[d]<h&&(h=u[d]);return h}(a)}io(){const e=this.Li,t=e.Ct();if(t===null)return void(this.Ka=[]);const i=e.At(),s=this.Ga(i-1,t),r=this.Ga(0,t),o=this.Li.W().entireTextOnly?this.no()/2:0,l=o,a=i-1-o,u=Math.max(s,r),h=Math.min(s,r);if(u===h)return void(this.Ka=[]);let d=this.Xa(u,h),f=u%d;f+=f<0?d:0;const p=u>=h?1:-1;let v=null,g=0;for(let b=u-f;b>h;b-=d){const y=this.Ja(b,t,!0);v!==null&&Math.abs(y-v)<this.Qa()||y<l||y>a||(g<this.Ka.length?(this.Ka[g].Ea=y,this.Ka[g].so=e.eo(b)):this.Ka.push({Ea:y,so:e.eo(b)}),g++,v=y,e.ro()&&(d=this.Xa(b*p,h)))}this.Ka.length=g}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function vg(n){return n.slice().sort((e,t)=>N(e.Xi())-N(t.Xi()))}var md;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(md||(md={}));const gd=new ig,vd=new Wo(100,1);class Yb{constructor(e,t,i,s){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new se,this.vo=new se,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=vd,this.xo=Rl(null),this.So=e,this.cn=t,this.ko=i,this.yo=s,this.Co=new pd(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(ot(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const t=ke(e.scaleMargins.top),i=ke(e.scaleMargins.bottom);if(t<0||t>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(t+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${t+i}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const t=this.Cr();let i=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),t.Cr===1&&e.Cr!==t.Cr&&(function(r,o){if(r===null)return!1;const l=rs(r.Ph(),o),a=rs(r.Rh(),o);return isFinite(l)&&isFinite(a)}(this.Ih,this.xo)?(i=pr(this.Ih,this.xo),i!==null&&this.Ao(i)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==t.Cr&&(i=Ri(this.Ih,this.xo),i!==null&&this.Ao(i));const s=t.Cr!==this.cn.mode;s&&(t.Cr===2||this.Mh())&&this.Ra(),s&&(t.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&t.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(t,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,t){const i=this.Ih;(t||i===null&&e!==null||i!==null&&!i.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,t){return this.Mh()?e=ei(e,t):this.Oo()&&(e=ss(e,t)),this.Po(e,t)}te(e,t,i){this.Wo();const s=this.Fo(),r=N(this.Lh()),o=r.Ph(),l=r.Rh(),a=this.Eo()-1,u=this.Bo(),h=a/(l-o),d=i===void 0?0:i.from,f=i===void 0?e.length:i.to,p=this.Ho();for(let v=d;v<f;v++){const g=e[v],b=g._t;if(isNaN(b))continue;let y=b;p!==null&&(y=p(g._t,t));const m=s+h*(y-o),w=u?m:this.ho-1-m;g.st=w}}be(e,t,i){this.Wo();const s=this.Fo(),r=N(this.Lh()),o=r.Ph(),l=r.Rh(),a=this.Eo()-1,u=this.Bo(),h=a/(l-o),d=i===void 0?0:i.from,f=i===void 0?e.length:i.to,p=this.Ho();for(let v=d;v<f;v++){const g=e[v];let b=g.ge,y=g.Me,m=g.xe,w=g.Se;p!==null&&(b=p(g.ge,t),y=p(g.Me,t),m=p(g.xe,t),w=p(g.Se,t));let x=s+h*(b-o),_=u?x:this.ho-1-x;g.pe=_,x=s+h*(y-o),_=u?x:this.ho-1-x,g.de=_,x=s+h*(m-o),_=u?x:this.ho-1-x,g.fe=_,x=s+h*(w-o),_=u?x:this.ho-1-x,g.me=_}}pn(e,t){const i=this.To(e,t);return this.$o(i,t)}$o(e,t){let i=e;return this.Mh()?i=function(s,r){return r<0&&(s=-s),s/100*r+r}(i,t):this.Oo()&&(i=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(i,t)),i}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let t=0;t<this.po.length;t++){const i=this.po[t];i.Xi()===null&&i.Ki(t+1),e.push(i)}return e=vg(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const t=this.po.indexOf(e);if(t===-1)throw new Error("source is not attached to scale");this.po.splice(t,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const t of this.po){const i=t.Ct();i!==null&&(e===null||i.la<e.la)&&(e=i)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const t=this.Co.Ha();return this.bo={Ha:t,Xo:e},this.fo.m(),t}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=N(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let t=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const i=N(this.ao).Th();t=Math.max(t,.1),i.Vh(t),this.Ao(i)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=N(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const t=N(this.Lh()).Dh()/(this.Eo()-1);let i=e-this.Mo;this.Bo()&&(i*=-1);const s=i*t,r=N(this.ao).Th();r.Oh(s),this.Ao(r,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,t){switch(this.cn.mode){case 2:return this.s_(ei(e,t));case 3:return this.ba().format(ss(e,t));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,N(this.e_()).ba())}Zl(e,t){return e=ei(e,t),this.s_(e,gd)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let t=100;e!==null&&(t=Math.round(1/e.ma())),this.wa=vd,this.Mh()?(this.wa=gd,t=100):this.Oo()?(this.wa=new Wo(100,1),t=100):e!==null&&(this.wa=e.ba()),this.Co=new pd(this,t,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,t){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?co(e,this.xo):e;const i=N(this.Lh()),s=this.Fo()+(this.Eo()-1)*(e-i.Ph())/i.Dh();return this.jo(s)}To(e,t){if(this.Wo(),this.Ni())return 0;const i=this.jo(e),s=N(this.Lh()),r=s.Ph()+s.Dh()*((i-this.Fo())/(this.Eo()-1));return this.ro()?rs(r,this.xo):r}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let t=null;const i=this.r_();let s=0,r=0;for(const a of i){if(!a.yt())continue;const u=a.Ct();if(u===null)continue;const h=a.Il(e.Os(),e.ui());let d=h&&h.Lh();if(d!==null){switch(this.cn.mode){case 1:d=Ri(d,this.xo);break;case 2:d=Qb(d,u.Vt);break;case 3:d=Xb(d,u.Vt)}if(t=t===null?d:t.ts(N(d)),h!==null){const f=h.Eh();f!==null&&(s=Math.max(s,f.above),r=Math.max(r,f.below))}}}if(s===this.co&&r===this.do||(this.co=s,this.do=r,this.bo=null,this.Do()),t!==null){if(t.Ph()===t.Rh()){const a=this.e_(),u=5*(a===null||this.Mh()||this.Oo()?1:a.ma());this.ro()&&(t=pr(t,this.xo)),t=new Oe(t.Ph()-u,t.Rh()+u),this.ro()&&(t=Ri(t,this.xo))}if(this.ro()){const a=pr(t,this.xo),u=Rl(a);if(o=u,l=this.xo,o.$a!==l.$a||o.Ua!==l.Ua){const h=this.ao!==null?pr(this.ao,this.xo):null;this.xo=u,t=Ri(a,u),h!==null&&(this.ao=Ri(h,u))}}this.Ao(t)}else this.Ih===null&&(this.Ao(new Oe(-.5,.5)),this.xo=Rl(null));var o,l;this.oo._o=!0}Ho(){return this.Mh()?ei:this.Oo()?ss:this.ro()?e=>co(e,this.xo):null}a_(e,t,i){return t===void 0?(i===void 0&&(i=this.ba()),i.format(e)):t(e)}Wh(e,t){return this.a_(e,this.yo.priceFormatter,t)}s_(e,t){return this.a_(e,this.yo.percentageFormatter,t)}}class Zb{constructor(e,t){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new se,this.yl=e,this.$i=t,this.d_=new Gb(this);const i=t.W();this.f_=this.v_("left",i.leftPriceScale),this.p_=this.v_("right",i.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(i)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const t=Array.from(this.o_.values());for(const i of t){const s=N(i[0].Dt());s.$h(e.overlayPriceScales),e.localization&&s.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?ke(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(t=>{if(this.vr(t)){const i=t.Dt();i!==null&&i.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const t=e.Dt();return t===null||this.f_!==t&&this.p_!==t}qo(e,t,i){const s=i!==void 0?i:this.C_().y_+1;this.T_(e,t,s)}Zo(e){const t=this.po.indexOf(e);en(t!==-1,"removeDataSource: invalid data source"),this.po.splice(t,1);const i=N(e.Dt()).Pa();if(this.o_.has(i)){const r=ke(this.o_.get(i)),o=r.indexOf(e);o!==-1&&(r.splice(o,1),r.length===0&&this.o_.delete(i))}const s=e.Dt();s&&s.Ba().indexOf(e)>=0&&s.Zo(e),s!==null&&(s.Yo(),this.P_(s)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,t){e.Go(t)}O_(e,t){e.Jo(t),this.k_()}B_(e){e.Qo()}A_(e,t){e.t_(t)}I_(e,t){e.i_(t),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const t=this.yl.Xs();e.Ro({Wn:!0}),t!==null&&e.h_(t),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=vg(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const t=e.r_();if(t&&t.length>0&&!this.yl.Ni()){const i=this.yl.Xs();i!==null&&e.h_(i)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let t=0,i=0;for(let s=0;s<e.length;s++){const r=e[s].Xi();r!==null&&(r<t&&(t=r),r>i&&(i=r))}return{H_:t,y_:i}}T_(e,t,i){let s=this.w_(t);if(s===null&&(s=this.v_(t,this.$i.W().overlayPriceScales)),this.po.push(e),!Bo(t)){const r=this.o_.get(t)||[];r.push(e),this.o_.set(t,r)}s.qo(e),e.Gi(s),e.Ki(i),this.P_(s),this.mo=null}m_(e,t,i){t.Cr!==i.Cr&&this.L_(e)}v_(e,t){const i=Object.assign({visible:!0,autoScale:!0},_t(t)),s=new Yb(e,i,this.$i.W().layout,this.$i.W().localization);return s.Lo(this.At()),s}}class e_{constructor(e,t,i=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=t,this.ir=i}Y_(e){const t=e.time,i=this.q_.cacheKey(t),s=this.tr.get(i);if(s!==void 0)return s.Z_;if(this.Ke===this.ir){const o=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(ke(o)),this.Je++,this.Ke--}const r=this.U_(e);return this.tr.set(i,{Z_:r,rr:this.Ge}),this.Qe.set(this.Ge,i),this.Ke++,this.Ge++,r}}class os{constructor(e,t){en(e<=t,"right should be >= left"),this.X_=e,this.K_=t}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function yd(n,e){return n===null||e===null?n===e:n.Ch(e)}class t_{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,t){this.nu(t),this.tr=null;for(let i=t;i<e.length;++i){const s=e[i];let r=this.J_.get(s.timeWeight);r===void 0&&(r=[],this.J_.set(s.timeWeight,r)),r.push({index:i,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}su(e,t){const i=Math.ceil(t/e);return this.tr!==null&&this.tr.eu===i||(this.tr={Ha:this.ru(i),eu:i}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const t=[];this.J_.forEach((i,s)=>{e<=i[0].index?t.push(s):i.splice(Us(i,e,r=>r.index<e),1/0)});for(const i of t)this.J_.delete(i)}ru(e){let t=[];for(const i of Array.from(this.J_.keys()).sort((s,r)=>r-s)){if(!this.J_.get(i))continue;const s=t;t=[];const r=s.length;let o=0;const l=ke(this.J_.get(i)),a=l.length;let u=1/0,h=-1/0;for(let d=0;d<a;d++){const f=l[d],p=f.index;for(;o<r;){const v=s[o],g=v.index;if(!(g<p)){u=g;break}o++,t.push(v),h=g,u=1/0}if(u-p>=e&&p-h>=e)t.push(f),h=p;else if(this.Q_)return s}for(;o<r;o++)t.push(s[o])}return t}}class ai{constructor(e){this.hu=e}lu(){return this.hu===null?null:new os(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new ai(null)}}function n_(n,e){return n.weight>e.weight?n:e}class i_{constructor(e,t,i,s){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new t_,this.du=new Map,this.fu=ai.ou(),this.vu=!0,this.pu=new se,this.mu=new se,this.bu=new se,this.wu=null,this.gu=null,this.Mu=[],this.cn=t,this.yo=i,this.xu=t.rightOffset,this.Su=t.barSpacing,this.$i=e,this.q_=s,this.ku(),this.cu.tu(t.uniformDistribution)}W(){return this.cn}yu(e){ot(this.yo,e),this.Cu(),this.ku()}$h(e,t){var i;ot(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((i=e.barSpacing)!==null&&i!==void 0?i:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var t,i;return(i=(t=this.uu[e])===null||t===void 0?void 0:t.time)!==null&&i!==void 0?i:null}Ui(e){var t;return(t=this.uu[e])!==null&&t!==void 0?t:null}Va(e,t){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return t?this.uu.length-1:null;const i=Us(this.uu,this.q_.key(e),(s,r)=>this.q_.key(s.time)<r);return this.q_.key(e)<this.q_.key(this.uu[i].time)?t?i:null:i}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const t={from:e.Os(),to:e.ui()};return this.Ou(t)}Ou(e){const t=Math.round(e.from),i=Math.round(e.to),s=N(this.Bu()),r=N(this.Au());return{from:N(this.Ui(Math.max(s,t))),to:N(this.Ui(Math.min(r,i)))}}Iu(e){return{from:N(this.Va(e.from,!0)),to:N(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const t=this.Du(),i=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&i!==0){const s=this.Su*e/i;this.Su=s}if(this.cn.fixLeftEdge&&t!==null&&t.Os()<=0){const s=i-e;this.xu-=Math.round(s/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!js(e))return 0;const t=this.Eu()+this.xu-e;return this.__-(t+.5)*this.Su-1}Qs(e,t){const i=this.Eu(),s=t===void 0?0:t.from,r=t===void 0?e.length:t.to;for(let o=s;o<r;o++){const l=e[o].ot,a=i+this.xu-l,u=this.__-(a+.5)*this.Su-1;e[o].nt=u}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,t=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),i=Math.round(t/e),s=N(this.Xs()),r=Math.max(s.Os(),s.Os()-i),o=Math.max(s.ui(),s.ui()-i),l=this.cu.su(e,t),a=this.Bu()+i,u=this.Au()-i,h=this.$u(),d=this.cn.fixLeftEdge||h,f=this.cn.fixRightEdge||h;let p=0;for(const v of l){if(!(r<=v.index&&v.index<=o))continue;let g;p<this.Mu.length?(g=this.Mu[p],g.coord=this.It(v.index),g.label=this.Uu(v),g.weight=v.weight):(g={needAlignCoordinate:!1,coord:this.It(v.index),label:this.Uu(v),weight:v.weight},this.Mu.push(g)),this.Su>t/2&&!h?g.needAlignCoordinate=!1:g.needAlignCoordinate=d&&v.index<=a||f&&v.index>=u,p++}return this.Mu.length=p,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,t){const i=this.Fu(e),s=this.le(),r=s+t*(s/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(i-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const t=eu(this.__-e,0,this.__),i=eu(this.__-N(this.wo),0,this.__);t!==0&&i!==0&&this.Gn(this.wu.le*t/i)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const t=(this.Mo-e)/this.le();this.xu=N(this.wu).Hu+t,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,t=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(t)||t<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.xu,s=performance.now();this.$i.Zn({Qu:r=>(r-s)/t>=1,tc:r=>{const o=(r-s)/t;return o>=1?e:i+(e-i)*o}})}bt(e,t){this.vu=!0,this.uu=e,this.cu.iu(e,t),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const t=e.G_();this.ju(this.__/t),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),t=this.Au();e!==null&&t!==null&&this.rc(new os(e,t+this.cn.rightOffset))}lc(e){const t=new os(e.from,e.to);this.rc(t)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:t}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const t=this.ac(e),i=this.Eu()+this.xu-t;return Math.round(1e6*i)/1e6}ju(e){const t=this.Su;this.Su=e,this.zu(),t!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(ai.ou());const e=this.Eu(),t=this.__/this.Su,i=this.xu+e,s=new os(i-t+1,i);this._c(new ai(s))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const t=.5*this.__;this.Su>t&&(this.Su=t,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const t=this.dc();this.xu>t&&(this.xu=t,this.vu=!0)}cc(){const e=this.Bu(),t=this._u;return e===null||t===null?null:e-t-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let t=this.du.get(e.weight);return t===void 0&&(t=new e_(i=>this.fc(i),this.q_),this.du.set(e.weight,t)),t.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const t=this.fu;this.fu=e,yd(t.lu(),this.fu.lu())||this.pu.m(),yd(t.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const t=this.Xs();if(t===null)return;const i=t.Os()-e;if(i<0){const s=this.xu-i-1;this.Jn(s)}this.zu()}Pu(){this.Lu(),this.zu()}}class s_{X(e,t,i){e.useMediaCoordinateSpace(s=>this.K(s,t,i))}gl(e,t,i){e.useMediaCoordinateSpace(s=>this.vc(s,t,i))}vc(e,t,i){}}class r_ extends s_{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:t,mediaSize:i}=e;let s=0;for(const o of this.zt.bc){if(o.Kt.length===0)continue;t.font=o.R;const l=this.wc(t,o.Kt);l>i.width?o.Zu=i.width/l:o.Zu=1,s+=o.gc*o.Zu}let r=0;switch(this.zt.Mc){case"top":r=0;break;case"center":r=Math.max((i.height-s)/2,0);break;case"bottom":r=Math.max(i.height-s,0)}t.fillStyle=this.zt.V;for(const o of this.zt.bc){t.save();let l=0;switch(this.zt.xc){case"left":t.textAlign="left",l=o.gc/2;break;case"center":t.textAlign="center",l=i.width/2;break;case"right":t.textAlign="right",l=i.width-1-o.gc/2}t.translate(l,r),t.textBaseline="top",t.font=o.R,t.scale(o.Zu,o.Zu),t.fillText(o.Kt,0,o.Sc),t.restore(),r+=o.gc*o.Zu}}wc(e,t){const i=this.kc(e.font);let s=i.get(t);return s===void 0&&(s=e.measureText(t).width,i.set(t,s)),s}kc(e){let t=this.mc.get(e);return t===void 0&&(t=new Map,this.mc.set(e,t)),t}}class o_{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new r_(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),t=this.Ft;t.yt=e.visible,t.yt&&(t.V=e.color,t.xc=e.horzAlign,t.Mc=e.vertAlign,t.bc=[{Kt:e.text,R:wi(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class l_ extends uh{constructor(e,t){super(),this.cn=t,this.wn=new o_(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var wd,xd,bd,tu,_d;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(wd||(wd={}));class a_{constructor(e,t,i){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new se,this.Rc=new se,this.Dc=null,this.Vc=e,this.cn=t,this.q_=i,this.Oc=new Fx(this),this.yl=new i_(this,t.timeScale,this.cn.localization,i),this.vt=new Xx(this,t.crosshair),this.Bc=new Kb(t.crosshair),this.Ac=new l_(this,t.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(fe.es())}Uh(){this.Nc(fe.ss())}oa(){this.Nc(new fe(1))}Gl(e){const t=this.Fc(e);this.Nc(t)}Wc(){return this.Tc}jc(e){const t=this.Tc;this.Tc=e,t!==null&&this.Gl(t.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){ot(this.cn,e),this.yc.forEach(t=>t.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,t){if(e==="left")return void this.$h({leftPriceScale:t});if(e==="right")return void this.$h({rightPriceScale:t});const i=this.Uc(e);i!==null&&(i.Dt.$h(t),this.Pc.m())}Uc(e){for(const t of this.yc){const i=t.w_(e);if(i!==null)return{Ht:t,Dt:i}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,t){e.Lo(t),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(t=>t.S_(e)),this.Wu()}Ic(e){const t=new Zb(this.yl,this);e!==void 0?this.yc.splice(e,0,t):this.yc.push(t);const i=e===void 0?this.yc.length-1:e,s=fe.es();return s.Nn(i,{Fn:0,Wn:!0}),this.Nc(s),t}V_(e,t,i){e.V_(t,i)}O_(e,t,i){e.O_(t,i),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,t){e.B_(t),this.Nc(this.Gc(e,2))}A_(e,t,i){t.Vo()||e.A_(t,i)}I_(e,t,i){t.Vo()||(e.I_(t,i),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,t){t.Vo()||(e.z_(t),this.Nc(this.Gc(e,2)))}E_(e,t){e.E_(t),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,t){const i=this.St();if(i.Ni()||t===0)return;const s=i.Hi();e=Math.max(1,Math.min(e,s)),i.Zu(e,t),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,t,i,s,r){this.vt.gn(e,t);let o=NaN,l=this.yl.Nu(e);const a=this.yl.Xs();a!==null&&(l=Math.min(Math.max(a.Os(),l),a.ui()));const u=s.vn(),h=u.Ct();h!==null&&(o=u.pn(t,h)),o=this.Bc.Oa(o,l,s),this.vt.kn(l,o,s),this.oa(),r||this.Rc.m(this.vt.xt(),{x:e,y:t},i)}ad(e,t,i){const s=i.vn(),r=s.Ct(),o=s.Rt(e,N(r)),l=this.yl.Va(t,!0),a=this.yl.It(N(l));this.ld(a,o,null,i,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const t=this.vt.xn(),i=this.vt.Sn();this.ld(t,i,null,e)}this.vt.Vn()}_d(e,t,i){const s=this.yl.mn(0);t!==void 0&&i!==void 0&&this.yl.bt(t,i);const r=this.yl.mn(0),o=this.yl.Eu(),l=this.yl.Xs();if(l!==null&&s!==null&&r!==null){const a=l.Kr(o),u=this.q_.key(s)>this.q_.key(r),h=e!==null&&e>o&&!u,d=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=a&&(i!==void 0||d)&&this.yl.W().shiftVisibleRangeOnNewBar;if(h&&!f){const p=e-o;this.yl.Jn(this.yl.Hu()-p)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const t=this.yc.find(i=>i.Uo().includes(e));return t===void 0?null:t}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,t,i){const s=this.yc[0],r=this.fd(t,e,s,i);return this.Cc.push(r),this.Cc.length===1?this.Kl():this.Uh(),r}vd(e){const t=this.dr(e),i=this.Cc.indexOf(e);en(i!==-1,"Series not found"),this.Cc.splice(i,1),N(t).Zo(e),e.S&&e.S()}Xl(e,t){const i=N(this.dr(e));i.Zo(e);const s=this.Uc(t);if(s===null){const r=e.Xi();i.qo(e,t,r)}else{const r=s.Ht===i?e.Xi():void 0;s.Ht.qo(e,t,r)}}hc(){const e=fe.ss();e.$n(),this.Nc(e)}pd(e){const t=fe.ss();t.Yn(e),this.Nc(t)}Kn(){const e=fe.ss();e.Kn(),this.Nc(e)}Gn(e){const t=fe.ss();t.Gn(e),this.Nc(t)}Jn(e){const t=fe.ss();t.Jn(e),this.Nc(t)}Zn(e){const t=fe.ss();t.Zn(e),this.Nc(t)}Un(){const e=fe.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const t=this.Ec,i=this.zc;if(t===i)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==i||this.Dc.Rs!==t)this.Dc={Ps:i,Rs:t,wd:new Map};else{const r=this.Dc.wd.get(e);if(r!==void 0)return r}const s=function(r,o,l){const[a,u,h,d]=Ns(r),[f,p,v,g]=Ns(o),b=[Be(a+l*(f-a)),Be(u+l*(p-u)),Be(h+l*(v-h)),Zm(d+l*(g-d))];return`rgba(${b[0]}, ${b[1]}, ${b[2]}, ${b[3]})`}(i,t,e/100);return this.Dc.wd.set(e,s),s}Gc(e,t){const i=new fe(t);if(e!==null){const s=this.yc.indexOf(e);i.Nn(s,{Fn:t})}return i}Fc(e,t){return t===void 0&&(t=2),this.Gc(this.dr(e),t)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(t=>t.j_().qh().bt())}fd(e,t,i,s){const r=new fh(this,e,t,i,s),o=e.priceScaleId!==void 0?e.priceScaleId:this.md();return i.qo(r,o),Bo(o)||r.$h(e),r}Lc(e){const t=this.cn.layout;return t.background.type==="gradient"?e===0?t.background.topColor:t.background.bottomColor:t.background.color}}function nu(n){return!ft(n)&&!Fs(n)}function yg(n){return ft(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(xd||(xd={})),function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"}(bd||(bd={})),function(n){n.Solid="solid",n.VerticalGradient="gradient"}(tu||(tu={})),function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"}(_d||(_d={}));const Sd=n=>n.getUTCFullYear();function u_(n,e,t){return e.replace(/yyyy/g,(i=>St(Sd(i),4))(n)).replace(/yy/g,(i=>St(Sd(i)%100,2))(n)).replace(/MMMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(n,t)).replace(/MMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(n,t)).replace(/MM/g,(i=>St((s=>s.getUTCMonth()+1)(i),2))(n)).replace(/dd/g,(i=>St((s=>s.getUTCDate())(i),2))(n))}class wg{constructor(e="yyyy-MM-dd",t="default"){this.gd=e,this.Md=t}Y_(e){return u_(e,this.gd,this.Md)}}class h_{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",St(e.getUTCHours(),2)).replace("%m",St(e.getUTCMinutes(),2)).replace("%s",St(e.getUTCSeconds(),2))}}const c_={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class d_{constructor(e={}){const t=Object.assign(Object.assign({},c_),e);this.Td=new wg(t.Sd,t.Cd),this.Pd=new h_(t.kd),this.Rd=t.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function mr(n){return 60*n*60*1e3}function Il(n){return 60*n*1e3}const gr=[{Dd:(kd=1,1e3*kd),Vd:10},{Dd:Il(1),Vd:20},{Dd:Il(5),Vd:21},{Dd:Il(30),Vd:22},{Dd:mr(1),Vd:30},{Dd:mr(3),Vd:31},{Dd:mr(6),Vd:32},{Dd:mr(12),Vd:33}];var kd;function Cd(n,e){if(n.getUTCFullYear()!==e.getUTCFullYear())return 70;if(n.getUTCMonth()!==e.getUTCMonth())return 60;if(n.getUTCDate()!==e.getUTCDate())return 50;for(let t=gr.length-1;t>=0;--t)if(Math.floor(e.getTime()/gr[t].Dd)!==Math.floor(n.getTime()/gr[t].Dd))return gr[t].Vd;return 0}function Dl(n){let e=n;if(Fs(n)&&(e=ph(n)),!nu(e))throw new Error("time must be of type BusinessDay");const t=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(t.getTime()/1e3),Bd:e}}function Nd(n){if(!yg(n))throw new Error("time must be of type isUTCTimestamp");return{Od:n}}function ph(n){const e=new Date(n);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function jd(n){Fs(n.time)&&(n.time=ph(n.time))}class Ed{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(t){t.forEach(jd)}(e):jd(e)}createConverterToInternalObj(e){return N(function(t){return t.length===0?null:nu(t[0].time)||Fs(t[0].time)?Dl:Nd}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const t=e;return t.Bd===void 0?new Date(1e3*t.Od).getTime():new Date(Date.UTC(t.Bd.year,t.Bd.month-1,t.Bd.day)).getTime()}convertHorzItemToInternal(e){return yg(t=e)?Nd(t):nu(t)?Dl(t):Dl(ph(t));var t}updateFormatter(e){if(!this.cn)return;const t=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new d_({Sd:t,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new wg(t,e.locale)}formatHorzItem(e){const t=e;return this.Ad.Y_(new Date(1e3*t.Od))}formatTickmark(e,t){const i=function(r,o,l){switch(r){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),s=this.cn.timeScale;if(s.tickMarkFormatter!==void 0){const r=s.tickMarkFormatter(e.originalTime,i,t.locale);if(r!==null)return r}return function(r,o,l){const a={};switch(o){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const u=r.Bd===void 0?new Date(1e3*r.Od):new Date(Date.UTC(r.Bd.year,r.Bd.month-1,r.Bd.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(l,a)}(e.time,i,t.locale)}maxTickMarkWeight(e){let t=e.reduce(n_,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){(function(i,s=0){if(i.length===0)return;let r=s===0?null:i[s-1].time.Od,o=r!==null?new Date(1e3*r):null,l=0;for(let a=s;a<i.length;++a){const u=i[a],h=new Date(1e3*u.time.Od);o!==null&&(u.timeWeight=Cd(h,o)),l+=u.time.Od-(r||u.time.Od),r=u.time.Od,o=h}if(s===0&&i.length>1){const a=Math.ceil(l/(i.length-1)),u=new Date(1e3*(i[0].time.Od-a));i[0].timeWeight=Cd(new Date(1e3*i[0].time.Od),u)}})(e,t)}static Id(e){return ot({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const xi=typeof window<"u";function Pd(){return!!xi&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Al(){return!!xi&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function iu(n){return n+n%2}function Fl(n,e){return n.zd-e.zd}function Ul(n,e,t){const i=(n.zd-e.zd)/(n.ot-e.ot);return Math.sign(i)*Math.min(Math.abs(i),t)}class f_{constructor(e,t,i,s){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=t,this.qd=i,this.rs=s}Yd(e,t){if(this.Ld!==null){if(this.Ld.ot===t)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:t,zd:e}}Vr(e,t){if(this.Ld===null||this.Ed===null||t-this.Ld.ot>50)return;let i=0;const s=Ul(this.Ld,this.Ed,this.Ud),r=Fl(this.Ld,this.Ed),o=[s],l=[r];if(i+=r,this.Nd!==null){const u=Ul(this.Ed,this.Nd,this.Ud);if(Math.sign(u)===Math.sign(s)){const h=Fl(this.Ed,this.Nd);if(o.push(u),l.push(h),i+=h,this.Fd!==null){const d=Ul(this.Nd,this.Fd,this.Ud);if(Math.sign(d)===Math.sign(s)){const f=Fl(this.Nd,this.Fd);o.push(d),l.push(f),i+=f}}}}let a=0;for(let u=0;u<o.length;++u)a+=l[u]/i*o[u];Math.abs(a)<this.$d||(this.Wd={zd:e,ot:t},this.Hd=a,this.jd=function(u,h){const d=Math.log(h);return Math.log(1*d/-u)/d}(Math.abs(a),this.qd))}tc(e){const t=N(this.Wd),i=e-t.ot;return t.zd+this.Hd*(Math.pow(this.qd,i)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const t=e-N(this.Wd).ot;return Math.min(t,this.jd)}}class p_{constructor(e,t){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=t,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return eg(Ns(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function En(n,e){const t=N(n.ownerDocument).createElement("canvas");n.appendChild(t);const i=Cx(t,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(s,r)=>({width:Math.max(s.width,r.width),height:Math.max(s.height,r.height)})});return i.resizeCanvasElement(e),i}function Pn(n){var e;n.width=1,n.height=1,(e=n.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function su(n,e,t,i){n.gl&&n.gl(e,t,i)}function Ir(n,e,t,i){n.X(e,t,i)}function ru(n,e,t,i){const s=n(t,i);for(const r of s){const o=r.gt();o!==null&&e(o)}}function m_(n){xi&&window.chrome!==void 0&&n.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class mh{constructor(e,t,i){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!Al(),this.Af=s=>{this.If(s)},this.zf=s=>{if(this.Lf(s)){const r=this.Ef(s);if(++this._f,this.uf&&this._f>1){const{Nf:o}=this.Ff(ut(s),this.cf);o<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}}else{const r=this.Ef(s);if(++this.hf,this.lf&&this.hf>1){const{Nf:o}=this.Ff(ut(s),this.af);o<5&&!this.bf&&this.Uf(r,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=t,this.cn=i,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const t=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",t)},this.Zf.addEventListener("mousemove",t),this.Lf(e))return;const i=this.Ef(e);this.Uf(i,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const t=this.Ef(e);this.Uf(t,this.Hf.tv),this.Bf=!0}iv(e){const t=Vl(e.changedTouches,N(this.Of));if(t===null||(this.Vf=vr(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const i=this.Ff(ut(t),N(this.pf)),{nv:s,sv:r,Nf:o}=i;if(this.mf||!(o<5)){if(!this.mf){const l=.5*s,a=r>=l&&!this.cn.ev(),u=l>r&&!this.cn.rv();a||u||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const l=this.Ef(e,t);this.Wf(l,this.Hf.hv),In(e)}}}lv(e){if(e.button!==0)return;const t=this.Ff(ut(e),N(this.vf)),{Nf:i}=t;if(i>=5&&(this.bf=!0,this.Yf()),this.bf){const s=this.Ef(e);this.Uf(s,this.Hf.av)}}Ff(e,t){const i=Math.abs(t.nt-e.nt),s=Math.abs(t.st-e.st);return{nv:i,sv:s,Nf:i+s}}ov(e){let t=Vl(e.changedTouches,N(this.Of));if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t===null)return;this.Of=null,this.Vf=vr(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const i=this.Ef(e,t);if(this.Wf(i,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:s}=this.Ff(ut(t),this.cf);s<30&&!this.wf&&this.Wf(i,this.Hf.jf),this.$f()}else this.wf||(this.Wf(i,this.Hf.uv),this.Hf.uv&&In(e));this._f===0&&In(e),e.touches.length===0&&this.ff&&(this.ff=!1,In(e))}If(e){if(e.button!==0)return;const t=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),Pd()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(t,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:i}=this.Ff(ut(e),this.af);i<5&&!this.bf&&this.Uf(t,this.Hf.qf),this.Yf()}else this.bf||this.Uf(t,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const t=e.changedTouches[0];this.Of=t.identifier,this.Vf=vr(e);const i=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=ut(t),this.yf&&(this.yf(),this.yf=null);{const r=this.iv.bind(this),o=this.ov.bind(this);this.yf=()=>{i.removeEventListener("touchmove",r),i.removeEventListener("touchend",o)},i.addEventListener("touchmove",r,{passive:!1}),i.addEventListener("touchend",o,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const s=this.Ef(e,t);this.Wf(s,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=ut(t))}mv(e){if(e.button!==0)return;const t=this.Zf.ownerDocument.documentElement;Pd()&&t.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=ut(e),this.kf&&(this.kf(),this.kf=null);{const s=this.lv.bind(this),r=this.If.bind(this);this.kf=()=>{t.removeEventListener("mousemove",s),t.removeEventListener("mouseup",r)},t.addEventListener("mousemove",s),t.addEventListener("mouseup",r)}if(this.Df=!0,this.Lf(e))return;const i=this.Ef(e);this.Uf(i,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=ut(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,t=i=>{this.Hf.wv&&(i.composed&&this.Zf.contains(i.composedPath()[0])||i.target&&this.Zf.contains(i.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",t)},this.gf=()=>{e.removeEventListener("mousedown",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0})}Al()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),m_(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const t=Td(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,t),In(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const t=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,st:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this.Tf=Td(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const t=this.Ef(e);this.Uf(t,this.Hf.Pv),this.Bf=!Al()}vv(e){const t=Vl(e.touches,N(this.Of));if(t===null)return;const i=this.Ef(e,t);this.Wf(i,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:vr(e)<this.Vf+500}Wf(e,t){t&&t.call(this.Hf,e)}Uf(e,t){t&&t.call(this.Hf,e)}Ef(e,t){const i=t||e,s=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-s.left,localY:i.clientY-s.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:i.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&In(e)}}}}function Td(n,e){const t=n.clientX-e.clientX,i=n.clientY-e.clientY;return Math.sqrt(t*t+i*i)}function In(n){n.cancelable&&n.preventDefault()}function ut(n){return{nt:n.pageX,st:n.pageY}}function vr(n){return n.timeStamp||performance.now()}function Vl(n,e){for(let t=0;t<n.length;++t)if(n[t].identifier===e)return n[t];return null}function yr(n){return{Hc:n.Hc,Iv:{gr:n.zv.externalId},Lv:n.zv.cursorStyle}}function g_(n,e,t){for(const i of n){const s=i.gt();if(s!==null&&s.wr){const r=s.wr(e,t);if(r!==null)return{Bv:i,Iv:r}}}return null}function Bl(n,e){return t=>{var i,s,r,o;return((s=(i=t.Dt())===null||i===void 0?void 0:i.Pa())!==null&&s!==void 0?s:"")!==e?[]:(o=(r=t.da)===null||r===void 0?void 0:r.call(t,n))!==null&&o!==void 0?o:[]}}function Ld(n,e,t,i){if(!n.length)return;let s=0;const r=t/2,o=n[0].At(i,!0);let l=e===1?r-(n[0].Vi()-o/2):n[0].Vi()-o/2-r;l=Math.max(0,l);for(let a=1;a<n.length;a++){const u=n[a],h=n[a-1],d=h.At(i,!1),f=u.Vi(),p=h.Vi();if(e===1?f>p-d:f<p+d){const v=p-d*e;u.Oi(v);const g=v-e*d/2;if((e===1?g<0:g>t)&&l>0){const b=e===1?-1-g:g-t,y=Math.min(b,l);for(let m=s;m<n.length;m++)n[m].Oi(n[m].Vi()+e*y);l-=y}}else s=a,l=e===1?p-d-f:f-(p+d)}}class Md{constructor(e,t,i,s){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new Ps(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=t,this.ko=t.layout,this.Oc=i,this.qv=s==="left",this.Yv=Bl("normal",s),this.Zv=Bl("top",s),this.Xv=Bl("bottom",s),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=En(this.Kv,G({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=En(this.Kv,G({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const o=this.Jv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new mh(this.Jv.canvasElement,l,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Pn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Pn(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const t=this.ap(),i=N(this.Gv.canvasElement.getContext("2d"));i.save();const s=this.Li.Ha();i.font=this._p(),s.length>0&&(e=Math.max(this.Fv.xi(i,s[0].so),this.Fv.xi(i,s[s.length-1].so)));const r=this.up();for(let u=r.length;u--;){const h=this.Fv.xi(i,r[u].Kt());h>e&&(e=h)}const o=this.Li.Ct();if(o!==null&&this.Ev!==null&&(l=this.cn.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const u=this.Li.pn(1,o),h=this.Li.pn(this.Ev.height-2,o);e=Math.max(e,this.Fv.xi(i,this.Li.Fi(Math.floor(Math.min(u,h))+.11111111111111,o)),this.Fv.xi(i,this.Li.Fi(Math.ceil(Math.max(u,h))-.11111111111111,o)))}var l;i.restore();const a=e||34;return iu(Math.ceil(t.C+t.T+t.A+t.I+5+a))}cp(e){this.Ev!==null&&xn(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return N(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,N(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const i=Nn(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s)}),this.tn.bp(i,this.Xv),this.wp(i),this.tn.bp(i,this.Yv),this.gp(i))}this.Jv.applySuggestedBitmapSize();const t=Nn(this.Jv);t!==null&&(t.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Mp(t),this.tn.bp(t,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,t,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,t,i)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!0,t.V_(i,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.$v().$t(),i=this.tn.fp(),s=this.Li;t.O_(i,s,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),t=this.tn.fp(),i=this.Li;this.Nv&&(this.Nv=!1,e.B_(t,i))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!1,t.B_(i,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],t=this.Li===null?void 0:this.Li;return(i=>{for(let s=0;s<i.length;++s){const r=i[s].Rn(this.tn.fp(),t);for(let o=0;o<r.length;o++)e.push(r[o])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:t}){const{width:i,height:s}=t,r=this.tn.fp().$t(),o=r.q(),l=r.bd();o===l?Uo(e,0,0,i,s,o):tg(e,0,0,i,s,o,l)}Ie({context:e,bitmapSize:t,horizontalPixelRatio:i}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const s=Math.max(1,Math.floor(this.ap().C*i));let r;r=this.qv?t.width-s:0,e.fillRect(r,0,s,t.height)}wp(e){if(this.Ev===null||this.Li===null)return;const t=this.Li.Ha(),i=this.Li.W(),s=this.ap(),r=this.qv?this.Ev.width-s.T:0;i.borderVisible&&i.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:a})=>{o.fillStyle=i.borderColor;const u=Math.max(1,Math.floor(a)),h=Math.floor(.5*a),d=Math.round(s.T*l);o.beginPath();for(const f of t)o.rect(Math.floor(r*l),Math.round(f.Ea*a)-h,d,u);o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{var l;o.font=this._p(),o.fillStyle=(l=i.textColor)!==null&&l!==void 0?l:this.ko.textColor,o.textAlign=this.qv?"right":"left",o.textBaseline="middle";const a=this.qv?Math.round(r-s.A):Math.round(r+s.T+s.A),u=t.map(h=>this.Fv.Mi(o,h.so));for(let h=t.length;h--;){const d=t[h];o.fillText(d.so,a,d.Ea+u[h])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],t=this.Li.Uo().slice(),i=this.tn.fp(),s=this.ap();this.Li===i.pr()&&this.tn.fp().Uo().forEach(o=>{i.vr(o)&&t.push(o)});const r=this.Li;t.forEach(o=>{o.Rn(i,r).forEach(l=>{l.Oi(null),l.Bi()&&e.push(l)})}),e.forEach(o=>o.Oi(o.ki())),this.Li.W().alignLabels&&this.yp(e,s)}yp(e,t){if(this.Ev===null)return;const i=this.Ev.height/2,s=e.filter(o=>o.ki()<=i),r=e.filter(o=>o.ki()>i);s.sort((o,l)=>l.ki()-o.ki()),r.sort((o,l)=>o.ki()-l.ki());for(const o of e){const l=Math.floor(o.At(t)/2),a=o.ki();a>-l&&a<l&&o.Oi(l),a>this.Ev.height-l&&a<this.Ev.height+l&&o.Oi(this.Ev.height-l)}Ld(s,1,this.Ev.height,t),Ld(r,-1,this.Ev.height,t)}gp(e){if(this.Ev===null)return;const t=this.up(),i=this.ap(),s=this.qv?"right":"left";t.forEach(r=>{r.Ai()&&r.gt(N(this.Li)).X(e,i,this.Fv,s)})}Mp(e){if(this.Ev===null||this.Li===null)return;const t=this.tn.$v().$t(),i=[],s=this.tn.fp(),r=t.Zc().Rn(s,this.Li);r.length&&i.push(r);const o=this.ap(),l=this.qv?"right":"left";i.forEach(a=>{a.forEach(u=>{u.gt(N(this.Li)).X(e,o,this.Fv,l)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return wi(this.ko.fontSize,this.ko.fontFamily)}}function v_(n,e){var t,i;return(i=(t=n.ua)===null||t===void 0?void 0:t.call(n,e))!==null&&i!==void 0?i:[]}function wr(n,e){var t,i;return(i=(t=n.Pn)===null||t===void 0?void 0:t.call(n,e))!==null&&i!==void 0?i:[]}function y_(n,e){var t,i;return(i=(t=n.Ji)===null||t===void 0?void 0:t.call(n,e))!==null&&i!==void 0?i:[]}function w_(n,e){var t,i;return(i=(t=n.aa)===null||t===void 0?void 0:t.call(n,e))!==null&&i!==void 0?i:[]}class gh{constructor(e,t){this.Ev=G({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new se,this.Op=new se,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=t,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(i),this.Gv=En(i,G({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=En(i,G({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const r=this.Jv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new mh(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Pn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Pn(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return N(this.Np)}qp(e){var t,i;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(gh.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(t=this.Pp)!==null&&t!==void 0?t:new p_(this.Wp,this.Qd),this.Pp.bt()):((i=this.Pp)===null||i===void 0||i.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(N(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(N(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const t=e.localX,i=e.localY;this.Gp(t,i,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var t;if(!this.Np)return;this.Kp();const i=e.localX,s=e.localY;this.Gp(i,s,e);const r=this.wr(i,s);this.Qd.Qp((t=r==null?void 0:r.Lv)!==null&&t!==void 0?t:null),this.$i().jc(r&&{Hc:r.Hc,Iv:r.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const t={x:e.localX,y:e.localY};this.rm(t,t,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,t){if(!this.Qd.W().handleScale.pinch)return;const i=5*(t-this.Bp);this.Bp=t,this.$i().Qc(e.nt,i)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const t=this.$i().Zc();this.Ip!==null&&t.yt()&&(this.Lp={x:t.Yt(),y:t.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const t=e.localX,i=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const s=N(this.Lp),r=s.x+(t-this.Ip.x),o=s.y+(i-this.Ip.y);this.Gp(r,o,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,t){const i=this.Np;return i===null?null:function(s,r,o){const l=s.Uo(),a=function(u,h,d){var f,p;let v,g;for(const m of u){const w=(p=(f=m.va)===null||f===void 0?void 0:f.call(m,h,d))!==null&&p!==void 0?p:[];for(const x of w)b=x.zOrder,(!(y=v==null?void 0:v.zOrder)||b==="top"&&y!=="top"||b==="normal"&&y==="bottom")&&(v=x,g=m)}var b,y;return v&&g?{zv:v,Hc:g}:null}(l,r,o);if((a==null?void 0:a.zv.zOrder)==="top")return yr(a);for(const u of l){if(a&&a.Hc===u&&a.zv.zOrder!=="bottom"&&!a.zv.isBackground)return yr(a);const h=g_(u.Pn(s),r,o);if(h!==null)return{Hc:u,Bv:h.Bv,Iv:h.Iv};if(a&&a.Hc===u&&a.zv.zOrder!=="bottom"&&a.zv.isBackground)return yr(a)}return a!=null&&a.zv?yr(a):null}(i,e,t)}_m(e,t){N(t==="left"?this.Cp:this.Tp).cp(G({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){xn(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=N(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const t of e.Ba())if(e.vr(t)){const i=t.Dt();i!==null&&e.P_(i),t.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,t,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,t,i)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const i=Nn(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.mp(s)}),this.Np&&(this.fm(i,v_),this.vm(i),this.pm(i),this.fm(i,wr),this.fm(i,y_)))}this.Jv.applySuggestedBitmapSize();const t=Nn(this.Jv);t!==null&&(t.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.bm(t),this.fm(t,w_))}wm(){return this.Cp}gm(){return this.Tp}bp(e,t){this.fm(e,t)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,t){const i=t.localX,s=t.localY;e.M()&&e.m(this.$i().St().Nu(i),{x:i,y:s},t)}mp({context:e,bitmapSize:t}){const{width:i,height:s}=t,r=this.$i(),o=r.q(),l=r.bd();o===l?Uo(e,0,0,i,s,l):tg(e,0,0,i,s,o,l)}vm(e){const t=N(this.Np).j_().qh().gt();t!==null&&t.X(e,!1)}pm(e){const t=this.$i().Yc();this.Mm(e,wr,su,t),this.Mm(e,wr,Ir,t)}bm(e){this.Mm(e,wr,Ir,this.$i().Zc())}fm(e,t){const i=N(this.Np).Uo();for(const s of i)this.Mm(e,t,su,s);for(const s of i)this.Mm(e,t,Ir,s)}Mm(e,t,i,s){const r=N(this.Np),o=r.$t().Wc(),l=o!==null&&o.Hc===s,a=o!==null&&l&&o.Iv!==void 0?o.Iv.Mr:void 0;ru(t,u=>i(u,e,l,a),s,r)}Zp(){if(this.Np===null)return;const e=this.Qd,t=this.Np.R_().W().visible,i=this.Np.D_().W().visible;t||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),i||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const s=e.$t().ud();t&&this.Cp===null&&(this.Cp=new Md(this,e.W(),s,"left"),this.jp.appendChild(this.Cp.lp())),i&&this.Tp===null&&(this.Tp=new Md(this,e.W(),s,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,t,i){this.$i().ld(this.Sm(e),this.km(t),i,N(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,t,i){this.Ip=e,this.zp=!1,this.Gp(t.x,t.y,i);const s=this.$i().Zc();this.Lp={x:s.Yt(),y:s.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const t=this.$i(),i=this.fp();if(t.z_(i,i.vn()),this.Rp=null,this.Dp=!1,t.ed(),this.Ep!==null){const s=performance.now(),r=t.St();this.Ep.Vr(r.Hu(),s),this.Ep.Qu(s)||t.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)N(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const t=this.$i(),i=t.St();if(i.Ni())return;const s=this.Qd.W(),r=s.handleScroll,o=s.kineticScroll;if((!r.pressedMouseMove||e.Dv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!e.Dv))return;const l=this.Np.vn(),a=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:a,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&o.touch||!e.Dv&&o.mouse){const u=i.le();this.Ep=new f_(.2/u,7/u,.997,15/u),this.Ep.Yd(i.Hu(),this.Rp.Od)}else this.Ep=null;l.Ni()||t.A_(this.Np,l,e.localY),t.nd(e.localX),this.Dp=!0}this.Dp&&(l.Ni()||t.I_(this.Np,l,e.localY),t.sd(e.localX),this.Ep!==null&&this.Ep.Yd(i.Hu(),a))}}class $d{constructor(e,t,i,s,r){this.ft=!0,this.Ev=G({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=i.ud,this.cn=t,this.Tm=s,this.Pm=r,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=En(this.Kv,G({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Pn(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){xn(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const t=Nn(this.Gv);t!==null&&t.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)})}xp(){return this.Gv.bitmapSize}Sp(e,t,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,t,i)}Ie({context:e,bitmapSize:t,horizontalPixelRatio:i,verticalPixelRatio:s}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const r=Math.floor(this.Oc.W().C*i),o=Math.floor(this.Oc.W().C*s),l=this.qv?t.width-r:0;e.fillRect(l,0,r,o)}mp({context:e,bitmapSize:t}){Uo(e,0,0,t.width,t.height,this.Pm())}}function vh(n){return e=>{var t,i;return(i=(t=e.fa)===null||t===void 0?void 0:t.call(e,n))!==null&&i!==void 0?i:[]}}const x_=vh("normal"),b_=vh("top"),__=vh("bottom");class S_{constructor(e,t){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=G({width:0,height:0}),this.Om=new se,this.Fv=new Ps(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=t,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=En(this.Im,G({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=En(this.Im,G({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const s=this.Jv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new mh(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),Pn(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),Pn(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const t=this.Qd.$t();!t.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&t.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const t=this.Qd.$t();!t.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&t.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,t,i){xn(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(G({width:t,height:e.height})),this.Dm!==null&&this.Dm.cp(G({width:i,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,t,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,t,i)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const i=Nn(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s),this.$m(i,__)}),this.wp(i),this.$m(i,x_)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const t=Nn(this.Jv);t!==null&&(t.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],t),this.$m(t,b_))}$m(e,t){const i=this.Qd.$t().wt();for(const s of i)ru(t,r=>su(r,e,!1,void 0),s,void 0);for(const s of i)ru(t,r=>Ir(r,e,!1,void 0),s,void 0)}mp({context:e,bitmapSize:t}){Uo(e,0,0,t.width,t.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:t,verticalPixelRatio:i}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const s=Math.max(1,Math.floor(this.jm().C*i));e.fillRect(0,0,t.width,s)}}wp(e){const t=this.Qd.$t().St(),i=t.Ha();if(!i||i.length===0)return;const s=this.q_.maxTickMarkWeight(i),r=this.jm(),o=t.W();o.borderVisible&&o.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:u})=>{l.strokeStyle=this.qm(),l.fillStyle=this.qm();const h=Math.max(1,Math.floor(a)),d=Math.floor(.5*a);l.beginPath();const f=Math.round(r.T*u);for(let p=i.length;p--;){const v=Math.round(i[p].coord*a);l.rect(v-d,0,h,f)}l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{const a=r.C+r.T+r.L+r.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.$(),l.font=this._p();for(const u of i)if(u.weight<s){const h=u.needAlignCoordinate?this.Ym(l,u.coord,u.label):u.coord;l.fillText(u.label,h,a)}this.Qd.W().timeScale.allowBoldLabels&&(l.font=this.Zm());for(const u of i)if(u.weight>=s){const h=u.needAlignCoordinate?this.Ym(l,u.coord,u.label):u.coord;l.fillText(u.label,h,a)}})}Ym(e,t,i){const s=this.Fv.xi(e,i),r=s/2,o=Math.floor(t-r)+.5;return o<0?t+=Math.abs(0-o):o+s>this.Ev.width&&(t-=Math.abs(this.Ev.width-(o+s))),t}Um(e,t){const i=this.jm();for(const s of e)for(const r of s.Qi())r.gt().X(t,i)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return wi(this.j(),this.cn.fontFamily)}Zm(){return wi(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new Ps,Hm:0});const e=this.k,t=this._p();if(e.R!==t){const i=this.j();e.P=i,e.R=t,e.L=3*i/12,e.B=3*i/12,e.ji=9*i/12,e.N=0,e.Hm=4*i/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),t=e.W();t.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),t.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const i={ud:this.Qd.$t().ud()},s=()=>t.leftPriceScale.borderVisible&&e.St().W().borderVisible,r=()=>e.bd();t.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new $d("left",t,i,s,r),this.Bm.appendChild(this.Rm.lp())),t.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new $d("right",t,i,s,r),this.Am.appendChild(this.Dm.lp()))}}const k_=!!xi&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(n=>n.brand.includes("Chromium"))&&!!xi&&(!((Wl=navigator==null?void 0:navigator.userAgentData)===null||Wl===void 0)&&Wl.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var Wl;class C_{constructor(e,t,i){var s;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new se,this.Op=new se,this.Rc=new se,this.ib=null,this.nb=null,this.Jd=e,this.cn=t,this.q_=i,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(s=this.Xd).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),Hl(this.cn)&&this.hb(!0),this.$i=new a_(this.Vc.bind(this),this.cn,i),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new S_(this,this.q_),this.sb.appendChild(this.ab.lp());const r=t.autoSize&&this.ob();let o=this.cn.width,l=this.cn.height;if(r||o===0||l===0){const a=e.getBoundingClientRect();o=o||a.width,l=l||a.height}this._b(o,l),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],N(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,t,i=!1){if(this.ho===t&&this.__===e)return;const s=function(l){const a=Math.floor(l.width),u=Math.floor(l.height);return G({width:a-a%2,height:u-u%2})}(G({width:e,height:t}));this.ho=s.height,this.__=s.width;const r=this.ho+"px",o=this.__+"px";N(this.Xd).style.height=r,N(this.Xd).style.width=o,this.sb.style.height=r,this.sb.style.width=o,i?this.mb(fe.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=fe.es());for(let t=0;t<this.Xm.length;t++)this.Xm[t].vp(e.Hn(t).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const t=Hl(this.cn);this.$i.$h(e);const i=Hl(this.cn);i!==t&&this.hb(i),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),t=document.createElement("canvas");t.width=e.width,t.height=e.height;const i=N(t.getContext("2d"));return this.gb(i),t}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:N(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return ke(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let t=0,i=0;const s=this.Xm[0],r=(l,a)=>{let u=0;for(let h=0;h<this.Xm.length;h++){const d=this.Xm[h],f=N(l==="left"?d.wm():d.gm()),p=f.xp();e!==null&&f.Sp(e,a,u),u+=p.height}};this.xb()&&(r("left",0),t+=N(s.wm()).xp().width);for(let l=0;l<this.Xm.length;l++){const a=this.Xm[l],u=a.xp();e!==null&&a.Sp(e,t,i),i+=u.height}t+=s.xp().width,this.Sb()&&(r("right",t),t+=N(s.gm()).xp().width);const o=(l,a,u)=>{N(l==="left"?this.ab.Lm():this.ab.Em()).Sp(N(e),a,u)};if(this.cn.timeScale.visible){const l=this.ab.xp();if(e!==null){let a=0;this.xb()&&(o("left",a,i),a=N(s.wm()).xp().width),this.ab.Sp(e,a,i),a+=l.width,this.Sb()&&o("right",a,i)}i+=l.height}return G({width:t,height:i})}Pb(){let e=0,t=0,i=0;for(const v of this.Xm)this.xb()&&(t=Math.max(t,N(v.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(i=Math.max(i,N(v.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=v.M_();t=iu(t),i=iu(i);const s=this.__,r=this.ho,o=Math.max(s-t-i,0),l=this.cn.timeScale.visible;let a=l?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var u;a=(u=a)+u%2;const h=0+a,d=r<h?0:r-h,f=d/e;let p=0;for(let v=0;v<this.Xm.length;++v){const g=this.Xm[v];g.qp(this.$i.qc()[v]);let b=0,y=0;y=v===this.Xm.length-1?d-p:Math.round(g.M_()*f),b=Math.max(y,2),p+=b,g.cp(G({width:o,height:b})),this.xb()&&g._m(t,"left"),this.Sb()&&g._m(i,"right"),g.fp()&&this.$i.Kc(g.fp(),b)}this.ab.Fm(G({width:l?o:0,height:a}),l?t:0,l?i:0),this.$i.S_(o),this.Gm!==t&&(this.Gm=t),this.Jm!==i&&(this.Jm=i)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return k_?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const t=this.Rb(e),i=t*e.deltaX/100,s=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),s!==0&&this.cn.handleScale.mouseWheel){const r=Math.sign(s)*Math.min(1,Math.abs(s)),o=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(o,r)}i!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*i)}mb(e,t){var i;const s=e.jn();s===3&&this.Db(),s!==3&&s!==2||(this.Vb(e),this.Ob(e,t),this.ab.bt(),this.Xm.forEach(r=>{r.Xp()}),((i=this.Qm)===null||i===void 0?void 0:i.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,t),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,t){for(const i of e.Qn())this.ns(i,t)}Vb(e){const t=this.$i.qc();for(let i=0;i<t.length;i++)e.Hn(i).Wn&&t[i].N_()}ns(e,t){const i=this.$i.St();switch(e.qn){case 0:i.hc();break;case 1:i.lc(e.Vt);break;case 2:i.Gn(e.Vt);break;case 3:i.Jn(e.Vt);break;case 4:i.qu();break;case 5:e.Vt.Qu(t)||i.Jn(e.Vt.tc(t))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(t=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const i=this.Qm;this.Qm=null,this.mb(i,t);for(const s of i.Qn())if(s.qn===5&&!s.Vt.Qu(t)){this.$t().Zn(s.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),t=e.length,i=this.Xm.length;for(let s=t;s<i;s++){const r=ke(this.Xm.pop());this.sb.removeChild(r.lp()),r.lm().p(this),r.am().p(this),r.S()}for(let s=i;s<t;s++){const r=new gh(this,e[s]);r.lm().l(this.Bb.bind(this),this),r.am().l(this.Ab.bind(this),this),this.Xm.push(r),this.sb.insertBefore(r.lp(),this.ab.lp())}for(let s=0;s<t;s++){const r=e[s],o=this.Xm[s];o.fp()!==r?o.qp(r):o.Up()}this.cb(),this.Pb()}Ib(e,t,i){var s;const r=new Map;e!==null&&this.$i.wt().forEach(h=>{const d=h.In().ll(e);d!==null&&r.set(h,d)});let o;if(e!==null){const h=(s=this.$i.St().Ui(e))===null||s===void 0?void 0:s.originalTime;h!==void 0&&(o=h)}const l=this.$t().Wc(),a=l!==null&&l.Hc instanceof fh?l.Hc:void 0,u=l!==null&&l.Iv!==void 0?l.Iv.gr:void 0;return{zb:o,ee:e??void 0,Lb:t??void 0,Eb:a,Nb:r,Fb:u,Wb:i??void 0}}Bb(e,t,i){this.Vp.m(()=>this.Ib(e,t,i))}Ab(e,t,i){this.Op.m(()=>this.Ib(e,t,i))}lb(e,t,i){this.Rc.m(()=>this.Ib(e,t,i))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const t=e.find(i=>i.target===this.Jd);t&&this._b(t.contentRect.width,t.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function Hl(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function N_(n){return function(e){return e.open!==void 0}(n)||function(e){return e.value!==void 0}(n)}function xg(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}function Od(n,e,t,i){const s=t.value,r={ee:e,ot:n,Vt:[s,s,s,s],zb:i};return t.color!==void 0&&(r.V=t.color),r}function j_(n,e,t,i){const s=t.value,r={ee:e,ot:n,Vt:[s,s,s,s],zb:i};return t.lineColor!==void 0&&(r.lt=t.lineColor),t.topColor!==void 0&&(r.Ps=t.topColor),t.bottomColor!==void 0&&(r.Rs=t.bottomColor),r}function E_(n,e,t,i){const s=t.value,r={ee:e,ot:n,Vt:[s,s,s,s],zb:i};return t.topLineColor!==void 0&&(r.Re=t.topLineColor),t.bottomLineColor!==void 0&&(r.De=t.bottomLineColor),t.topFillColor1!==void 0&&(r.ke=t.topFillColor1),t.topFillColor2!==void 0&&(r.ye=t.topFillColor2),t.bottomFillColor1!==void 0&&(r.Ce=t.bottomFillColor1),t.bottomFillColor2!==void 0&&(r.Te=t.bottomFillColor2),r}function P_(n,e,t,i){const s={ee:e,ot:n,Vt:[t.open,t.high,t.low,t.close],zb:i};return t.color!==void 0&&(s.V=t.color),s}function T_(n,e,t,i){const s={ee:e,ot:n,Vt:[t.open,t.high,t.low,t.close],zb:i};return t.color!==void 0&&(s.V=t.color),t.borderColor!==void 0&&(s.Ot=t.borderColor),t.wickColor!==void 0&&(s.Xh=t.wickColor),s}function L_(n,e,t,i,s){const r=ke(s)(t),o=Math.max(...r),l=Math.min(...r),a=r[r.length-1],u=[a,o,l,a],h=t,{time:d,color:f}=h;return{ee:e,ot:n,Vt:u,zb:i,$e:xg(h,["time","color"]),V:f}}function xr(n){return n.Vt!==void 0}function Rd(n,e){return e.customValues!==void 0&&(n.jb=e.customValues),n}function un(n){return(e,t,i,s,r,o)=>function(l,a){return a?a(l):(u=l).open===void 0&&u.value===void 0;var u}(i,o)?Rd({ot:e,ee:t,zb:s},i):Rd(n(e,t,i,s,r),i)}function zd(n){return{Candlestick:un(T_),Bar:un(P_),Area:un(j_),Baseline:un(E_),Histogram:un(Od),Line:un(Od),Custom:un(L_)}[n]}function Id(n){return{ee:0,Hb:new Map,la:n}}function Dd(n,e){if(n!==void 0&&n.length!==0)return{$b:e.key(n[0].ot),Ub:e.key(n[n.length-1].ot)}}function Ad(n){let e;return n.forEach(t=>{e===void 0&&(e=t.zb)}),ke(e)}class M_{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,t){let i=this.qb.size!==0,s=!1;const r=this.Yb.get(e);if(r!==void 0)if(this.Yb.size===1)i=!1,s=!0,this.qb.clear();else for(const a of this.Xb)a.pointData.Hb.delete(e)&&(s=!0);let o=[];if(t.length!==0){const a=t.map(p=>p.time),u=this.q_.createConverterToInternalObj(t),h=zd(e.Qh()),d=e.Ca(),f=e.Ta();o=t.map((p,v)=>{const g=u(p.time),b=this.q_.key(g);let y=this.qb.get(b);y===void 0&&(y=Id(g),this.qb.set(b,y),s=!0);const m=h(g,y.ee,p,a[v],d,f);return y.Hb.set(e,m),m})}i&&this.Gb(),this.Jb(e,o);let l=-1;if(s){const a=[];this.qb.forEach(u=>{a.push({timeWeight:0,time:u.la,pointData:u,originalTime:Ad(u.Hb)})}),a.sort((u,h)=>this.q_.key(u.time)-this.q_.key(h.time)),l=this.Qb(a)}return this.tw(e,l,function(a,u,h){const d=Dd(a,h),f=Dd(u,h);if(d!==void 0&&f!==void 0)return{ta:d.Ub>=f.Ub&&d.$b>=f.$b}}(this.Yb.get(e),r,this.q_))}vd(e){return this.Kb(e,[])}iw(e,t){const i=t;(function(g){g.zb===void 0&&(g.zb=g.time)})(i),this.q_.preprocessData(t);const s=this.q_.createConverterToInternalObj([t])(t.time),r=this.Zb.get(e);if(r!==void 0&&this.q_.key(s)<this.q_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${s}`);let o=this.qb.get(this.q_.key(s));const l=o===void 0;o===void 0&&(o=Id(s),this.qb.set(this.q_.key(s),o));const a=zd(e.Qh()),u=e.Ca(),h=e.Ta(),d=a(s,o.ee,t,i.zb,u,h);o.Hb.set(e,d),this.nw(e,d);const f={ta:xr(d)};if(!l)return this.tw(e,-1,f);const p={timeWeight:0,time:o.la,pointData:o,originalTime:Ad(o.Hb)},v=Us(this.Xb,this.q_.key(p.time),(g,b)=>this.q_.key(g.time)<b);this.Xb.splice(v,0,p);for(let g=v;g<this.Xb.length;++g)Kl(this.Xb[g].pointData,g);return this.q_.fillWeightsForPoints(this.Xb,v),this.tw(e,v,f)}nw(e,t){let i=this.Yb.get(e);i===void 0&&(i=[],this.Yb.set(e,i));const s=i.length!==0?i[i.length-1]:null;s===null||this.q_.key(t.ot)>this.q_.key(s.ot)?xr(t)&&i.push(t):xr(t)?i[i.length-1]=t:i.splice(-1,1),this.Zb.set(e,t.ot)}Jb(e,t){t.length!==0?(this.Yb.set(e,t.filter(xr)),this.Zb.set(e,t[t.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let t=-1;for(let i=0;i<this.Xb.length&&i<e.length;++i){const s=this.Xb[i],r=e[i];if(this.q_.key(s.time)!==this.q_.key(r.time)){t=i;break}r.timeWeight=s.timeWeight,Kl(r.pointData,i)}if(t===-1&&this.Xb.length!==e.length&&(t=Math.min(this.Xb.length,e.length)),t===-1)return-1;for(let i=t;i<e.length;++i)Kl(e[i].pointData,i);return this.q_.fillWeightsForPoints(e,t),this.Xb=e,t}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(t=>{t.length!==0&&(e=Math.max(e,t[t.length-1].ee))}),e}tw(e,t,i){const s={ew:new Map,St:{Eu:this.sw()}};if(t!==-1)this.Yb.forEach((r,o)=>{s.ew.set(o,{$e:r,rw:o===e?i:void 0})}),this.Yb.has(e)||s.ew.set(e,{$e:[],rw:i}),s.St.hw=this.Xb,s.St.lw=t;else{const r=this.Yb.get(e);s.ew.set(e,{$e:r||[],rw:i})}return s}}function Kl(n,e){n.ee=e,n.Hb.forEach(t=>{t.ee=e})}function yh(n){const e={value:n.Vt[3],time:n.zb};return n.jb!==void 0&&(e.customValues=n.jb),e}function Fd(n){const e=yh(n);return n.V!==void 0&&(e.color=n.V),e}function $_(n){const e=yh(n);return n.lt!==void 0&&(e.lineColor=n.lt),n.Ps!==void 0&&(e.topColor=n.Ps),n.Rs!==void 0&&(e.bottomColor=n.Rs),e}function O_(n){const e=yh(n);return n.Re!==void 0&&(e.topLineColor=n.Re),n.De!==void 0&&(e.bottomLineColor=n.De),n.ke!==void 0&&(e.topFillColor1=n.ke),n.ye!==void 0&&(e.topFillColor2=n.ye),n.Ce!==void 0&&(e.bottomFillColor1=n.Ce),n.Te!==void 0&&(e.bottomFillColor2=n.Te),e}function bg(n){const e={open:n.Vt[0],high:n.Vt[1],low:n.Vt[2],close:n.Vt[3],time:n.zb};return n.jb!==void 0&&(e.customValues=n.jb),e}function R_(n){const e=bg(n);return n.V!==void 0&&(e.color=n.V),e}function z_(n){const e=bg(n),{V:t,Ot:i,Xh:s}=n;return t!==void 0&&(e.color=t),i!==void 0&&(e.borderColor=i),s!==void 0&&(e.wickColor=s),e}function ou(n){return{Area:$_,Line:Fd,Baseline:O_,Histogram:Fd,Bar:R_,Candlestick:z_,Custom:I_}[n]}function I_(n){const e=n.zb;return Object.assign(Object.assign({},n.$e),{time:e})}const D_={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},A_={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},F_={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:lh,attributionLogo:!0},ql={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},U_={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},V_={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:lh,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function Ud(){return{width:0,height:0,autoSize:!1,layout:F_,crosshair:D_,grid:A_,overlayPriceScales:Object.assign({},ql),leftPriceScale:Object.assign(Object.assign({},ql),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},ql),{visible:!0}),timeScale:U_,watermark:V_,localization:{locale:xi?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class B_{constructor(e,t){this.aw=e,this.ow=t}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return Bo(this.ow)?this.aw.Mb(this.ow):0}Li(){return N(this.aw.$t().Uc(this.ow)).Dt}}function Vd(n,e,t){const i=xg(n,["time","originalTime"]),s=Object.assign({time:e},i);return t!==void 0&&(s.originalTime=t),s}const W_={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class H_{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class K_{constructor(e,t,i,s,r){this.uw=new se,this.Es=e,this.cw=t,this.dw=i,this.q_=r,this.fw=s}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const t=this.Es.Ct();return t===null?null:this.Es.Dt().Rt(e,t.Vt)}coordinateToPrice(e){const t=this.Es.Ct();return t===null?null:this.Es.Dt().pn(e,t.Vt)}barsInLogicalRange(e){if(e===null)return null;const t=new ai(new os(e.from,e.to)).lu(),i=this.Es.In();if(i.Ni())return null;const s=i.ll(t.Os(),1),r=i.ll(t.ui(),-1),o=N(i.el()),l=N(i.An());if(s!==null&&r!==null&&s.ee>r.ee)return{barsBefore:e.from-o,barsAfter:l-e.to};const a={barsBefore:s===null||s.ee===o?e.from-o:s.ee-o,barsAfter:r===null||r.ee===l?l-e.to:l-r.ee};return s!==null&&r!==null&&(a.from=s.zb,a.to=r.zb),a}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,t){const i=this.Es.In().ll(e,t);return i===null?null:ou(this.seriesType())(i)}data(){const e=ou(this.seriesType());return this.Es.In().ne().map(t=>e(t))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const t=e.map(i=>Vd(i,this.q_.convertHorzItemToInternal(i.time),i.time));this.Es.na(t)}markers(){return this.Es.sa().map(e=>Vd(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return _t(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const t=ot(_t(W_),e),i=this.Es.ea(t);return new H_(i)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class q_{constructor(e,t,i){this.ww=new se,this.mu=new se,this.Om=new se,this.$i=e,this.yl=e.St(),this.ab=t,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=i}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,t){t?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const t={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},i=this.yl.Iu(t);this.$i.pd(i)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){en(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const t=this.$i.St();return t.Ni()?null:t.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const t=this.q_.convertHorzItemToInternal(e),i=this.yl.Va(t,!1);return i===null?null:this.yl.It(i)}coordinateToTime(e){const t=this.$i.St(),i=t.Nu(e),s=t.Ui(i);return s===null?null:s.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},_t(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function J_(n){if(n===void 0||n.type==="custom")return;const e=n;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(t){if(t>=1)return 0;let i=0;for(;i<8;i++){const s=Math.round(t);if(Math.abs(s-t)<1e-8)return i;t*=10}return i}(e.minMove))}function Bd(n){return function(e){if(cr(e.handleScale)){const i=e.handleScale;e.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:s}=e.handleScale;cr(i)&&(e.handleScale.axisPressedMouseMove={time:i,price:i}),cr(s)&&(e.handleScale.axisDoubleClickReset={time:s,price:s})}const t=e.handleScroll;cr(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})}(n),n}class G_{constructor(e,t,i){this.Sw=new Map,this.kw=new Map,this.yw=new se,this.Cw=new se,this.Tw=new se,this.Pw=new M_(t);const s=i===void 0?_t(Ud()):ot(_t(Ud()),Bd(i));this.q_=t,this.aw=new C_(e,s,t),this.aw.lm().l(o=>{this.yw.M()&&this.yw.m(this.Rw(o()))},this),this.aw.am().l(o=>{this.Cw.M()&&this.Cw.m(this.Rw(o()))},this),this.aw.Xc().l(o=>{this.Tw.M()&&this.Tw.m(this.Rw(o()))},this);const r=this.aw.$t();this.Dw=new q_(r,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,t,i){this.autoSizeActive()||this.aw._b(e,t,i)}addCustomSeries(e,t){const i=Zn(e),s=Object.assign(Object.assign({},Qm),i.defaultOptions());return this.Vw("Custom",s,t,i)}addAreaSeries(e){return this.Vw("Area",Mx,e)}addBaselineSeries(e){return this.Vw("Baseline",$x,e)}addBarSeries(e){return this.Vw("Bar",Tx,e)}addCandlestickSeries(e={}){return function(t){t.borderColor!==void 0&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),t.wickColor!==void 0&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(e),this.Vw("Candlestick",Px,e)}addHistogramSeries(e){return this.Vw("Histogram",Ox,e)}addLineSeries(e){return this.Vw("Line",Lx,e)}removeSeries(e){const t=ke(this.Sw.get(e)),i=this.Pw.vd(t);this.aw.$t().vd(t),this.Ow(i),this.Sw.delete(e),this.kw.delete(t)}pw(e,t){this.Ow(this.Pw.Kb(e,t))}bw(e,t){this.Ow(this.Pw.iw(e,t))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new B_(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(Bd(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,t,i){const s=this.Sw.get(i);if(s===void 0)return;const r=this.aw.$t().dr(s);r!==null&&this.aw.$t().ad(e,t,r)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,t,i={},s){J_(i.priceFormat);const r=ot(_t(Xm),_t(t),i),o=this.aw.$t().dd(e,r,s),l=new K_(o,this,this,this,this.q_);return this.Sw.set(l,o),this.kw.set(o,l),l}Ow(e){const t=this.aw.$t();t._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((i,s)=>s.J(i.$e,i.rw)),t.Wu()}Bw(e){return ke(this.kw.get(e))}Rw(e){const t=new Map;e.Nb.forEach((s,r)=>{const o=r.Qh(),l=ou(o)(s);if(o!=="Custom")en(N_(l));else{const a=r.Ta();en(!a||a(l)===!1)}t.set(this.Bw(r),l)});const i=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:i,hoveredObjectId:e.Fb,seriesData:t,sourceEvent:e.Wb}}}function Q_(n,e,t){let i;if(Fs(n)){const r=document.getElementById(n);en(r!==null,`Cannot find element in DOM with id=${n}`),i=r}else i=n;const s=new G_(i,e,t);return e.setOptions(s.options()),s}function X_(n,e){return Q_(n,new Ed,Ed.Id(e))}Object.assign(Object.assign({},Xm),Qm);const Y_=()=>{var Xe,Re,be;const{t:n}=Tt(),[e,t]=$.useState([]),[i,s]=$.useState([]),[r,o]=$.useState(!0),[l,a]=$.useState(""),[u,h]=$.useState([]),[d,f]=$.useState(""),[p,v]=$.useState([]),g=qg.useRef(null),b=83,y={:"WHEAT",:"RICE",:"CORN",:"SOYBEAN",Wheat:"WHEAT",Rice:"RICE",Corn:"CORN",Soybean:"SOYBEAN"};$.useEffect(()=>{x();const P=setInterval(()=>{m()},6e4);return()=>clearInterval(P)},[]),$.useEffect(()=>{if(d&&g.current){const P=X_(g.current,{layout:{background:{type:tu.Solid,color:"transparent"},textColor:"#d1d5db"},grid:{vertLines:{color:"#374151"},horzLines:{color:"#374151"}},width:g.current.clientWidth,height:300});P.addLineSeries({color:"#10B981",lineWidth:2}).setData(p);const B=()=>{g.current&&P.applyOptions({width:g.current.clientWidth})};return window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B),P.remove()}}},[d,p]);const m=async()=>{try{const D=(await Promise.all(Object.values(y).map(async B=>{try{const T=await(await fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${B}&apikey=SWB3RMW8IU047TEO`)).json();return!T["Global Quote"]||!T["Global Quote"]["05. price"]?(console.error(`Invalid or missing data for symbol: ${B}`),{symbol:B,price:0,change:0,timestamp:new Date().toISOString().split("T")[0]}):{symbol:B,price:parseFloat(T["Global Quote"]["05. price"])*b,change:parseFloat(T["Global Quote"]["09. change"]||"0"),timestamp:T["Global Quote"]["07. latest trading day"]||new Date().toISOString().split("T")[0]}}catch(C){return console.error(`Error fetching data for symbol: ${B}`,C),{symbol:B,price:0,change:0,timestamp:new Date().toISOString().split("T")[0]}}}))).filter(B=>B.price!==0);h(D)}catch(P){console.error("Error fetching real-time prices:",P)}},w=async P=>{try{const B=await(await fetch(`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=${P}&apikey=SWB3RMW8IU047TEO`)).json();if(!B["Time Series (Daily)"]){console.error("Invalid historical data response:",B),v([]);return}const C=B["Time Series (Daily)"],T=Object.entries(C).map(([M,W])=>({time:M,value:parseFloat(W["4. close"])*b})).reverse();v(T)}catch(D){console.error("Error fetching historical data:",D),v([])}},x=async()=>{try{const{data:P,error:D}=await Xt.from("market_research").select("*");if(D)throw D;t(P||[]),_(P||[])}catch(P){console.error("Error fetching market data:",P)}finally{o(!1)}},_=P=>{const B=[...new Set(P.map(C=>C.crop_type))].map(C=>{const T=P.filter(M=>M.crop_type===C);return{crop_type:C,avg_price:k(T.map(M=>M.market_price)),avg_profit:k(T.map(M=>M.profit_potential)),risk_distribution:{low:T.filter(M=>M.market_risk==="Low").length,medium:T.filter(M=>M.market_risk==="Medium").length,high:T.filter(M=>M.market_risk==="High").length},trend:S(T)}});s(B)},k=P=>P.reduce((D,B)=>D+B,0)/P.length,S=P=>{const D=P.map(C=>C.market_price),B=(D[D.length-1]-D[0])/D.length;return B>.5?"up":B<-.5?"down":"stable"},E=P=>{switch(P.toLowerCase()){case"low":return"text-green-500";case"medium":return"text-yellow-500";case"high":return"text-red-500";default:return"text-gray-500"}},U=P=>{f(P);const D=y[P];D&&w(D)},O=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(P);if(r)return c.jsx("div",{className:"max-w-7xl mx-auto p-4",children:c.jsxs("div",{className:"animate-pulse space-y-4",children:[c.jsx("div",{className:"h-32 bg-gray-800 rounded-lg"}),c.jsx("div",{className:"h-64 bg-gray-800 rounded-lg"})]})});const te=e.filter(P=>P.crop_type.toLowerCase().includes(l.toLowerCase())||P.market_risk.toLowerCase().includes(l.toLowerCase()));return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 px-4",children:[c.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-8 overflow-hidden",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:n("market.title")}),c.jsx("p",{className:"text-gray-400",children:n("market.subtitle")})]}),c.jsx("div",{className:"absolute top-0 right-0 transform translate-x-1/4 -translate-y-1/4",children:c.jsx(kw,{className:"h-32 w-32 text-blue-500/10"})})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[c.jsxs("div",{className:"relative flex-1 w-full md:w-auto mb-4 md:mb-0 md:mr-4",children:[c.jsx(Ww,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),c.jsx("input",{type:"text",placeholder:"Search by crop name, risk level...",value:l,onChange:P=>a(P.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800/50 border border-gray-700/50 rounded-lg text-gray-100 focus:outline-none focus:border-green-500/50 focus:ring-1 focus:ring-green-500/50"})]}),c.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-green-600/20 text-green-500 rounded-lg hover:bg-green-600/30 transition-colors",children:[c.jsx(Bw,{className:"h-4 w-4 mr-2"}),"Refresh Prices"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map(P=>c.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 cursor-pointer hover:bg-gray-700/50 transition-colors",onClick:()=>U(P.symbol),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"font-semibold",children:P.symbol}),c.jsxs("span",{className:P.change>=0?"text-green-500":"text-red-500",children:[P.change>=0?"+":"",P.change.toFixed(2),"%"]})]}),c.jsx("div",{className:"text-2xl font-bold",children:O(P.price)}),c.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:["Last updated: ",new Date(P.timestamp).toLocaleString()]})]},P.symbol))})]}),d&&c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-2xl p-6",children:[c.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Price History: ",d]}),c.jsx("div",{ref:g,className:"w-full h-[300px]"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(P=>c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:P.crop_type}),P.trend==="up"?c.jsx(Tw,{className:"h-5 w-5 text-green-500"}):P.trend==="down"?c.jsx(Pw,{className:"h-5 w-5 text-red-500"}):c.jsx(ns,{className:"h-5 w-5 text-blue-500"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Average Price"}),c.jsx("p",{className:"text-2xl font-bold",children:O(P.avg_price)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Profit Potential"}),c.jsxs("p",{className:"text-lg font-semibold text-green-500",children:["+",P.avg_profit.toFixed(1),"%"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Risk Distribution"}),c.jsxs("div",{className:"flex space-x-2 mt-1",children:[c.jsx("div",{className:"flex-1 bg-green-500/20 rounded-full h-2",style:{width:`${P.risk_distribution.low}%`}}),c.jsx("div",{className:"flex-1 bg-yellow-500/20 rounded-full h-2",style:{width:`${P.risk_distribution.medium}%`}}),c.jsx("div",{className:"flex-1 bg-red-500/20 rounded-full h-2",style:{width:`${P.risk_distribution.high}%`}})]})]})]})]},P.crop_type))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx(Rw,{className:"h-6 w-6 text-blue-500 mr-2"}),c.jsx("h2",{className:"text-xl font-semibold",children:"Market Trends"})]}),c.jsx("div",{className:"space-y-4",children:te.slice(0,5).map((P,D)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:P.crop_type}),c.jsxs("p",{className:"text-sm text-gray-400",children:["Volume: ",P.production_volume.toFixed(0)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-medium",children:O(P.market_price)}),c.jsxs("p",{className:`text-sm ${E(P.market_risk)}`,children:[P.market_risk," Risk"]})]})]},D))})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/90 to-gray-800/90 backdrop-blur-xl border border-gray-800/50 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx(Uw,{className:"h-6 w-6 text-purple-500 mr-2"}),c.jsx("h2",{className:"text-xl font-semibold",children:"Market Analysis"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Top Performing Crops"}),c.jsx("div",{className:"space-y-3",children:i.sort((P,D)=>D.avg_profit-P.avg_profit).slice(0,3).map((P,D)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Lw,{className:"h-4 w-4 text-green-500 mr-2"}),c.jsx("span",{children:P.crop_type})]}),c.jsxs("span",{className:"text-green-500",children:["+",P.avg_profit.toFixed(1),"%"]})]},D))})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Market Insights"}),c.jsxs("div",{className:"space-y-3 text-gray-400",children:[c.jsxs("p",{children:[" High demand expected for ",(Xe=i[0])==null?void 0:Xe.crop_type]}),c.jsxs("p",{children:[" Price stability observed in ",(Re=i[1])==null?void 0:Re.crop_type]}),c.jsxs("p",{children:[" Consider diversifying into ",(be=i[2])==null?void 0:be.crop_type]})]})]})]})]})]})]})},Wd=["Punjab","Haryana","Uttar Pradesh","Maharashtra","Madhya Pradesh","Rajasthan","Gujarat","West Bengal","Bihar","Tamil Nadu","Andhra Pradesh","Karnataka","Kerala","Odisha","Assam","Chhattisgarh","Jharkhand","Himachal Pradesh","Uttarakhand","Goa","Manipur","Meghalaya","Mizoram","Nagaland","Tripura","Arunachal Pradesh","Sikkim","Ladakh","Telangana"],Z_=["Canal Irrigation","Drip Irrigation","Sprinkler System","Well/Tube Well","Rain-fed","Mixed"],eS=({onLogin:n})=>{const[e,t]=$.useState({email:"",password:"",name:""}),[i,s]=$.useState({totalLand:"",mainCrops:"",farmingSince:"",irrigationType:"",state:""}),[r,o]=$.useState(!1),[l,a]=$.useState({email:"",password:"",name:"",farming:"",submit:""}),[u,h]=$.useState(!1);$.useState(""),$.useEffect(()=>{r&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(async g=>{var b,y;try{const x=(y=(b=(await(await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${g.coords.latitude}+${g.coords.longitude}&key=YOUR_OPENCAGE_API_KEY`)).json()).results[0])==null?void 0:b.components)==null?void 0:y.state;x&&Wd.includes(x)&&s(_=>({..._,state:x}))}catch(m){console.error("Error fetching location:",m)}},g=>{console.error("Error getting location:",g)})},[r]);const d=g=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g),f=()=>!(!i.totalLand||!i.mainCrops||!i.farmingSince||!i.irrigationType||!i.state),p=g=>{const{name:b,value:y}=g.target;b in e?t(m=>({...m,[b]:y})):s(m=>({...m,[b]:y})),a(m=>({...m,submit:""})),b==="email"&&y&&a(m=>({...m,email:d(y)?"":"Please enter a valid email"})),b==="password"&&y&&a(m=>({...m,password:y.length>=6?"":"Password must be at least 6 characters"})),b==="name"&&y&&a(m=>({...m,name:y.length>=2?"":"Name must be at least 2 characters"}))},v=async g=>{if(g.preventDefault(),r&&!f()){a(b=>({...b,farming:"Please fill all farming details"}));return}if(!l.email&&!l.password&&(!r||!l.name)){h(!0),a(b=>({...b,submit:""}));try{if(r){const{error:b}=await Xt.auth.signUp({email:e.email,password:e.password,options:{data:{full_name:e.name,farming_details:i}}});if(b)throw b;n()}else{const{error:b}=await Xt.auth.signInWithPassword({email:e.email,password:e.password});if(b)throw b;n()}}catch(b){a(y=>({...y,submit:b instanceof Error?b.message:"An error occurred"}))}finally{h(!1)}}};return c.jsx("div",{className:"min-h-screen bg-[#222623] flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-md w-full space-y-8 bg-gray-900/50 p-8 rounded-xl backdrop-blur-sm border border-gray-800",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-4",children:[c.jsx("img",{src:"https://images.pexels.com/photos/2933243/pexels-photo-2933243.jpeg",alt:"Farming",className:"w-full h-full object-cover rounded-full"}),c.jsx("div",{className:"absolute -bottom-2 -right-2 bg-green-500 rounded-full p-2",children:c.jsx(yi,{className:"h-6 w-6 text-white"})})]}),c.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-100",children:"Welcome to Kissan AI"}),c.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Your smart farming companion"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[r&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-400 mb-1",children:"Full Name"}),c.jsx("input",{id:"name",name:"name",type:"text",required:r,value:e.name,onChange:p,className:"appearance-none rounded-lg relative block w-full px-3 py-2 bg-gray-800 border border-gray-700 placeholder-gray-500 text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your full name"}),l.name&&c.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.name})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-400 mb-1",children:"State"}),c.jsxs("select",{id:"state",name:"state",required:!0,value:i.state,onChange:p,className:"appearance-none rounded-lg relative block w-full px-3 py-2 bg-gray-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select your state"}),Wd.map(g=>c.jsx("option",{value:g,children:g},g))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"totalLand",className:"block text-sm font-medium text-gray-400 mb-1",children:"Total Land (in Acres)"}),c.jsx("input",{id:"totalLand",name:"totalLand",type:"number",required:!0,min:"0",step:"0.1",value:i.totalLand,onChange:p,className:"appearance-none rounded-lg relative block w-full px-3 py-2 bg-gray-800 border border-gray-700 placeholder-gray-500 text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter total land in acres"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"mainCrops",className:"block text-sm font-medium text-gray-400 mb-1",children:"Main Crops"}),c.jsx("input",{id:"mainCrops",name:"mainCrops",type:"text",required:!0,value:i.mainCrops,onChange:p,className:"appearance-none rounded-lg relative block w-full px-3 py-2 bg-gray-800 border border-gray-700 placeholder-gray-500 text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"e.g., Wheat, Rice, Cotton"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"farmingSince",className:"block text-sm font-medium text-gray-400 mb-1",children:"Farming Since (Year)"}),c.jsx("input",{id:"farmingSince",name:"farmingSince",type:"number",required:!0,min:"1900",max:new Date().getFullYear(),value:i.farmingSince,onChange:p,className:"appearance-none rounded-lg relative block w-full px-3 py-2 bg-gray-800 border border-gray-700 placeholder-gray-500 text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter year you started farming"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"irrigationType",className:"block text-sm font-medium text-gray-400 mb-1",children:"Irrigation Type"}),c.jsxs("select",{id:"irrigationType",name:"irrigationType",required:!0,value:i.irrigationType,onChange:p,className:"appearance-none rounded-lg relative block w-full px-3 py-2 bg-gray-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select irrigation type"}),Z_.map(g=>c.jsx("option",{value:g,children:g},g))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-400 mb-1",children:"Email Address"}),c.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:p,className:"appearance-none rounded-lg relative block w-full px-3 py-2 bg-gray-800 border border-gray-700 placeholder-gray-500 text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your email"}),l.email&&c.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.email})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-400 mb-1",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:e.password,onChange:p,className:"appearance-none rounded-lg relative block w-full px-3 py-2 bg-gray-800 border border-gray-700 placeholder-gray-500 text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your password"}),l.password&&c.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.password})]}),l.farming&&c.jsx("div",{className:"rounded-md bg-red-500/10 p-4",children:c.jsx("p",{className:"text-sm text-red-400",children:l.farming})}),l.submit&&c.jsx("div",{className:"rounded-md bg-red-500/10 p-4",children:c.jsx("p",{className:"text-sm text-red-400",children:l.submit})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:u,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white ${u?"bg-gray-600 cursor-not-allowed":"bg-gray-800 hover:bg-green-600"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200`,children:u?"Processing...":r?"Sign Up":"Sign In"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:()=>{o(!r),a({email:"",password:"",name:"",farming:"",submit:""})},className:"text-sm text-gray-400 hover:text-green-500 transition-colors duration-200",children:r?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})};function tS(){const[n,e]=$.useState("home"),[t,i]=$.useState(!1),[s,r]=$.useState(!1);$.useEffect(()=>{Xt.auth.getSession().then(({data:{session:h}})=>{i(!!h)});const{data:{subscription:u}}=Xt.auth.onAuthStateChange((h,d)=>{i(!!d)});return()=>u.unsubscribe()},[]);const o=()=>{i(!0)},l=async()=>{await Xt.auth.signOut(),i(!1)};if(!t)return c.jsx(eS,{onLogin:o});const a=()=>{switch(n){case"home":return c.jsx(Gc,{});case"cropHealth":return c.jsx(gx,{});case"weather":return c.jsx(vx,{});case"alerts":return c.jsx(yx,{});case"market":return c.jsx(Y_,{});case"profile":return c.jsx(bx,{onLogout:l});default:return c.jsx(Gc,{})}};return c.jsxs("div",{className:"min-h-screen bg-[#222623] text-gray-100",children:[c.jsx(mx,{activeTab:n,setActiveTab:e,isMobileMenuOpen:s,setIsMobileMenuOpen:r}),c.jsx("main",{className:"flex-1 p-4 pt-20",children:a()})]})}const R=n=>typeof n=="string",zi=()=>{let n,e;const t=new Promise((i,s)=>{n=i,e=s});return t.resolve=n,t.reject=e,t},Hd=n=>n==null?"":""+n,nS=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},iS=/###/g,Kd=n=>n&&n.indexOf("###")>-1?n.replace(iS,"."):n,qd=n=>!n||R(n),ls=(n,e,t)=>{const i=R(e)?e.split("."):e;let s=0;for(;s<i.length-1;){if(qd(n))return{};const r=Kd(i[s]);!n[r]&&t&&(n[r]=new t),Object.prototype.hasOwnProperty.call(n,r)?n=n[r]:n={},++s}return qd(n)?{}:{obj:n,k:Kd(i[s])}},Jd=(n,e,t)=>{const{obj:i,k:s}=ls(n,e,Object);if(i!==void 0||e.length===1){i[s]=t;return}let r=e[e.length-1],o=e.slice(0,e.length-1),l=ls(n,o,Object);for(;l.obj===void 0&&o.length;)r=`${o[o.length-1]}.${r}`,o=o.slice(0,o.length-1),l=ls(n,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${r}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${r}`]=t},sS=(n,e,t,i)=>{const{obj:s,k:r}=ls(n,e,Object);s[r]=s[r]||[],s[r].push(t)},fo=(n,e)=>{const{obj:t,k:i}=ls(n,e);if(t)return t[i]},rS=(n,e,t)=>{const i=fo(n,t);return i!==void 0?i:fo(e,t)},_g=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?R(n[i])||n[i]instanceof String||R(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):_g(n[i],e[i],t):n[i]=e[i]);return n},Dn=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var oS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const lS=n=>R(n)?n.replace(/[&<>"'\/]/g,e=>oS[e]):n;class aS{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const uS=[" ",",","?","!",";"],hS=new aS(20),cS=(n,e,t)=>{e=e||"",t=t||"";const i=uS.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(i.length===0)return!0;const s=hS.getRegExp(`(${i.map(o=>o==="?"?"\\?":o).join("|")})`);let r=!s.test(n);if(!r){const o=n.indexOf(t);o>0&&!s.test(n.substring(0,o))&&(r=!0)}return r},lu=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const i=e.split(t);let s=n;for(let r=0;r<i.length;){if(!s||typeof s!="object")return;let o,l="";for(let a=r;a<i.length;++a)if(a!==r&&(l+=t),l+=i[a],o=s[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&a<i.length-1)continue;r+=a-r+1;break}s=o}return s},po=n=>n&&n.replace("_","-"),dS={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class mo{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||dS,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,s){return s&&!this.debug?null:(R(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new mo(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new mo(this.logger,e)}}var pt=new mo;class Ko{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(t)||0;this.observers[i].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[l,a]=o;for(let u=0;u<a;u++)l(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,a]=o;for(let u=0;u<a;u++)l.apply(l,[e,...i])})}}class Gd extends Ko{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],i&&(Array.isArray(i)?l.push(...i):R(i)&&r?l.push(...i.split(r)):l.push(i)));const a=fo(this.data,l);return!a&&!t&&!i&&e.indexOf(".")>-1&&(e=l[0],t=l[1],i=l.slice(2).join(".")),a||!o||!R(i)?a:lu(this.data&&this.data[e]&&this.data[e][t],i,r)}addResource(e,t,i,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let l=[e,t];i&&(l=l.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(l=e.split("."),s=t,t=l[1]),this.addNamespaces(t),Jd(this.data,l,s),r.silent||this.emit("added",e,t,i,s)}addResources(e,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in i)(R(i[r])||Array.isArray(i[r]))&&this.addResource(e,t,r,i[r],{silent:!0});s.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,s,r){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),s=i,i=t,t=l[1]),this.addNamespaces(t);let a=fo(this.data,l)||{};o.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?_g(a,i,r):a={...a,...i},Jd(this.data,l,a),o.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var Sg={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,s){return n.forEach(r=>{this.processors[r]&&(e=this.processors[r].process(e,t,i,s))}),e}};const Qd={};class go extends Ko{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),nS(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=pt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return i&&i.res!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const o=i&&e.indexOf(i)>-1,l=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!cS(e,i,s);if(o&&!l){const a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:e,namespaces:R(r)?[r]:r};const u=e.split(i);(i!==s||i===s&&this.options.ns.indexOf(u[0])>-1)&&(r=u.shift()),e=u.join(s)}return{key:e,namespaces:R(r)?[r]:r}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],t),a=l[l.length-1],u=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(h){const x=t.nsSeparator||this.options.nsSeparator;return s?{res:`${a}${x}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:`${a}${x}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:o}const d=this.resolve(e,t);let f=d&&d.res;const p=d&&d.usedKey||o,v=d&&d.exactUsedKey||o,g=Object.prototype.toString.apply(f),b=["[object Number]","[object Function]","[object RegExp]"],y=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!R(f)&&typeof f!="boolean"&&typeof f!="number";if(m&&f&&w&&b.indexOf(g)<0&&!(R(y)&&Array.isArray(f))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,{...t,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(d.res=x,d.usedParams=this.getUsedParamsDetails(t),d):x}if(r){const x=Array.isArray(f),_=x?[]:{},k=x?v:p;for(const S in f)if(Object.prototype.hasOwnProperty.call(f,S)){const E=`${k}${r}${S}`;_[S]=this.translate(E,{...t,joinArrays:!1,ns:l}),_[S]===E&&(_[S]=f[S])}f=_}}else if(m&&R(y)&&Array.isArray(f))f=f.join(y),f&&(f=this.extendTranslation(f,e,t,i));else{let x=!1,_=!1;const k=t.count!==void 0&&!R(t.count),S=go.hasDefaultValue(t),E=k?this.pluralResolver.getSuffix(u,t.count,t):"",U=t.ordinal&&k?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",O=k&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),te=O&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${E}`]||t[`defaultValue${U}`]||t.defaultValue;!this.isValidLookup(f)&&S&&(x=!0,f=te),this.isValidLookup(f)||(_=!0,f=o);const Re=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_?void 0:f,be=S&&te!==f&&this.options.updateMissing;if(_||x||be){if(this.logger.log(be?"updateKey":"missingKey",u,a,o,be?te:f),r){const C=this.resolve(o,{...t,keySeparator:!1});C&&C.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let P=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let C=0;C<D.length;C++)P.push(D[C]);else this.options.saveMissingTo==="all"?P=this.languageUtils.toResolveHierarchy(t.lng||this.language):P.push(t.lng||this.language);const B=(C,T,M)=>{const W=S&&M!==f?M:Re;this.options.missingKeyHandler?this.options.missingKeyHandler(C,a,T,W,be,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(C,a,T,W,be,t),this.emit("missingKey",C,a,T,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?P.forEach(C=>{const T=this.pluralResolver.getSuffixes(C,t);O&&t[`defaultValue${this.options.pluralSeparator}zero`]&&T.indexOf(`${this.options.pluralSeparator}zero`)<0&&T.push(`${this.options.pluralSeparator}zero`),T.forEach(M=>{B([C],o+M,t[`defaultValue${M}`]||te)})}):B(P,o,te))}f=this.extendTranslation(f,e,t,d,i),_&&f===o&&this.options.appendNamespaceToMissingKey&&(f=`${a}:${o}`),(_||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${o}`:o,x?f:void 0):f=this.options.parseMissingKeyHandler(f))}return s?(d.res=f,d.usedParams=this.getUsedParamsDetails(t),d):f}extendTranslation(e,t,i,s,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const u=R(e)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const f=e.match(this.interpolator.nestingRegexp);h=f&&f.length}let d=i.replace&&!R(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,i.lng||this.language||s.usedLng,i),u){const f=e.match(this.interpolator.nestingRegexp),p=f&&f.length;h<p&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,p=new Array(f),v=0;v<f;v++)p[v]=arguments[v];return r&&r[0]===p[0]&&!i.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):o.translate(...p,t)},i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,a=R(l)?[l]:l;return e!=null&&a&&a.length&&i.applyPostProcessor!==!1&&(e=Sg.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,s,r,o,l;return R(e)&&(e=[e]),e.forEach(a=>{if(this.isValidLookup(i))return;const u=this.extractFromKey(a,t),h=u.key;s=h;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=t.count!==void 0&&!R(t.count),p=f&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),v=t.context!==void 0&&(R(t.context)||typeof t.context=="number")&&t.context!=="",g=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);d.forEach(b=>{this.isValidLookup(i)||(l=b,!Qd[`${g[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(Qd[`${g[0]}-${b}`]=!0,this.logger.warn(`key "${s}" for languages "${g.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(y=>{if(this.isValidLookup(i))return;o=y;const m=[h];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,h,y,b,t);else{let x;f&&(x=this.pluralResolver.getSuffix(y,t.count,t));const _=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(m.push(h+x),t.ordinal&&x.indexOf(k)===0&&m.push(h+x.replace(k,this.options.pluralSeparator)),p&&m.push(h+_)),v){const S=`${h}${this.options.contextSeparator}${t.context}`;m.push(S),f&&(m.push(S+x),t.ordinal&&x.indexOf(k)===0&&m.push(S+x.replace(k,this.options.pluralSeparator)),p&&m.push(S+_))}}let w;for(;w=m.pop();)this.isValidLookup(i)||(r=w,i=this.getResource(y,b,w,t))}))})}),{res:i,usedKey:s,exactUsedKey:r,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,s):this.resourceStore.getResource(e,t,i,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!R(e.replace);let s=i?e.replace:e;if(i&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const r of t)delete s[r]}return s}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}const Jl=n=>n.charAt(0).toUpperCase()+n.slice(1);class Xd{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pt.create("languageUtils")}getScriptPartFromCode(e){if(e=po(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=po(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(R(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(s=>s.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=Jl(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=Jl(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=Jl(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(r=>{if(r===s)return r;if(!(r.indexOf("-")<0&&s.indexOf("-")<0)&&(r.indexOf("-")>0&&s.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===s||r.indexOf(s)===0&&s.length>1))return r})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),R(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],r=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return R(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):R(e)&&r(this.formatLanguageCode(e)),i.forEach(o=>{s.indexOf(o)<0&&r(this.formatLanguageCode(o))}),s}}let fS=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],pS={1:n=>+(n>1),2:n=>+(n!=1),3:n=>0,4:n=>n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,5:n=>n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5,6:n=>n==1?0:n>=2&&n<=4?1:2,7:n=>n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,8:n=>n==1?0:n==2?1:n!=8&&n!=11?2:3,9:n=>+(n>=2),10:n=>n==1?0:n==2?1:n<7?2:n<11?3:4,11:n=>n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3,12:n=>+(n%10!=1||n%100==11),13:n=>+(n!==0),14:n=>n==1?0:n==2?1:n==3?2:3,15:n=>n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2,16:n=>n%10==1&&n%100!=11?0:n!==0?1:2,17:n=>n==1||n%10==1&&n%100!=11?0:1,18:n=>n==0?0:n==1?1:2,19:n=>n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3,20:n=>n==1?0:n==0||n%100>0&&n%100<20?1:2,21:n=>n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0,22:n=>n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3};const mS=["v1","v2","v3"],gS=["v4"],Yd={zero:0,one:1,two:2,few:3,many:4,other:5},vS=()=>{const n={};return fS.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:pS[e.fc]}})}),n};class yS{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=pt.create("pluralResolver"),(!this.options.compatibilityJSON||gS.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=vS(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=po(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:i,type:s});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let o;try{o=new Intl.PluralRules(i,{type:s})}catch{if(!e.match(/-|_/))return;const a=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(a,t)}return this.pluralRulesCache[r]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(s=>`${t}${s}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((s,r)=>Yd[s]-Yd[r]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):i.numbers.map(s=>this.getSuffix(e,s,t)):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,i);return s?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const r=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?r():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!mS.includes(this.options.compatibilityJSON)}}const Zd=function(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=rS(n,e,t);return!r&&s&&R(t)&&(r=lu(n,t,i),r===void 0&&(r=lu(e,t,i))),r},Gl=n=>n.replace(/\$/g,"$$$$");class wS{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=pt.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:s,prefix:r,prefixEscaped:o,suffix:l,suffixEscaped:a,formatSeparator:u,unescapeSuffix:h,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:g,nestingOptionsSeparator:b,maxReplaces:y,alwaysFormat:m}=e.interpolation;this.escape=t!==void 0?t:lS,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=r?Dn(r):o||"{{",this.suffix=l?Dn(l):a||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=f?Dn(f):p||Dn("$t("),this.nestingSuffix=v?Dn(v):g||Dn(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=y||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t&&t.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,s){let r,o,l;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const y=Zd(t,a,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,i,{...s,...t,interpolationkey:p}):y}const v=p.split(this.formatSeparator),g=v.shift().trim(),b=v.join(this.formatSeparator).trim();return this.format(Zd(t,a,g,this.options.keySeparator,this.options.ignoreJSONStructure),b,i,{...s,...t,interpolationkey:g})};this.resetRegExp();const h=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,d=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Gl(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Gl(this.escape(p)):Gl(p)}].forEach(p=>{for(l=0;r=p.regex.exec(e);){const v=r[1].trim();if(o=u(v),o===void 0)if(typeof h=="function"){const b=h(e,r,s);o=R(b)?b:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))o="";else if(d){o=r[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),o="";else!R(o)&&!this.useRawValueToEscape&&(o=Hd(o));const g=p.safeValue(o);if(e=e.replace(r[0],g),d?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=r[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,r,o;const l=(a,u)=>{const h=this.nestingOptionsSeparator;if(a.indexOf(h)<0)return a;const d=a.split(new RegExp(`${h}[ ]*{`));let f=`{${d[1]}`;a=d[0],f=this.interpolate(f,o);const p=f.match(/'/g),v=f.match(/"/g);(p&&p.length%2===0&&!v||v.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),u&&(o={...u,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${a}`,g),`${a}${h}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,a};for(;s=this.nestingRegexp.exec(e);){let a=[];o={...i},o=o.replace&&!R(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const h=s[1].split(this.formatSeparator).map(d=>d.trim());s[1]=h.shift(),a=h,u=!0}if(r=t(l.call(this,s[1].trim(),o),o),r&&s[0]===e&&!R(r))return r;R(r)||(r=Hd(r)),r||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),r=""),u&&(r=a.reduce((h,d)=>this.format(h,d,i.lng,{...i,interpolationkey:s[1].trim()}),r.trim())),e=e.replace(s[0],r),this.regexp.lastIndex=0}return e}}const xS=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(o=>{if(o){const[l,...a]=o.split(":"),u=a.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();t[h]||(t[h]=u),u==="false"&&(t[h]=!1),u==="true"&&(t[h]=!0),isNaN(u)||(t[h]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},An=n=>{const e={};return(t,i,s)=>{let r=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(r={...r,[s.interpolationkey]:void 0});const o=i+JSON.stringify(r);let l=e[o];return l||(l=n(po(i),s),e[o]=l),l(t)}};class bS{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=pt.create("formatter"),this.options=e,this.formats={number:An((t,i)=>{const s=new Intl.NumberFormat(t,{...i});return r=>s.format(r)}),currency:An((t,i)=>{const s=new Intl.NumberFormat(t,{...i,style:"currency"});return r=>s.format(r)}),datetime:An((t,i)=>{const s=new Intl.DateTimeFormat(t,{...i});return r=>s.format(r)}),relativetime:An((t,i)=>{const s=new Intl.RelativeTimeFormat(t,{...i});return r=>s.format(r,i.range||"day")}),list:An((t,i)=>{const s=new Intl.ListFormat(t,{...i});return r=>s.format(r)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=An(t)}format(e,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(l=>l.indexOf(")")>-1)){const l=r.findIndex(a=>a.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,l)].join(this.formatSeparator)}return r.reduce((l,a)=>{const{formatName:u,formatOptions:h}=xS(a);if(this.formats[u]){let d=l;try{const f=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},p=f.locale||f.lng||s.locale||s.lng||i;d=this.formats[u](l,p,{...h,...s,...f})}catch(f){this.logger.warn(f)}return d}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}const _S=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class SS extends Ko{constructor(e,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=pt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,s.backend,s)}queueLoad(e,t,i,s){const r={},o={},l={},a={};return e.forEach(u=>{let h=!0;t.forEach(d=>{const f=`${u}|${d}`;!i.reload&&this.store.hasResourceBundle(u,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,h=!1,o[f]===void 0&&(o[f]=!0),r[f]===void 0&&(r[f]=!0),a[d]===void 0&&(a[d]=!0)))}),h||(l[u]=!0)}),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(a)}}loaded(e,t,i){const s=e.split("|"),r=s[0],o=s[1];t&&this.emit("failedLoading",r,o,t),!t&&i&&this.store.addResourceBundle(r,o,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const l={};this.queue.forEach(a=>{sS(a.loaded,[r],o),_S(a,e),t&&a.errors.push(t),a.pendingCount===0&&!a.done&&(Object.keys(a.loaded).forEach(u=>{l[u]||(l[u]={});const h=a.loaded[u];h.length&&h.forEach(d=>{l[u][d]===void 0&&(l[u][d]=!0)})}),a.done=!0,a.errors.length?a.callback(a.errors):a.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(a=>!a.done)}read(e,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:s,wait:r,callback:o});return}this.readingCalls++;const l=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,s+1,r*2,o)},r);return}o(u,h)},a=this.backend[i].bind(this.backend);if(a.length===2){try{const u=a(e,t);u&&typeof u.then=="function"?u.then(h=>l(null,h)).catch(l):l(null,u)}catch(u){l(u)}return}return a(e,t,l)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();R(e)&&(e=this.languageUtils.toResolveHierarchy(e)),R(t)&&(t=[t]);const r=this.queueLoad(e,t,i,s);if(!r.toLoad.length)return r.pending.length||s(),null;r.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),s=i[0],r=i[1];this.read(s,r,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${t}loading namespace ${r} for language ${s} failed`,o),!o&&l&&this.logger.log(`${t}loaded namespace ${r} for language ${s}`,l),this.loaded(e,o,l)})}saveMissing(e,t,i,s,r){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const a={...o,isUpdate:r},u=this.backend.create.bind(this.backend);if(u.length<6)try{let h;u.length===5?h=u(e,t,i,s,a):h=u(e,t,i,s),h&&typeof h.then=="function"?h.then(d=>l(null,d)).catch(l):l(null,h)}catch(h){l(h)}else u(e,t,i,s,l,a)}!e||!e[0]||this.store.addResource(e[0],t,i,s)}}}const ef=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),R(n[1])&&(e.defaultValue=n[1]),R(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),tf=n=>(R(n.ns)&&(n.ns=[n.ns]),R(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),R(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n),br=()=>{},kS=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Ls extends Ko{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=tf(e),this.services={},this.logger=pt,this.modules={external:[]},kS(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(R(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=ef();this.options={...s,...this.options,...tf(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?pt.init(r(this.modules.logger),this.options):pt.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:typeof Intl<"u"&&(h=bS);const d=new Xd(this.options);this.store=new Gd(this.options.resources,this.options);const f=this.services;f.logger=pt,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new yS(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=r(h),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new wS(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new SS(r(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var v=arguments.length,g=new Array(v>1?v-1:0),b=1;b<v;b++)g[b-1]=arguments[b];e.emit(p,...g)}),this.modules.languageDetector&&(f.languageDetector=r(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=r(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new go(this.services,this.options),this.translator.on("*",function(p){for(var v=arguments.length,g=new Array(v>1?v-1:0),b=1;b<v;b++)g[b-1]=arguments[b];e.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,i||(i=br),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return e.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return e.store[h](...arguments),e}});const a=zi(),u=()=>{const h=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),i(d,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),a}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:br;const s=R(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const r=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&r.indexOf(u)<0&&r.push(u)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a=>o(a)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(r,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(l)})}else i(null)}reloadResources(e,t,i){const s=zi();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=br),this.services.backendConnector.reload(e,t,r=>{s.resolve(),i(r)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Sg.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const s=zi();this.emit("languageChanging",e);const r=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},o=(a,u)=>{u?(r(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return i.t(...arguments)}),t&&t(a,function(){return i.t(...arguments)})},l=a=>{!e&&!a&&this.services.languageDetector&&(a=[]);const u=R(a)?a:this.services.languageUtils.getBestMatchFromCodes(a);u&&(this.language||r(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,h=>{o(h,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,t,i){var s=this;const r=function(o,l){let a;if(typeof l!="object"){for(var u=arguments.length,h=new Array(u>2?u-2:0),d=2;d<u;d++)h[d-2]=arguments[d];a=s.options.overloadTranslationOptionHandler([o,l].concat(h))}else a={...l};a.lng=a.lng||r.lng,a.lngs=a.lngs||r.lngs,a.ns=a.ns||r.ns,a.keyPrefix!==""&&(a.keyPrefix=a.keyPrefix||i||r.keyPrefix);const f=s.options.keySeparator||".";let p;return a.keyPrefix&&Array.isArray(o)?p=o.map(v=>`${a.keyPrefix}${f}${v}`):p=a.keyPrefix?`${a.keyPrefix}${f}${o}`:o,s.t(p,a)};return R(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(l,a)=>{const u=this.services.backendConnector.state[`${l}|${a}`];return u===-1||u===0||u===2};if(t.precheck){const l=t.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(i,e)&&(!s||o(r,e)))}loadNamespaces(e,t){const i=zi();return this.options.ns?(R(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),t&&t(s)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=zi();R(e)&&(e=[e]);const s=this.options.preload||[],r=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return r.length?(this.options.preload=s.concat(r),this.loadResources(o=>{i.resolve(),t&&t(o)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new Xd(ef());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Ls(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:br;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},r=new Ls(s);return(e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(l=>{r[l]=this[l]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},i&&(r.store=new Gd(this.store.data,s),r.services.resourceStore=r.store),r.translator=new go(r.services,s),r.translator.on("*",function(l){for(var a=arguments.length,u=new Array(a>1?a-1:0),h=1;h<a;h++)u[h-1]=arguments[h];r.emit(l,...u)}),r.init(s,t),r.translator.options=s,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const xe=Ls.createInstance();xe.createInstance=Ls.createInstance;xe.createInstance;xe.dir;xe.init;xe.loadResources;xe.reloadResources;xe.use;xe.changeLanguage;xe.getFixedT;xe.t;xe.exists;xe.setDefaultNamespace;xe.hasLoadedNamespace;xe.loadNamespaces;xe.loadLanguages;function CS(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ms(n){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(n)}function NS(n,e){if(Ms(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Ms(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function jS(n){var e=NS(n,"string");return Ms(e)=="symbol"?e:e+""}function ES(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,jS(i.key),i)}}function PS(n,e,t){return e&&ES(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}var kg=[],TS=kg.forEach,LS=kg.slice;function MS(n){return TS.call(LS.call(arguments,1),function(e){if(e)for(var t in e)n[t]===void 0&&(n[t]=e[t])}),n}var nf=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,$S=function(e,t,i){var s=i||{};s.path=s.path||"/";var r=encodeURIComponent(t),o="".concat(e,"=").concat(r);if(s.maxAge>0){var l=s.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(l))}if(s.domain){if(!nf.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(s.domain)}if(s.path){if(!nf.test(s.path))throw new TypeError("option path is invalid");o+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite){var a=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(a){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},sf={create:function(e,t,i,s){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+i*60*1e3)),s&&(r.domain=s),document.cookie=$S(e,encodeURIComponent(t),r)},read:function(e){for(var t="".concat(e,"="),i=document.cookie.split(";"),s=0;s<i.length;s++){for(var r=i[s];r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(t)===0)return r.substring(t.length,r.length)}return null},remove:function(e){this.create(e,"",-1)}},OS={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var i=sf.read(e.lookupCookie);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&sf.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},RS={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=i.substring(1),r=s.split("&"),o=0;o<r.length;o++){var l=r[o].indexOf("=");if(l>0){var a=r[o].substring(0,l);a===e.lookupQuerystring&&(t=r[o].substring(l+1))}}}return t}},Ii=null,rf=function(){if(Ii!==null)return Ii;try{Ii=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Ii=!1}return Ii},zS={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&rf()){var i=window.localStorage.getItem(e.lookupLocalStorage);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&rf()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Di=null,of=function(){if(Di!==null)return Di;try{Di=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Di=!1}return Di},IS={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&of()){var i=window.sessionStorage.getItem(e.lookupSessionStorage);i&&(t=i)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&of()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},DS={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)t.push(navigator.languages[i]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},AS={name:"htmlTag",lookup:function(e){var t,i=e.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(t=i.getAttribute("lang")),t}},FS={name:"path",lookup:function(e){var t;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof i[e.lookupFromPathIndex]!="string")return;t=i[e.lookupFromPathIndex].replace("/","")}else t=i[0].replace("/","")}return t}},US={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[t]}},Cg=!1;try{document.cookie,Cg=!0}catch{}var Ng=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Cg||Ng.splice(1,1);function VS(){return{order:Ng,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var jg=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};CS(this,n),this.type="languageDetector",this.detectors={},this.init(e,t)}return PS(n,[{key:"init",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=MS(i,this.options||{},VS()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(r){return r.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(OS),this.addDetector(RS),this.addDetector(zS),this.addDetector(IS),this.addDetector(DS),this.addDetector(AS),this.addDetector(FS),this.addDetector(US)}},{key:"addDetector",value:function(t){return this.detectors[t.name]=t,this}},{key:"detect",value:function(t){var i=this;t||(t=this.options.order);var s=[];return t.forEach(function(r){if(i.detectors[r]){var o=i.detectors[r].lookup(i.options);o&&typeof o=="string"&&(o=[o]),o&&(s=s.concat(o))}}),s=s.map(function(r){return i.options.convertDetectedLanguage(r)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(t,i){var s=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||i.forEach(function(r){s.detectors[r]&&s.detectors[r].cacheUserLanguage(t,s.options)}))}}])}();jg.type="languageDetector";const BS={home:"Home",cropHealth:"Crop Health",weather:"Weather",alerts:"Alerts",profile:"Profile",market:"Market Research",edit:"Edit",save:"Save",cancel:"Cancel",logout:"Logout",loading:"Loading...",error:"Error",language:"Language"},WS={title:"Crop Health Analysis",subtitle:"Upload crop images for AI-powered health assessment and recommendations",upload:"Upload Image",uploadInstructions:"Click to upload or drag and drop",supportedFormats:"Supported formats: JPG, PNG, WEBP",selectedImage:"Selected crop image",analysisResults:"Analysis Results",analyzing:"Analyzing crop health...",analysisError:"Image analysis failed",invalidResponse:"Invalid analysis response received",fileSizeError:"Image must be under 10MB",fileTypeError:"Only JPG, PNG and WEBP formats supported",healthStatus:"Health Status",healthy:"Healthy Growth Detected",issues:"Health Issues Detected",identified:"Crop Identified As:",confidence:"confidence level",detectedIssues:"Detected Issues",probability:"probability",treatment:"Recommended Treatment",recommendations:"Recommendations",uploadPrompt:"Upload an image for AI-powered crop health analysis",tips:"Best Practices for Analysis",tip1:"Ensure clear, well-lit photos of affected areas",tip2:"Include both healthy and affected sections for comparison",tip3:"Capture multiple angles when possible",healthyRecommendations:["Maintain current care practices - crop shows optimal growth","Continue monitoring leaf color and growth patterns","Follow established irrigation and fertilization schedule"],unhealthyRecommendations:["Address identified issues promptly","Seek consultation with agricultural expert","Adjust care practices based on analysis findings"]},HS={title:"Profile",editProfile:"Edit Profile",farmingExperience:"Agricultural Experience",farmDetails:"Farm Information",totalLand:"Total Land Area",mainCrops:"Primary Crops",farmingSince:"Years in Agriculture",irrigationType:"Irrigation System",currentSeason:"Current Growing Season",cropType:"Crop Variety",sowingDate:"Planting Date",expectedHarvest:"Projected Harvest",cropHealth:"Crop Condition",name:"Full Name",phone:"Primary Contact",additionalContacts:"Additional Contacts",addNewContact:"Add contact number"},KS={header:"Agricultural Alerts",subHeader:"Stay informed with critical farming updates and recommendations",pestAlert:{title:"Pest Alert",message:"Elevated pest infestation risk detected. Implement preventive measures.",time:"2 hours ago"},weatherUpdate:{title:"Weather Alert",message:"Heavy precipitation forecast within 48 hours. Secure crops accordingly.",time:"4 hours ago"},marketAlert:{title:"Market Update",message:"Wheat prices show 10% increase in local markets.",time:"6 hours ago"},settings:{title:"Notification Preferences",weather:"Weather Alerts",pest:"Pest Warnings",market:"Market Updates",push_sms:"Push & SMS",push:"Push Only",sms:"SMS Only"}},qS={welcome:"Welcome to Your Farm Dashboard",subtitle:"Access AI-powered insights for optimal agricultural decisions",cropStatus:"Current Crop Status",cropHealthy:"Crops showing healthy development",healthyGrowth:"Optimal Growth",weatherNow:"Current Weather",weatherDesc:"Clear conditions with moderate humidity",irrigation:"Irrigation Schedule",nextIrrigation:"Next irrigation cycle in 2 hours",tips:"Agricultural Best Practices",cropRotation:"Crop Rotation",cropRotationDesc:"Implement rotation strategies to enhance soil health and reduce pest pressure",moisture:"Moisture Management",moistureDesc:"Monitor soil moisture levels for optimal irrigation timing",pestControl:"Pest Management",pestControlDesc:"Apply organic pest control methods during early growth phases"},JS={title:"Weather Forecast",subtitle:"Plan agricultural activities with precision weather data",current:"Current Conditions",forecast:"5-Day Forecast",wind:"Wind Speed",humidity:"Humidity Level",feelsLike:"Perceived Temperature",advisory:"Agricultural Advisory",morning:"Morning Operations",warning:"Weather Warning",windAdvisory:"Wind Advisory",today:"Today",tomorrow:"Tomorrow",highTemp:"Early irrigation recommended due to elevated temperatures",normalTemp:"Favorable conditions for standard agricultural operations",strongWind:"High winds expected - secure equipment and structures",noWarning:"No severe weather alerts",sprayingOk:"Conditions suitable for agricultural spraying",sprayingNo:"Delay spraying operations due to wind conditions"},GS={title:"Agricultural Market Analysis",subtitle:"Make informed decisions with comprehensive market intelligence",topPerforming:"Leading Crop Performance",marketTrends:"Market Dynamics",riskAnalysis:"Risk Assessment",profitPotential:"Revenue Potential",marketInsights:"Market Intelligence",priceHistory:"Historical Pricing",demandForecast:"Demand Projections",recommendations:"Strategic Recommendations"},QS={common:BS,cropHealth:WS,profile:HS,alerts:KS,home:qS,weather:JS,market:GS},XS={home:"",cropHealth:" ",weather:"",alerts:"",profile:"",edit:" ",save:"",cancel:" ",logout:" ",loading:"   ...",error:"",language:""},YS={title:"",editProfile:"  ",farmingExperience:" ",farmDetails:"  ",totalLand:" ",mainCrops:" ",farmingSince:"     ",irrigationType:"  ",currentSeason:" ",cropType:"  ",sowingDate:"  ",expectedHarvest:" ",cropHealth:"  "},ZS={header:"  ",subHeader:"       ",pestAlert:{title:" ",message:"            ",time:"2  "},weatherUpdate:{title:" ",message:" 48           ",time:"4  "},marketAlert:{title:"  ",message:"       10%    ",time:"6  "},settings:{title:" ",weather:" ",pest:" ",market:" ",push_sms:"  SMS",push:" ",sms:" SMS"}},ek={welcome:" , !",subtitle:"     AI-   ",cropStatus:"  ",cropHealthy:"       ",healthyGrowth:" ",weatherNow:"  ",weatherDesc:"    ",irrigation:" ",nextIrrigation:"  2    ",tips:"   ",cropRotation:" ",cropRotationDesc:"                ",moisture:" ",moistureDesc:"               ",pestControl:" ",pestControlDesc:"           "},tk={title:"  ",subtitle:"AI-             ",upload:"  ",uploadInstructions:"         ",supportedFormats:": JPG, PNG, WEBP",selectedImage:"   ",analysisResults:" ",analyzing:"       ...",analysisError:"     ",healthStatus:"  ",healthy:"    ",issues:"   ",identified:"  :",confidence:"",detectedIssues:"  ",probability:"",treatment:" ",recommendations:"",uploadPrompt:"      AI-         ",tips:"    ",tip1:"   ,      ",tip2:"          ",tip3:"        ",healthyRecommendations:["     -      ","            ","       "],unhealthyRecommendations:["         ","        ","           "]},nk={title:"  ",subtitle:"            ",current:" ",forecast:"5-  ",wind:"",humidity:"",feelsLike:"  ",advisory:" ",morning:"  ",warning:" ",windAdvisory:" ",today:"",tomorrow:"",highTemp:"           ",normalTemp:"      ",strongWind:"   -    ",noWarning:"    ",sprayingOk:"     ",sprayingNo:"       "},ik={common:XS,profile:YS,alerts:ZS,home:ek,cropHealth:tk,weather:nk},sk={home:"",cropHealth:" ",weather:"",alerts:"",profile:"",edit:" ",save:" ",cancel:" ",logout:" ",loading:"  ...",error:"",language:""},rk={title:"",editProfile:"  ",farmingExperience:" ",farmDetails:" ",totalLand:" ",mainCrops:" ",farmingSince:"   ",irrigationType:" ",currentSeason:" ",cropType:" ",sowingDate:" ",expectedHarvest:" ",cropHealth:" "},ok={header:"  ",subHeader:"      ",pestAlert:{title:" ",message:"      .   .",time:" "},weatherUpdate:{title:" ",message:"     .   .",time:" "},marketAlert:{title:" ",message:"     %   .",time:" "},settings:{title:" ",weather:" ",pest:" ",market:" ",push_sms:"  SMS",push:" ",sms:" SMS"}},lk={welcome:" , !",subtitle:"   AI-  ",cropStatus:"  ",cropHealthy:"    ",healthyGrowth:" ",weatherNow:" ",weatherDesc:"    ",irrigation:" ",nextIrrigation:"  2  ",tips:"  ",cropRotation:" ",cropRotationDesc:"          ",moisture:" ",moistureDesc:"       ",pestControl:" ",pestControlDesc:"       "},ak={title:"  ",subtitle:"AI-        ",upload:"  ",uploadInstructions:"        ",supportedFormats:": JPG, PNG, WEBP",selectedImage:"  ",analysisResults:" ",analyzing:"     ...",analysisError:"   ",healthStatus:"  ",healthy:"  ",issues:"  ",identified:" :",confidence:"",detectedIssues:" ",probability:"",treatment:"  ",recommendations:"",uploadPrompt:"    AI-      ",tips:"  ",tip1:"  ,    ",tip2:"       ",tip3:"     ",healthyRecommendations:["      -    ","        ","        "],unhealthyRecommendations:["      ","      ","         "]},uk={title:" ",subtitle:"       ",current:" ",forecast:"5- ",wind:"",humidity:"",feelsLike:"",advisory:" ",morning:" ",warning:" ",windAdvisory:" ",today:"",tomorrow:"",highTemp:"     ",normalTemp:"    ",strongWind:"   -    ",noWarning:"    ",sprayingOk:"  ",sprayingNo:"  "},hk={common:sk,profile:rk,alerts:ok,home:lk,cropHealth:ak,weather:uk};xe.use(jg).use(hx).init({resources:{en:{translation:QS},hi:{translation:ik},mr:{translation:hk}},fallbackLng:"en",interpolation:{escapeValue:!1}});wm(document.getElementById("root")).render(c.jsx($.StrictMode,{children:c.jsx(tS,{})}));export{Tg as g};
